<app-banner-top [title]="'Rules List'" [titleIcon]="'fa fa-list'"></app-banner-top>
<div class="row toolbar" style="margin:0px;">
    <button class="toolbar-button add" (click)="addRule()" [hidden]="editInProgress"><i class="fa fa-plus">&nbsp;</i>New Rule</button><span style="margin:0;padding:0" [hidden]="editInProgress">|</span>
    <button class="toolbar-button add" (click)="editRuleSet()" [hidden]="editInProgress"><i class="fa fa-edit">&nbsp;</i>Duplicate Rule</button><span style="margin:0;padding:0" [hidden]="editInProgress">|</span>
    <button class="toolbar-button edit" (click)="editRule()" [hidden]="editInProgress"><i class="fa fa-edit">&nbsp;</i>Edit Rule</button><span style="margin:0;padding:0" [hidden]="editInProgress">|</span>
    <button class="toolbar-button edit" (click)="editExecutionOrder()" [hidden]="editInProgress"><i class="fa fa-edit">&nbsp;</i>Change Execution Order</button><span style="margin:0;padding:0" [hidden]="!editInProgress">|</span>
    <button class="toolbar-button save" (click)="saveExecutionOrder()" [hidden]="!editInProgress"><i class="fa fa-edit">&nbsp;</i>Save Execution Order</button><span style="margin:0;padding:0" [hidden]="!editInProgress">|</span>
    <button class="toolbar-button save" (click)="discardChanges()" [hidden]="!editInProgress"><i class="fa fa-edit">&nbsp;</i>Discard Changes</button><span style="margin:0;padding:0" [hidden]="editInProgress">|</span>
    <button class="toolbar-button delete" [hidden]="editInProgress"><i class="fa fa-trash">&nbsp;</i>Delete Rule</button>
</div>
<div *ngIf="ruleset" class="row" style="margin-right: 1rem;margin-left:0.01rem; margin-top:3rem;">

    <div class="col-md-9">
        <fieldset>
            <legend>Rules</legend>
            <div class="container">

                <!-- <p-table [columns]="cols" [value]="users" sortMode="multiple"  [paginator]="true" [rows]="2" #dt>
                    
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                                {{col.header}}
                                <p-sortIcon [field]="col.field"></p-sortIcon>
                                <input pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
        
                            </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-user let-columns="columns">
                        <tr>
                            <td *ngFor="let col of columns">
                                {{user[col.field]}}
                            </td>
                        </tr>
                    </ng-template>
                  </p-table> -->
                <div class="col-sm-12">
                    <angular-slickgrid gridId="grid1" [data]="ruleGrid" [columnDefinitions]="columnDefinitions" [gridOptions]="gridOptions" [dataset]="dataset" gridWidth="100%" (sgOnSelectedRowsChanged)="onSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                        (onAngularGridCreated)="angularGridReady($event)">
                    </angular-slickgrid>
                </div>

            </div>
        </fieldset>
    </div>
    <div class="col-md-3">
        <fieldset>
            <legend>Ruleset Details</legend>
            <div class="input-group input-group-sm fieldset" style="display:block;margin-top:0px;">
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Code:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.Code}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Name:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.Name}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Company Id:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.ImplementationCompanyId}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Client:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.ClientCode}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Contract:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.ContractCode}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Group:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.GroupCode}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Created By:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.CreatedBy}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Created On:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.CreatedOn}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Updated By:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.LastUpdatedBy}}</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 lblw">
                        <label class="inplbl">Updated On:</label>
                    </div>
                    <div class="col-md-8">
                        <label class="inplbl">{{ruleset.LastUpdatedOn}}</label>
                    </div>
                </div>

            </div>
        </fieldset>
    </div>
</div>