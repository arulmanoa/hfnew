<div class="page-wrapper">



  <div class="page-content">
    <div class="">

      <app-loading-screen></app-loading-screen>

      <div class="row">

        <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12">
          <ul class="list-inline">
            <li class="list-inline-item subheader__main">
              <h5 class="mt-0 p-l-5 subheader__title">{{OnBoarding_Title_Label}} </h5>

              <span class="subheader__separator subheader__separator--v"></span>
              <span class="subheader__desc help-text">
                {{Label_CurrentStatus}} </span>
            </li>
          </ul>
        </div>
        <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
          <div class="text-right">
            <ul class="list-inline">

              <li class="list-inline-item" *ngIf="isReject && candidatesForm.controls.sourceType.value != 2">
                <button type="button" class="btn btn-danger" [disabled]="!disableBtn" (click)="rejectCandidate()"> <i
                    class="fa fa-ban  m-r-xs"></i> Reject
                </button>
              </li>

              <li class="list-inline-item"><button type="button" prevent-double-submit class="btn upgrade-btn"
                  id="btn_onboarding_submit" [disabled]="!disableBtn" (click)="doSaveOrSubmit('Submit')"> <i
                    class="mdi mdi-checkbox-marked-circle  m-r-xs"></i> Submit
                </button></li>

              <li class="list-inline-item"><button type="button" prevent-double-submit class="btn btn-primary"
                  [disabled]="!disableBtn" (click)="doSaveOrSubmit('onlySave')">
                  <i class="mdi mdi-content-save  m-r-xs"></i> Save
                </button></li>

              <li class="list-inline-item" *ngIf="isClose">

                <button class="btn btn-default btn-bold" prevent-double-submit tooltip="Close" (click)="confirmExit()"
                  tooltip-placement="bottom" data-original-title="" title="">
                  <i class="mdi mdi-close font-size-md"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>

      </div>




      <br>
      <!-- For candidate login it will be showing as a information bar only Candidate -->
      <div class="alert alert-light alert-elevate" *ngIf="localURL_Path">
        <div class="alert-icon"><i class="mdi mdi-information"></i></div>
        <div class="alert-text">
          <h6 class="card-title">Information Notice</h6>
          <span class="help-text"> <span class="badge badge--inline badge--pill badge--danger badge--rounded">What
              Next?</span> Please note that you can edit your information multiple times before the final submit. Once
            information submitted it
            cannot be edited. </span>
          <hr>

        </div>
      </div>

      <!-- if the action rejected by candidate it should be shown only OPS/REC -->
      <div class="alert alert-light alert-elevate" *ngIf="!localURL_Path && CandidateAcceptanceStatus">
        <div class="alert-icon"><i class="mdi mdi-information"></i></div>
        <div class="alert-text">
          <h6 class="card-title">Information Notice</h6>
          <span class="help-text"> <span class="badge badge--inline badge--pill badge--danger badge--rounded">What
              Next?</span> &nbsp; Candidate has rejected the offer for the following reason -
            <b>{{CandidateAcceptanceRejectRemarks}}</b> &nbsp;
          </span>
          <hr>

        </div>
      </div>

      <!-- If the candidate has rejected by Ops it should be shown only REC/OPS-->
      <div class="alert alert-light-danger alert-elevate" *ngIf="TransactionRemarks != null && TransactionRemarks !=''">
        <div class="alert-icon"><i class="mdi mdi-alert"></i></div>
        <div class="alert-text">
          <h6 class="card-title">Transaction Notes</h6>
          <hr>
          <span style="color: #f1646c;font-weight: 500;">{{TransactionRemarks}} - Looks like one of the
            documents does not meet the validation criteria. Please check!
            &nbsp; </span>
        </div>
      </div>

      <!-- if any required fields are empty or invalid this alert inform you for transfer and requirement flow -->
      <div class="alert alert-light-danger alert-elevate" *ngIf="invaid_fields?.length> 0">
        <div class="alert-icon"><i class="mdi mdi-alert"></i></div>
        <div class="alert-text">
          <h6 class="card-title">Error with your submission</h6>
          <hr>
          <span><b>( * ) Denotes required field. Please check the form and submit again.</b></span>
          <br>
          <span *ngFor="let item of invaid_fields"
            style="text-transform: capitalize;color: #f1646c;font-weight: 500;">{{getLetterSpace(item)}},
            &nbsp; </span>
        </div>
      </div>

      <!-- if the candidate documents are rejected by qc team it will showing only OPS/REC  -->
      <div *ngIf="isDocumentInfo || isClientApproval">
        <div class="alert alert-light alert-elevate" *ngIf="rejectedLst?.length > 0 && ApprovalStatus">
          <div class="alert-icon"><i class="mdi mdi-alert"></i></div>
          <div class="alert-text">
            <h6 class="card-title">Rejection - Overview</h6>

            <span class="help-text"> <span
                class="badge badge--inline badge--pill badge--danger badge--rounded">NOTE</span> Looks like one of the
              documents does not meet the validation criteria. Please check! </span>
            <br>
            <hr>
            <span><b>{{ApprovalRemarks}}</b></span>

            <ul class="list-style" *ngIf="rejectedLst?.length> 0">
              <li *ngFor="let rejected of rejectedLst">
                <div *ngIf="rejected.Accordion == 'Document_Details' && isDocumentInfo">
                  {{rejected.DocumentTypeName}}
                  <strong *ngIf="rejected.Remarks"> - </strong> {{rejected.Remarks}}
                </div>
                <div *ngIf="rejected.Accordion == 'Client_Approvals' && isClientApproval">
                  {{rejected.DocumentTypeName}}
                  <div *ngIf="rejected.DocumentTypeName"> - </div> {{rejected.Remarks}}
                </div>
                <div *ngIf="rejected.Accordion == 'Bank_Details' && isBankInfo">
                  {{rejected.DocumentTypeName}}
                  <div *ngIf="rejected.DocumentTypeName"> - </div> {{rejected.Remarks}}
                </div>
                <div *ngIf="rejected.Accordion == 'Family_Details' && isFamilydetails">
                  {{rejected.DocumentTypeName}}
                  <div *ngIf="rejected.DocumentTypeName"> - </div> {{rejected.Remarks}}
                </div>
                <div *ngIf="rejected.Accordion == 'Education_Details' && isAcademicInfo">
                  {{rejected.DocumentTypeName}}
                  <div *ngIf="rejected.DocumentTypeName"> - </div> {{rejected.Remarks}}
                </div>
                <div *ngIf="rejected.Accordion == 'Experience_Details' && isEmploymentInfo">
                  {{rejected.DocumentTypeName}}
                  <div *ngIf="rejected.DocumentTypeName"> - </div> {{rejected.Remarks}}
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>


      <div class="content m-b report-content">





        <div class="accordion" id="accordionExample-faq">
          <form [formGroup]="candidatesForm" onsubmit="return false;">




            <div class="card shadow-none border mb-1" *ngIf="isOnboardingInfo">

              <div class="card-header" id="headingTwo" (click)="doCheckAccordion('isOnboardingInfo')">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#onBoardingCollapse" aria-expanded="false" aria-controls="onBoardingCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        domain </i>OnBoarding Request</p>
                  </button></h5>
              </div>

              <div id="onBoardingCollapse" class="collapse show" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>

                  <div class="d-flex justify-content-center" *ngIf="ClientList.length == 0">
                    <div class="spinner-border" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>

                  </div>

                  <div class="row" *ngIf="ClientList.length > 0">
                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-4 col-md-4 col-sm-6"
                      *ngIf="this.candidatesForm.controls.requestBy"
                      [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">
                      <label class="form-label" id='requestby'>Request By <span
                          class="required">{{getRequired('requestBy')}}</span> </label>
                      <div class="form-group">
                        <div class="switch switch--horizontal">
                          <input id="radio-a" value="self" (click)="onC($event.target.value)" type="radio"
                            checked="checked" formControlName="requestBy" name="requestBy" />
                          <label for="radio-a" class="form-label"
                            style="left: -8rem;font-size: 14px;color: black !important;">Self</label>
                          <input id="radio-b" value="onbehalfof" (click)="onC($event.target.value)" type="radio"
                            formControlName="requestBy" name="requestBy" />
                          <label for="radio-b" class="form-label"
                            style="left: -2rem;font-size: 14px;color: black !important;">Proxy</label>
                          <span class="toggle-outside"><span class="toggle-inside"></span>
                          </span>
                        </div>


                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-4 col-md-4 col-sm-6"
                      *ngIf="this.candidatesForm.controls.requestFor">
                      <label class="form-label">Request For <span
                          class="required">{{getRequired('requestFor')}}</span></label>
                      <div class="form-group">
                        <div class="switch switch--horizontal" style="margin: 0 5.5rem !important">
                          <input id="radio-aa" type="radio" name="requestFor" value="OL"
                            (click)="onRequestFor($event.target.value)" checked="checked"
                            formControlName="requestFor" />
                          <label for="radio-aa" class="form-label"
                            style="left: -8rem;font-size: 14px;color: black !important;">Offer
                            Letter</label>
                          <input id="radio-bb" type="radio" name="requestFor" value="AL"
                            (click)="onRequestFor($event.target.value)" formControlName="requestFor" />
                          <label for="radio-bb" class="form-label"
                            style="left: -2rem;font-size: 14px;color: black !important;width: 10rem !important;">Appointment
                            Letter</label>
                          <span class="toggle-outside">
                            <span class="toggle-inside">
                            </span>
                          </span>
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-4 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.onboardingType">
                      <label class="form-label">Onboarding Type <span
                          class="required">{{getRequired('onboardingType')}}</span></label>
                      <div class="form-group">

                        <div class="switch switch--horizontal" style="margin: 0 3rem;">

                          <input id="radio-aa" value="flash" (click)="onOnboard($event.target.value)" type="radio"
                            formControlName="onboardingType" name="onboardingType" checked="checked" />
                          <label for="radio-aa" class="form-label"
                            style="left: -8rem;font-size: 14px;color: black !important;">Flash</label>
                          <input id="radio-bb" value="proxy" (click)="onOnboard($event.target.value)" type="radio"
                            formControlName="onboardingType" name="onboardingType" />
                          <label for="radio-bb" class="form-label"
                            style="left: -2rem;font-size: 14px;color: black !important;">Detailed</label>
                          <span class="toggle-outside">
                            <span class="toggle-inside">
                            </span>
                          </span>
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="isOnBehalfOf" [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">
                      <label class="form-label">Choose Recruiter <span class="required">*</span></label>
                      <ng-select #selectRecruiter [items]="RecruiterList" [searchable]="true"
                        placeholder="-- select a recruiter --" bindValue="UserId" bindLabel="Name"
                        formControlName="recruiterName"
                        [ngClass]="{'ng-touched': submitted && g.recruiterName.invalid }">
                        <!-- <ng-template ng-header-tmp>
                                                    <input placeholder="Search Recruiters" type="text"
                                                        class="form-control"
                                                        style="border: none;border-radius: 0px !important;background: white"
                                                        (input)="selectRecruiter.filter($event.target.value)" />
                                                </ng-template> -->
                      </ng-select>
                      <div *ngIf="submitted && g.recruiterName.invalid" class="help-block">
                        <div *ngIf="g.recruiterName.errors.required">Recruiter is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="isOnBehalfOf">
                      <label class="form-label">Remarks <span class="required"> *</span>
                        <span class="help-text m-l-5">(State reason for Proxy)</span>
                        <!-- <span
                                                        class="form__length">
                                                        {{ onBehalfRemarks.value?.length }}/20</span> -->
                      </label>

                      <input class="form-control" type="text" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" #onBehalfRemarks name="onBehalfRemarks"
                        formControlName="onBehalfRemarks"
                        [ngClass]="{'is-invalid': submitted && g.onBehalfRemarks.errors }" placeholder="Comments"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.onBehalfRemarks.errors" class="invalid-feedback">
                        <div *ngIf="g.onBehalfRemarks.errors.required">Remark is required
                        </div>
                      </div>

                    </div>

                    <!-- <ng-select [items]="ClientList" [multiple]="true" [closeOnSelect]="true" bindLabel="Name"
                                            bindValue="Id" required placeholder="testing"
                                           id="sub_category_id" name="sub_category_id"
                                            #sub_category_id="ngModel">
                                           
                                          </ng-select>
                                          <div *ngIf="fstep1.submitted && sub_category_id.invalid" class="help-block">
                                            <div *ngIf="sub_category_id.errors.required">{{'CardPost.subcategoryMandatory' | translate}}
                                            </div>
                                          </div>
                                        -->



                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.clientName"
                      [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">
                      <label class="form-label">Client <span
                          class="required">{{getRequired('clientName')}}</span></label>
                      <ng-select formControlName="clientName"
                        [ngClass]="{'ng-touched': submitted && g.clientName.invalid }" #select [items]="ClientList"
                        [searchable]="true" bindValue="Id" bindLabel="Name" placeholder="-- select a client --"
                        (change)="onChangeClient($event)">
                        <!-- <ng-template ng-header-tmp>
                                                    <input placeholder="Search Clients" type="text" class="form-control"
                                                        style="border: none;border-radius: 0px !important;background: white"
                                                        (input)="select.filter($event.target.value)" />
                                                </ng-template> -->
                      </ng-select>

                      <div *ngIf="submitted && g.clientName.invalid" class="help-block">
                        <div *ngIf="g.clientName.errors.required">Client Name is required</div>
                      </div>
                    </div>





                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.clientContract"
                      [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">
                      <label class=" form-label">Client Contract <span
                          class="required">{{getRequired('clientContract')}}</span>
                        <span class="form__length" *ngIf="isRateCardType">
                          {{RateCardTypelable}}</span></label>

                      <ng-select #select1 [items]="ClientContractList" [searchable]="true"
                        placeholder="-- select a client contract --" bindValue="Id" bindLabel="Name"
                        formControlName="clientContract"
                        [ngClass]="{'ng-touched': submitted && g.clientContract.errors }"
                        (change)="onChangeContract($event)">
                        <!-- <ng-template ng-header-tmp>
                                                    <input placeholder="Search Client Contract" type="text"
                                                        class="form-control"
                                                        style="border: none;border-radius: 0px !important;background: white"
                                                        (input)="select1.filter($event.target.value)" />
                                                </ng-template> -->
                      </ng-select>
                      <div *ngIf="submitted && g.clientContract.invalid" class="help-block">
                        <div *ngIf="g.clientContract.errors.required">Client Contract is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.mandateName"
                      [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">
                      <label class="form-label">Mandate <span
                          class="required">{{getRequired('mandateName')}}</span><span class="help-text m-l-5">(Choose
                          Mandate if sourced from
                          MINT)</span></label>
                      <ng-select #select2 [items]="MandatesList" (click)="onClickMandateAssignment($event)"
                        (data)="refreshValue($event)" [searchable]="true" placeholder="-- select a mandates --"
                        bindValue="Id" bindLabel="Code" formControlName="mandateName"
                        [ngClass]="{'ng-touched': submitted && g.mandateName.errors }">
                        <!-- <ng-template ng-header-tmp>
                                                        <input placeholder="Search Mandates" type="text" class="form-control" style="border: none;border-radius: 0px !important;background: white" (input)="select2.filter($event.target.value)" />
                                                    </ng-template> -->
                        <ng-template ng-header-tmp *ngIf="!isLoading">
                          <div class="d-flex justify-content-center">
                            <div class="spinner-border" role="status">
                              <span class="sr-only">Loading...</span>
                            </div>
                          </div>
                        </ng-template>

                      </ng-select>


                      <div *ngIf="submitted && g.mandateName.invalid" class="help-block">
                        <div *ngIf="g.mandateName.errors.required">Mandate is required</div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.candidateName && isEditMode"
                      [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">

                      <label class=" form-label">Candidate <span
                          class="required">{{getRequired('candidateName')}}</span> <span class="help-text m-l-5">(Choose
                          Candidate if sourced from
                          MINT)</span></label>
                      <ng-select #select3 [items]="CandidateList" [searchable]="true" (click)="onClickCandidate($event)"
                        (change)="onChangeCandidate($event)" placeholder="-- select a candidate --"
                        bindValue="CandidateId" bindLabel="Name" formControlName="candidateName"
                        [ngClass]="{'ng-touched': submitted && g.candidateName.errors }">
                        <!-- <ng-template ng-header-tmp>
                                                        <input placeholder="Search Candidate" type="text" class="form-control" style="border: none;border-radius: 0px !important;background: white" (input)="select3.filter($event.target.value)" />
                                                    </ng-template> -->
                        <ng-template ng-header-tmp *ngIf="isLoading">
                          <div class="d-flex justify-content-center">
                            <div class="spinner-border" role="status">
                              <span class="sr-only">Loading...</span>
                            </div>

                          </div>
                        </ng-template>
                      </ng-select>


                      <div *ngIf="submitted && g.candidateName.invalid" class="help-block">
                        <div *ngIf="g.candidateName.errors.required">Candidate Name is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.clientSPOC">

                      <label class=" form-label">
                        <ng-container *ngIf="BusinessType == 3">Client SPOC </ng-container>
                        <ng-container *ngIf="BusinessType != 3">HR SPOC </ng-container>
                        <span class="required">{{getRequired('clientSPOC')}}</span>
                        <span class="help-text m-l-5">(For further communication you have
                          to contact this person only)</span>
                      </label>
                      <ng-select #select4 [items]="ClientContactList" [searchable]="true"
                        placeholder="-- select a Client SPOC --" bindValue="Id" bindLabel="Name"
                        formControlName="clientSPOC" [ngClass]="{'ng-touched': submitted && g.clientSPOC.errors }">
                        <!-- <ng-template ng-header-tmp>
                                                    <input placeholder="Search SPOC" type="text" class="form-control"
                                                        style="border: none;border-radius: 0px !important;background: white"
                                                        (input)="select4.filter($event.target.value)" />
                                                </ng-template> -->
                      </ng-select>
                      <div *ngIf="submitted && g.clientSPOC.invalid" class="help-block">
                        <div *ngIf="g.clientSPOC.errors.required">
                          <ng-container *ngIf="BusinessType == 3">Client SPOC </ng-container>
                          <ng-container *ngIf="BusinessType != 3">HR SPOC </ng-container>
                          is required
                        </div>
                      </div>
                    </div>




                    <!-- <div class="form-group form-group-vertical col-xs-12 col-sm-6">
    
    
                                                <label class="btn btn-primary" for="my-photo-selector" style="float:left;color:white;margin-top: 8px;">
                                                    <input id="my-photo-selector" (change)="onSelectFile($event)"
                                                        type="file" style="display:none;">
                                                    Upload Photo
                                                </label> &nbsp;&nbsp;&nbsp;&nbsp;
                                                <img *ngIf="url.length" [src]="url" alt="photo" style="float:left;width:50px;height:50px;border-radius: 50%;">
                                                <div style="float:left">
                                                    <div class="row" style="margin:15px" *ngIf="url.length">
                                                        <button type="button" class="btn btn-danger" (click)="deletePhoto()" ngbTooltip="Delete Photo" style="padding:0px ! important;height: 20px"><i
                                                                class="fa fa-remove"></i></button>&nbsp;
                                                    </div>
    
                                                </div>
    
                                            </div> -->


                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      [ngStyle]="BusinessType != 3 ?{'display': 'none'} : {'display': 'block'}">
                      <label class="form-label">Source Type (Recruitment/Transfer) <span
                          class="required"></span></label>


                      <ng-select [items]="sourceTypes" placeholder="-- select Source Type --"
                        formControlName="sourceType" [ngClass]="{'ng-touched': submitted && g.sourceType.invalid }"
                        bindLabel="name" bindValue="id">
                      </ng-select>


                      <div *ngIf="submitted && g.sourceType.invalid" class="help-block">
                        <div *ngIf="g.sourceType.errors.required">Source Type is required
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.onboardingType.value ==='proxy'">
                      <label class=" form-label">Detailed Remarks <span class="required"> *
                        </span>
                        <span class="help-text m-l-5">(State reason for Detailed)</span>
                      </label>

                      <input class="form-control" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" type="text" #proxyRemarks
                        name="proxyRemarks" formControlName="proxyRemarks" pattern="[\x00-\x7F]+" [ngClass]="{
                                           'is-invalid': submitted && g.proxyRemarks.errors }" placeholder="Comments"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.proxyRemarks.errors" class="invalid-feedback">
                        <div *ngIf="g.proxyRemarks.errors.required">Detailed Remark is required
                        </div>
                      </div>
                      <div
                        *ngIf="candidatesForm.get('proxyRemarks').errors && candidatesForm.get('proxyRemarks').touched"
                        class="help-block">

                        <span *ngIf="candidatesForm.get('proxyRemarks').errors.pattern"> Entered special characters are
                          not allowed
                        </span>
                      </div>

                    </div>



                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.onApprovalType">
                      <label class="form-label">
                        <ng-container *ngIf="BusinessType == 3">Client Approval </ng-container>
                        <ng-container *ngIf="BusinessType != 3">Manager Approval </ng-container>
                      </label>
                      <div class="form-group">
                        <div class="switch switch--horizontal" style="margin: 0 5.7rem;padding-top: 0px;">
                          <input id="radio-aa" value="online" (click)="onApproval($event.target.value)" type="radio"
                            formControlName="onApprovalType" name="onApprovalType" />
                          <label for="radio-aa" class="form-label"
                            style="left: -8rem;font-size: 14px;color: black !important;">Online
                            Verify</label>
                          <input id="radio-bb" value="attachment" (click)="onApproval($event.target.value)" type="radio"
                            formControlName="onApprovalType" name="onApprovalType" checked="checked" />
                          <label for="radio-bb" class="form-label"
                            style="left: -2rem;font-size: 14px;color: black !important;">Attachment</label>
                          <span class="toggle-outside">
                            <span class="toggle-inside">
                            </span>
                          </span>
                        </div>


                      </div>

                    </div>

                    <!-- *ngIf="(accordion_info | json) != '{}'" -->
                    <div class="col-xs-12 col-sm-12"
                      *ngIf="isEmptyObject(DynamicFieldDetails) != true && isEmptyObject(this.DynamicFieldDetails) != null && isDynamicAccordionAvailable('isOnboardingInfo')">
                      <app-dynamicfieldform [col_span_size]="6" [RoleCode]="RoleCode"
                        [dynamicFieldDetails]="getDynamicAccordionFields('isOnboardingInfo')"></app-dynamicfieldform>
                    </div>


                  </div>



                </div>
              </div>

            </div>

            <div class="card shadow-none border mb-1" *ngIf="isCandidateInfo">

              <div class="card-header" id="headingTwo" (click)="doCheckAccordion('isCandidateInfo')"
                [ngClass]="{'disableDiv': !ClientContractId}">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#CandiCollapse" aria-expanded="false" aria-controls="clientCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        assignment_ind </i>Candidate Information</p>
                  </button></h5>
              </div>

              <div id="CandiCollapse" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>
                  <div class="d-flex justify-content-center" *ngIf="should_spin_onboarding">
                    <div class="spinner-border" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>

                  </div>

                  <div class="row" *ngIf="!should_spin_onboarding">



                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.firstName">
                      <label class="form-label">Name <span class="required">{{getRequired('firstName')}}</span> <span
                          class="help-text m-l-5">(as per Aadhaar Card)</span>
                        <!-- <span
                                                    class="form__length createNew"
                                                    (click)="chooseCandidate()"> + Choose Candidate</span> -->

                        <span class="form__length"> {{ firstName.value?.length }}/100</span>
                      </label>
                      <input class="form-control" type="text" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" name="firstName" pattern="[\x00-\x7F]+"
                        maxlength="100" #firstName formControlName="firstName" [ngClass]="{
                                           'is-invalid': submitted && g.firstName.errors }" placeholder="First Name"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.firstName.errors" class="invalid-feedback">
                        <div *ngIf="g.firstName.errors.required">Name is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('firstName').errors && candidatesForm.get('firstName').touched"
                        class="help-block">

                        <span *ngIf="candidatesForm.get('firstName').errors.pattern"> Entered special characters are not
                          allowed
                        </span>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.isNameChange">
                      <label class="form-label">Request for Name Change</label>
                      <!-- <div class="pretty p-switch p-fill padding-top-10">
                                                <input type="checkbox" formControlName="isNameChange" />
                                                <div class="state p-success">
                                                    <label></label>
                                                </div>
                                            </div> -->

                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" formControlName="isNameChange" />
                          <span class="el-switch-style"></span>
                        </label>
                      </div>

                    </div>


                    <div class="form-group form-group-vertical col-xs-12 col-sm-6" *ngIf="isNameChange">
                      <label class="form-label">New Name <span class="required"></span> <span class="form__length"> {{
                          newName.value?.length }}/20</span> </label>
                      <input class="form-control" type="newName" name="text" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" #newName formControlName="newName"
                        [ngClass]="{'is-invalid': submitted
                                            && g.newName.errors }" placeholder="New Name" autocomplete="none|false|no">
                      <div *ngIf="submitted && g.newName.errors" class="invalid-feedback">
                        <div *ngIf="g.newName.errors.required">New Name is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.gender">
                      <label class="form-label">Gender <span class="required">{{getRequired('gender')}}</span></label>


                      <ng-select [items]="gender" placeholder="-- select Gender --" formControlName="gender"
                        [ngClass]="{'ng-touched': submitted && g.gender.invalid }" bindLabel="name" bindValue="id">
                      </ng-select>

                      <div *ngIf="submitted && g.gender.invalid" class="help-block">
                        <div *ngIf="g.gender.errors.required">Gender is required
                        </div>
                      </div>



                    </div>
                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.email">
                      <label class="form-label">Email <span class="required">{{getRequired('email')}}</span></label>
                      <input class="form-control" type="email" name="email"
                        pattern="^\S+@(([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6})$"
                        formControlName="email" [ngClass]="{'is-invalid': submitted && g.email.errors
                                            }" placeholder="example@domain.com" autocomplete="none|false|no">

                      <div *ngIf="candidatesForm.get('email').errors && candidatesForm.get('email').touched "
                        class="help-block">
                        <div *ngIf="g.email.errors">E-Mail is required
                        </div>
                        <span *ngIf="candidatesForm.get('email').errors.pattern"> Please enter
                          valid email (pattern mismatch)
                        </span>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.mobile">
                      <label class="form-label">Mobile No. <span
                          class="required">{{getRequired('mobile')}}</span></label>
                      <div class="input-group" style="margin-top: 0px;">
                        <div class="input-group-prepend">
                          <!-- <span class="input-group-text">{{countryCode}}</span> -->
                          <button disabled tabindex="-1" class="btn btn-outline-secondary dropdown-toggle"
                            style="color: #fff; width: 90px;background-color: #6c757d;border-color: #6c757d;"
                            type="button" data-toggle="dropdown
                                           " aria-haspopup="true" aria-expanded="false">+ {{countryCode}}</button>
                          <div class="dropdown-menu" style="height: 200px;overflow-y: auto; border-radius: 0px;">
                            <a class="dropdown-item" (click)="theFunction(item)"
                              *ngFor="let item of LstcountryCode">{{item.name}}</a>
                          </div>
                        </div>
                        <input class="form-control" minlength="10"
                          style="border-top-left-radius: 0 !important;border-bottom-left-radius: 0 !important;"
                          type="text" maxlength="10" onkeypress="return /^[0-9]+$/i.test(event.key)
                                           " name="mobile" formControlName="mobile"
                          [ngClass]="{'is-invalid': submitted && g.mobile.errors }" placeholder="9876543210"
                          onpaste="return false;" autocomplete="none|false|no">
                      </div>
                      <div *ngIf="candidatesForm.get('mobile').errors && candidatesForm.get('mobile').touched "
                        class="help-block">
                        <div *ngIf="g.mobile.errors">Mobile no is required
                        </div>
                        <span *ngIf="candidatesForm.get('mobile').errors.minlength"> Mobile No
                          should be minimum 10 characters
                        </span>
                      </div>

                    </div>



                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.dateOfBirth">
                      <label class="form-label">Date of Birth <span class="required">{{getRequired('dateOfBirth')}}
                        </span> <i class="mdi mdi-information-outline" placement="right" style="cursor: pointer;"
                          ngbTooltip="Please Specify as per aadhaar, if DOB not available in aadhaar, Please specify as per PAN card."></i>
                        <span class="help-text m-l-5">(Please specify as per Aadhaar -
                          DD-MM-YYYY)</span> </label>
                      <!-- <input class="form-control" type="date" name="dateOfBirth" formControlName="dateOfBirth" [ngClass]="{'is-invalid': submitted && g.dateOfBirth.errors }" placeholder="12-12-1990" autocomplete="none|false|no"> -->
                      <input type="text" class="form-control" bsDatepicker placement="top" [maxDate]="DOBmaxDate"
                        (bsValueChange)="onChangeDOB($event)" [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY',
                                            containerClass:'theme-default' }" name="dateOfBirth"
                        formControlName="dateOfBirth" [ngClass]="{'is-invalid': submitted && g.dateOfBirth.errors }"
                        placeholder="12-12-1990" autocomplete="none|false|no">
                      <div *ngIf="submitted && g.dateOfBirth.errors" class="invalid-feedback">
                        <div *ngIf="g.dateOfBirth.errors.required">DOB is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.fatherName">
                      <label class="form-label">Father's Name <span
                          class="required">{{getRequired('fatherName')}}</span> <span class="help-text m-l-5">(Please
                          specify as per Aadhaar)</span>
                        <span class="form__length"> {{ fatherName.value?.length }}/100</span>
                      </label>
                      <input class="form-control" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" pattern="[\x00-\x7F]+" name="fatherName"
                        maxlength="100" #fatherName formControlName="fatherName" [ngClass]="{
                                           'is-invalid': submitted && g.fatherName.errors }"
                        placeholder="Father's Name" autocomplete="none|false|no">
                      <div *ngIf="submitted && g.fatherName.errors" class="invalid-feedback">
                        <div *ngIf="g.fatherName.errors.required">Father's Name is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('fatherName').errors && candidatesForm.get('fatherName').touched"
                        class="help-block">

                        <span *ngIf="candidatesForm.get('fatherName').errors.pattern"> Entered special characters are
                          not allowed
                        </span>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.MotherName">
                      <label class="form-label">Mother's Name <span
                          class="required">{{getRequired('MotherName')}}</span>
                        <span class="form__length"> {{ MotherName.value?.length }}/100</span>
                      </label>
                      <input class="form-control" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" pattern="[\x00-\x7F]+" name="MotherName"
                        maxlength="100" #MotherName formControlName="MotherName" [ngClass]="{
                                         'is-invalid': submitted && g.MotherName.errors }" placeholder="Mother's Name"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.MotherName.errors" class="invalid-feedback">
                        <div *ngIf="g.MotherName.errors.required">Mother's Name is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('MotherName').errors && candidatesForm.get('MotherName').touched"
                        class="help-block">
                        <span *ngIf="candidatesForm.get('MotherName').errors.pattern"> Entered special characters are
                          not allowed
                        </span>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.SpouseName">
                      <label class="form-label">Spouse's Name <span
                          class="required">{{getRequired('SpouseName')}}</span>
                        <span class="form__length"> {{ SpouseName.value?.length }}/100</span>
                      </label>
                      <input class="form-control" spellcheck="false"
                        onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" pattern="[\x00-\x7F]+" name="SpouseName"
                        maxlength="100" #SpouseName formControlName="SpouseName" [ngClass]="{
                                         'is-invalid': submitted && g.SpouseName.errors }" placeholder="Mother's Name"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.SpouseName.errors" class="invalid-feedback">
                        <div *ngIf="g.SpouseName.errors.required">Spouse's Name is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('SpouseName').errors && candidatesForm.get('SpouseName').touched"
                        class="help-block">
                        <span *ngIf="candidatesForm.get('SpouseName').errors.pattern"> Entered special characters are
                          not allowed
                        </span>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.nationality">
                      <label class="form-label">Nationality <span
                          class="required">{{getRequired('nationality')}}</span></label>




                      <ng-select [items]="nationality" placeholder="-- select Nationality --"
                        (change)="onChangeNationality($event)" formControlName="nationality"
                        [ngClass]="{'ng-touched': submitted && g.nationality.invalid }" bindLabel="name" bindValue="id">
                      </ng-select>
                      <div *ngIf="submitted && g.nationality.invalid" class="help-block">
                        <div *ngIf="g.nationality.errors.required">Nationality is required
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6" style="margin-bottom: 15px;"
                      *ngIf="this.candidatesForm.controls.isDifferentlyabled">
                      <label class="form-label" style="margin-top: -5px;">Is Differently
                        abled</label>
                      <div class="form-group" style="width: 15%;float: left;">

                        <!-- <div class="pretty p-switch p-fill">
                                                    <input type="checkbox" formControlName="isDifferentlyabled" />
                                                    <div class="state p-success">
                                                        <label>
                                                        </label>
                                                    </div>
                                                </div> -->

                        <div class="pretty p-switch p-fill">
                          <input type="checkbox" formControlName="isDifferentlyabled" style="margin-top: 5px;" />
                          <div class="state p-success" style="height:10px !important">
                            <label>
                            </label>
                          </div>
                        </div>
                      </div>
                      <div class="form-group" style="width: 85%;float: right;"
                        *ngIf="candidatesForm.controls.isDifferentlyabled.value == true">
                        <div class="input-group" style="width: 20%;margin-top: 5px;">
                          <input class="form-control" type="number" min="0" max="100"
                            (onkeypress)="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"
                            name="differentlyabledPercentage" formControlName="differentlyabledPercentage"
                            [ngClass]="{'is-invalid': submitted && g.differentlyabledPercentage.errors }"
                            style="border-radius: 3px 0px 0px 3px !important;" placeholder="50"
                            autocomplete="none|false|no">
                          <div class="input-group-addon">%</div>

                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.country && nonIndian">
                      <label class="form-label">Country <span class="required">{{getRequired('country')}}</span></label>

                      <ng-select [items]="CountryList_NonIndian" placeholder="-- select Country --"
                        formControlName="country" [ngClass]="{'ng-touched': submitted && g.country.invalid }"
                        bindLabel="Name" bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.country.invalid" class="help-block">
                        <div *ngIf="g.country.errors.required">Country is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.workPermitType && nonIndian">

                      <label class="form-label">WorkPermit Type <span
                          class="required">{{getRequired('workPermitType')}}</span></label>
                      <input class="form-control" type="text" name="workPermitType" formControlName="workPermitType"
                        [ngClass]="{'is-invalid': submitted && g.workPermitType.errors }" placeholder="E-Pass"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.workPermitType.errors" class="invalid-feedback">
                        <div *ngIf="g.workPermitType.errors.required">WorkPermit Type is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.isValidFrom && nonIndian">

                      <label class="form-label">WorkPermit Valid From <span
                          class="required">{{getRequired('isValidFrom')}}</span></label>
                      <input class="form-control" type="text" class="form-control" bsDatepicker placement="top" readonly
                        (bsValueChange)="onChangeWorkPermitDate($event)"
                        [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY', containerClass:'theme-default' }"
                        name="isValidFrom" formControlName="isValidFrom"
                        [ngClass]="{'is-invalid': submitted && g.isValidFrom.errors }" placeholder="12-12-1990"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.isValidFrom.errors" class="invalid-feedback">
                        <div *ngIf="g.isValidFrom.errors.required">WorkPermit Valid From is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.isValidTill && nonIndian">

                      <label class="form-label">WorkPermit Valid Till <span
                          class="required">{{getRequired('isValidTill')}}</span></label>
                      <input class="form-control" type="text" class="form-control" bsDatepicker placement="top" readonly
                        [minDate]="workPermitminDate"
                        [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY', containerClass:'theme-default' }"
                        name="isValidTill" formControlName="isValidTill"
                        [ngClass]="{'is-invalid': submitted && g.isValidTill.errors }" placeholder="12-12-1990"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.isValidTill.errors" class="invalid-feedback">
                        <div *ngIf="g.isValidTill.errors.required">WorkPermit Valid Till is required
                        </div>
                      </div>

                    </div>

                    <div class="col-xs-12 col-sm-12"
                      *ngIf="isEmptyObject(DynamicFieldDetails) != true && isEmptyObject(this.DynamicFieldDetails) != null && isDynamicAccordionAvailable('isCandidateInfo')">
                      <app-dynamicfieldform #validateChildComponentForm [col_span_size]="6" [RoleCode]="RoleCode"
                        [dynamicFieldDetails]="getDynamicAccordionFields('isCandidateInfo')"></app-dynamicfieldform>
                    </div>

                    <!-- <div class="form-group form-group-vertical col-xs-12  col-sm-12" style="text-align: center">
                                            <button class="btn btn-default btn-sm m-r-sm" onkeydown="return (event.keyCode!=13);" *ngIf="isValidateCandidate" (click)="validateCandidateInformation()">
                                                <i class="mdi mdi-account-question m-r-xs"></i>
                                                Validate Candidate
                                            </button>
                                        </div> -->





                  </div>
                </div>
              </div>

            </div>


            <div class="card shadow-none border mb-1" *ngIf="isOfferInfo">

              <div class="card-header" id="headingTwo" (click)="doCheckAccordion('isOfferInfo')"
                [ngClass]="{'disableDiv': !ClientContractId}">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#OfferCollapse" aria-expanded="false" aria-controls="OfferCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        receipt</i>Offer Information</p>
                  </button></h5>
              </div>

              <div id="OfferCollapse" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample-faq">
                <div class="card-body">
                  <div *ngIf="previewCTC">
                    <span class="help-text"> <span
                        class="badge badge--inline badge--pill badge--danger badge--rounded">NOTE</span> CTC breakup
                      will be based on the below mentioned fields. Changing any existing value
                      of these fields would void your calculated breakup, and hence you must re-calculate the breakup by
                      clicking on 'View Salary Breakup' button </span>
                    <br>

                    <span class="help-text extra-help-text block-center"> <span class="dot"></span> &nbsp; Industry
                      Type, Location, Skill Category, Zone, Salary Type, Salary, Pay Structure, On-Cost Insurance
                    </span>
                  </div>
                  <br>
                  <div class="d-flex justify-content-center" *ngIf="should_spin_onboarding">
                    <div class="spinner-border" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>

                  </div>

                  <div class="row" *ngIf="!should_spin_onboarding">



                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.location">
                      <label class="form-label"> Location<span class="required">{{getRequired('location')}}</span> <span
                          class="form__length createNew" *ngIf="!StateName" (click)="createNew()"> + Create New</span>
                        <span class="form__length">
                          {{CityName}}, {{StateName}} </span></label>


                      <ng-select [items]="ClientLocationList" (change)="onChangeOfferLocation($event)"
                        placeholder="-- select location --" formControlName="location"
                        [ngClass]="{'ng-touched':submitted &&  g.location.errors }" bindLabel="LocationName"
                        bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.location.invalid" class="help-block">
                        <div *ngIf="g.location.errors.required">Location is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.industryType">
                      <label class="form-label">Industry <span
                          class="required">{{getRequired('industryType')}}</span></label>


                      <ng-select [items]="IndustryList" (change)="onChangeIndustryType($event)"
                        placeholder="-- select industry --" formControlName="industryType"
                        [ngClass]="{'ng-touched': submitted &&  g.industryType.errors }" bindLabel="Name"
                        bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.industryType.invalid" class="help-block">
                        <div *ngIf="g.industryType.errors.required">Industry is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.skillCategory">
                      <label class="form-label">Skill Category<span
                          class="required">{{getRequired('skillCategory')}}</span></label>


                      <ng-select #skill [items]="SkillCategoryList" [maxSelectedItems]="6"
                        placeholder="-- select skill Category --"
                        (change)="onFocus_OfferAccordion(this.candidatesForm.controls.skillCategory.value, 'skillCategory')"
                        formControlName="skillCategory" [ngClass]="{'ng-touched': submitted && g.skillCategory.errors }"
                        bindLabel="Name" bindValue="Id">
                      </ng-select>


                      <div *ngIf="submitted && g.skillCategory.invalid" class="help-block">
                        <div *ngIf="g.skillCategory.errors.required">Skill Category is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.designation">
                      <label class="form-label">Designation <span
                          class="required">{{getRequired('designation')}}</span></label>
                      <input class="form-control" type="text" name="designation" formControlName="designation"
                        pattern="[\x00-\x7F]+" onkeydown="return (event.keyCode!=13);"
                        [ngClass]="{'is-invalid': submitted && g.designation.errors }" placeholder="Software Engineer"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.designation.errors" class="invalid-feedback">
                        <div *ngIf="g.designation.errors.required">Designation is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('designation').errors && candidatesForm.get('designation').touched"
                        class="help-block">

                        <span *ngIf="candidatesForm.get('designation').errors.pattern"> Entered special characters are
                          not allowed
                        </span>
                      </div>


                      <div *ngIf="asciiCount==1" class="help-block">
                        <div>
                          {{asciiKey}} This character not allowed
                        </div>

                      </div>
                      <div *ngIf="asciiCount>1" class="help-block">
                        <div>
                          Entered special characters are not allowed
                        </div>

                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.zone">
                      <label class="form-label">Zone <span class="required">{{getRequired('zone')}}</span></label>
                      <ng-select #skill [items]="ZoneList" placeholder="-- select zone --" formControlName="zone"
                        [ngClass]="{'ng-touched': submitted && g.zone.errors }" bindLabel="Name" bindValue="Id"
                        (change)="onFocus_OfferAccordion(this.candidatesForm.controls.zone.value, 'zone')">
                      </ng-select>
                      <div *ngIf="submitted && g.zone.invalid" class="help-block">
                        <div *ngIf="g.zone.errors.required">Zone is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.salaryType">
                      <label class="form-label">Salary Type <span
                          class="required">{{getRequired('salaryType')}}</span></label>



                      <ng-select [items]="salaryType" placeholder="-- select salary Type --"
                        formControlName="salaryType" [ngClass]="{'ng-touched': submitted && g.salaryType.errors }"
                        bindLabel="name" bindValue="id" (change)="onChangeSalary($event)">
                      </ng-select>


                      <div *ngIf="submitted && g.salaryType.invalid" class="help-block">
                        <div *ngIf="g.salaryType.errors.required">Salary Type is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-4 col-sm-6"
                      *ngIf="this.candidatesForm.controls.forMonthlyValue">
                      <label class="form-label" id='forMonthlyValue'>Do you want to specify
                        Monthly Salary? </label>

                      <div class="pretty p-switch p-fill padding-top-10">
                        <input type="checkbox" value="yes" formControlName="forMonthlyValue" />
                        <div class="state p-success " style='height:20px !important'>
                          <label></label>
                        </div>
                      </div>

                      <!-- <div class="pretty p-switch p-fill padding-top-10">
                                                <input type="checkbox" value="yes" formControlName="forMonthlyValue" />
                                                <div class="state p-success">
                                                    <label></label>
                                                </div>
                                            </div> -->
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.annualSalary && this.candidatesForm.controls.forMonthlyValue.value == false">
                      <label class="form-label">Annual Salary <span
                          class="required">{{getRequired('annualSalary')}}</span>
                        <!-- <span class="form__length">
                                                    {{this.candidatesForm.controls.annualSalary.value}}
                                                </span> -->
                      </label>
                      <input class="form-control" type="number" maxlength="10"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" name="annualSalary"
                        formControlName="annualSalary" [ngClass]="{'is-invalid': submitted && g.annualSalary.errors }"
                        (keyup)="onChangeAnnaulSalary($event.target.value)" placeholder="500000"
                        autocomplete="none|false|no">
                      <!-- <span class="form__length">
                                                    {{salaryInwords}}</span> -->
                      <div *ngIf="submitted && g.annualSalary.errors" class="invalid-feedback">
                        <div *ngIf="g.annualSalary.errors.required">Annual Salary is required
                        </div>
                      </div>
                      <div *ngIf="SalaryFormat == 0" class="help-block">
                        <div> Annual Salary should be greater than zero
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.MonthlySalary && this.candidatesForm.controls.forMonthlyValue.value == true">
                      <label class="form-label">Monthly Salary <span
                          class="required">{{getRequired('MonthlySalary')}}</span>
                        <!-- <span class="form__length">
                                                    {{this.candidatesForm.controls.MonthlySalary.value}}
                                                </span> -->
                      </label>
                      <input class="form-control" type="text" maxlength="10"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" name="MonthlySalary"
                        formControlName="MonthlySalary" [ngClass]="{'is-invalid': submitted && g.MonthlySalary.errors }"
                        placeholder="50000" (keyup)="onChangeMonthlySalary($event.target.value)"
                        autocomplete="none|false|no">
                      <!-- <span class="form__length">
                                                    {{salaryInwords}}</span> -->
                      <div *ngIf="submitted && g.MonthlySalary.errors" class="invalid-feedback">
                        <div *ngIf="g.MonthlySalary.errors.required">Monthly Salary is required
                        </div>
                      </div>
                      <div *ngIf="this.candidatesForm.controls.MonthlySalary.value == 0" class="help-block">
                        <div> Monthly Salary should be greater than zero
                        </div>
                      </div>
                    </div>




                    <div class="form-group form-group-vertical col-xs-12  col-sm-6" *ngIf="isRateCardType">
                      <label class="form-label">Monthly Billing Amount <span class="required">*</span>
                        <span class="form__length">
                          {{MonthlySalaryFormat}}
                        </span>
                      </label>
                      <input class="form-control" type="text" maxlength="10"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" name="monthlyAmount"
                        formControlName="monthlyAmount" [ngClass]="{'is-invalid': submitted && g.monthlyAmount.errors }"
                        (keyup)="onChangeMonthlyAmount($event.target.value)" placeholder="500000"
                        autocomplete="none|false|no">
                      <!-- <span class="form__length">
                                                        {{salaryInwords}}</span> -->
                      <div *ngIf="submitted && g.monthlyAmount.errors" class="invalid-feedback">
                        <div *ngIf="g.monthlyAmount.errors.required">Monthly Billing Amount is required
                        </div>
                      </div>
                      <div *ngIf="MonthlySalaryFormat == 0" class="help-block">
                        <div> Amount should be greater than zero
                        </div>
                      </div>
                      <div *ngIf="((SalaryFormat/12) > MonthlySalaryFormat)" class="help-block">
                        <div> Please ensure that the Monthly billing amount is more than the monthly salary
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.paystructure">
                      <label class="form-label">Pay Structure <span
                          class="required">{{getRequired('paystructure')}}</span></label>
                      <ng-select [items]="PayGroupList" placeholder="-- select an option --" bindValue="PayGroupId"
                        bindLabel="Name" formControlName="paystructure" (change)="onChangePayGroup($event)"
                        [ngClass]="{'ng-touched': submitted && g.paystructure.errors }">

                      </ng-select>


                      <div *ngIf="submitted && g.paystructure.invalid" class="help-block">
                        <div *ngIf="g.paystructure.errors.required">Pay Structure is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.letterTemplate && candidatesForm.controls.requestFor.value =='OL'">
                      <label class="form-label">Letter Template <span
                          class="required">{{getRequired('letterTemplate')}}</span></label>
                      <ng-select [items]="LetterTemplateListOL" placeholder="-- select an option --"
                        formControlName="letterTemplate"
                        [ngClass]="{'ng-touched': submitted && g.letterTemplate.errors }" bindLabel="Name"
                        bindValue="TemplateId">
                      </ng-select>
                      <div *ngIf="submitted && g.letterTemplate.invalid" class="help-block">
                        <div *ngIf="g.letterTemplate.errors.required">Letter Template is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.expectedDOJ && candidatesForm.controls.requestFor.value =='OL'">
                      <label class="form-label">Expected DOJ <span
                          class="required">{{getRequired('expectedDOJ')}}</span></label>
                      <input type="text" onkeydown="return (event.keyCode!=13);" class="form-control"
                        (ngModelChange)="onChangeDOJ($event)" bsDatepicker placement="top" [minDate]="DOJminDate"
                        [maxDate]="DOJmaxDate"
                        [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY', containerClass:'theme-default' }"
                        name="expectedDOJ" formControlName="expectedDOJ"
                        [ngClass]="{'is-invalid': submitted && g.expectedDOJ.errors }" placeholder="12-12-2020"
                        autocomplete="none|false|no" readonly>
                      <div *ngIf="submitted && g.expectedDOJ.errors" class="invalid-feedback">
                        <div *ngIf="g.expectedDOJ.errors.required">Expected DOJ is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.tenureType">
                      <label class="form-label">Tenure Type <span
                          class="required">{{getRequired('tenureType')}}</span></label>

                      <ng-select [items]="tenureType" placeholder="-- select tenure Type --"
                        formControlName="tenureType" [ngClass]="{'ng-touched': submitted && g.tenureType.errors }"
                        bindLabel="name" bindValue="id" (change)="onChangeTenureType($event)">
                      </ng-select>



                      <div *ngIf="submitted && g.tenureType.invalid" class="help-block">
                        <div *ngIf="g.tenureType.errors.required">Tenure Type is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.tenureMonth && candidatesForm.controls.tenureType.value == 2">
                      <label class="form-label">Tenure Month<span class="required">*</span></label>


                      <input class="form-control" type="text" name="tenureMonth" maxlength="2"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" formControlName="tenureMonth"
                        [ngClass]="{'is-invalid': submitted && g.tenureMonth.errors }" placeholder="12"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.tenureMonth.errors" class="invalid-feedback">
                        <div *ngIf="g.tenureMonth.errors.required">Tenure Month is required
                        </div>
                      </div>
                      <div
                        *ngIf="candidatesForm.get('tenureMonth').touched && candidatesForm.controls.tenureMonth.value == 0"
                        class="help-block">
                        <div>'Tenure Month' must be greater than zero
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.tenureEndate &&  candidatesForm.controls.tenureType.value == 1">
                      <label class="form-label">Tenure End-date <span class="required">*</span></label>
                      <input class="form-control" type="text" class="form-control" [minDate]="TenureminDate"
                        bsDatepicker placement="top"
                        [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY', containerClass:'theme-default' }"
                        name="tenureEndate" formControlName="tenureEndate"
                        [ngClass]="{'is-invalid': submitted && g.tenureEndate.errors }" placeholder="12-12-2020"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.tenureEndate.errors" class="invalid-feedback">
                        <div *ngIf="g.tenureEndate.errors.required">Tenure End-date is required
                        </div>
                      </div>
                    </div>


                    <!-- <div class="form-group form-group-vertical col-xs-12  col-sm-6" *ngIf="this.candidatesForm.controls.insurance">
                                                <label class="form-label">Insurance <span class="required">*</span></label>
    
                                                <ng-select [items]="insurance" placeholder="-- select Insurance --" class="form-control" formControlName="insurance" [ngClass]="{'is-invalid': submitted && g.insurance.errors }" bindLabel="name" bindValue="id">
                                                </ng-select>
    
    
    
                                                <div *ngIf="submitted && g.insurance.errors" class="invalid-feedback">
                                                    <div *ngIf="g.insurance.errors.required">Insurance is required
                                                    </div>
                                                </div>
                                            </div> -->


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label">Insurance Plan<span class="required"></span>
                      </label>
                      <ng-select [items]="InsuranceList" placeholder="-- select an option --"
                        formControlName="insuranceplan" [ngClass]="{'ng-touched': submitted && g.insuranceplan.errors }"
                        bindLabel="Name" bindValue="Id" (change)="onChangeInsurancePlan($event)">
                      </ng-select>
                      <div *ngIf="submitted && g.insuranceplan.errors" class="invalid-feedback">
                        <div *ngIf="submitted && g.insuranceplan.invalid" class="help-block">
                          <div *ngIf="g.insuranceplan.errors.required">Insurance Plan is required
                          </div>
                        </div>
                      </div>
                    </div>



                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.onCostInsuranceAmount">
                      <label class="form-label">Oncost - Insurance Amt <span
                          class="required">{{getRequired('onCostInsuranceAmount')}}</span>
                      </label>
                      <input class="form-control" type="number" name="onCostInsuranceAmount"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" formControlName="onCostInsuranceAmount"
                        [ngClass]="{'is-invalid': submitted && g.onCostInsuranceAmount.errors }" placeholder="456"
                        autocomplete="none|false|no"
                        (change)="onFocus_OfferAccordion(this.candidatesForm.controls.onCostInsuranceAmount.value, 'onCostInsuranceAmount')">
                      <div *ngIf="submitted && g.onCostInsuranceAmount.errors" class="invalid-feedback">
                        <div *ngIf="g.onCostInsuranceAmount.errors.required">OnCost Insurance Amount is required
                        </div>
                      </div>
                      <!-- <div *ngIf="candidatesForm.get('onCostInsuranceAmount').touched && candidatesForm.controls.onCostInsuranceAmount.value == 0" class="help-block">
                                                Oncost Insurance Amount should be greater than zero

                                            </div> -->
                    </div>





                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.fixedDeductionAmount">
                      <label class="form-label">Fixed Deduction - Insurance Amt <span
                          class="required">{{getRequired('fixedDeductionAmount')}}</span>
                      </label>
                      <input class="form-control" type="number" name="fixedDeductionAmount"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" formControlName="fixedDeductionAmount"
                        [ngClass]="{'is-invalid': submitted && g.fixedDeductionAmount.errors }" placeholder="456"
                        autocomplete="none|false|no"
                        (change)="onFocus_OfferAccordion(this.candidatesForm.controls.fixedDeductionAmount.value, 'fixedDeductionAmount')">
                      <div *ngIf="submitted && g.fixedDeductionAmount.errors" class="invalid-feedback">
                        <div *ngIf="g.fixedDeductionAmount.errors.required">Fixed Deduction Amount for insurance is
                          required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label">GMC <span class="required">{{getRequired('Gmc')}}</span>
                      </label>
                      <input class="form-control" type="number" name="Gmc"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" formControlName="Gmc"
                        [ngClass]="{'is-invalid': submitted && g.Gmc.errors }" placeholder="150000"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.Gmc.errors" class="invalid-feedback">
                        <div *ngIf="g.Gmc.errors.required">GMC Amount is required
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label">GPA <span class="required">{{getRequired('Gpa')}}</span>
                      </label>
                      <input class="form-control" type="number" name="Gpa"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" formControlName="Gpa"
                        [ngClass]="{'is-invalid': submitted && g.Gpa.errors }" placeholder="300000"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.Gpa.errors" class="invalid-feedback">
                        <div *ngIf="g.Gpa.errors.required">GPA Amount is required
                        </div>
                      </div>

                    </div>


                    <!-- <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                                            <label class="form-label">Notice Period <span
                                                                class="required">{{getRequired('NoticePeriod')}}</span>
                                                        </label>
                                            <input class="form-control" type="number" maxlength="2" name="NoticePeriod" onkeypress="return /^[0-9]+$/i.test(event.key)" formControlName="NoticePeriod" [ngClass]="{'is-invalid': submitted && g.NoticePeriod.errors }" placeholder="30" autocomplete="off">
                                            <div *ngIf="submitted && g.NoticePeriod.errors" class="invalid-feedback">
                                                <div *ngIf="g.NoticePeriod.errors.required">Notice Period is required
                                                </div>
                                            </div>

                                        </div> -->


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label">Notice Period <span
                          class="required">{{getRequired('NoticePeriod')}}</span>
                      </label>
                      <ng-select [items]="NoticePeriodDaysList" placeholder="-- select an option --"
                        formControlName="NoticePeriod" [ngClass]="{'ng-touched': submitted && g.NoticePeriod.errors }"
                        bindLabel="Name" bindValue="Description">
                      </ng-select>
                      <div *ngIf="submitted && g.NoticePeriod.errors" class="invalid-feedback">
                        <div *ngIf="submitted && g.NoticePeriod.invalid" class="help-block">
                          <div *ngIf="g.NoticePeriod.errors.required">NoticePeriod is required
                          </div>
                        </div>
                      </div>

                    </div>



                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value =='AL'">
                      <label class="form-label">Actual DOJ <span class="required">*</span></label>
                      <input class="form-control" onkeydown="return (event.keyCode!=13);" name="ActualDOJ"
                        (ngModelChange)="onChangeDOJ($event)" [minDate]="ActualDOJminDate" [maxDate]="ActualDOJmaxDate"
                        formControlName="ActualDOJ" bsDatepicker placement="top"
                        [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY', containerClass:'theme-default' }"
                        placeholder="01-01-2000" [ngClass]="{'is-invalid': submitted && g.ActualDOJ.errors }"
                        type="text" autocomplete="none|false|no" readonly>
                      <div *ngIf="submitted && g.ActualDOJ.errors" class="invalid-feedback">
                        <div *ngIf="g.ActualDOJ.errors.required">Actual DOJ is required
                        </div>
                      </div>
                    </div>
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value ==='AL'">
                      <label class="form-label ">Team Name <span class="required">*</span> <span class="form__length">
                          {{PayCycleDetails}}
                        </span></label>

                      <ng-select [items]="TeamList" placeholder="-- select on option --"
                        (change)="onChangeTeam($event ,'DOM')" formControlName="TeamId"
                        [ngClass]="{'ng-touched': submitted && g.TeamId.errors }" bindLabel="code" bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.TeamId.invalid" class="help-block">
                        <div *ngIf="g.TeamId.errors.required">Team Name is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value ==='AL'">
                      <label class="form-label ">Effective Pay Period <span class="required">*</span> </label>

                      <ng-select [items]="EffectivePayPeriodList" placeholder="-- select on option --"
                        formControlName="EffectivePayPeriod"
                        [ngClass]="{'ng-touched': submitted && g.EffectivePayPeriod.errors }"
                        bindLabel="PayCyclePeriodName" bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.EffectivePayPeriod.invalid" class="help-block">
                        <div *ngIf="g.EffectivePayPeriod.errors.required">Effective Pay Period is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label ">Reporting Manager </label>
                      <ng-select [items]="ManagerList" placeholder="-- select on option --" formControlName="ManagerId"
                        [ngClass]="{'ng-touched': submitted && g.ManagerId.errors }" bindLabel="ManagerName"
                        bindValue="ManagerId">
                      </ng-select>

                      <div *ngIf="submitted && g.ManagerId.invalid" class="help-block">
                        <div *ngIf="g.ManagerId.errors.required">Reporting Manager is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value ==='AL'">
                      <label class="form-label ">Leave Group </label>

                      <ng-select [items]="LeaveGroupList" placeholder="-- select on option --"
                        formControlName="LeaveGroupId" [ngClass]="{'ng-touched': submitted && g.LeaveGroupId.errors }"
                        bindLabel="Name" bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.LeaveGroupId.invalid" class="help-block">
                        <div *ngIf="g.LeaveGroupId.errors.required">Leave Group is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value ==='AL' && BusinessType == 3">
                      <label class="form-label ">Business Cost Code <span class="required">*</span> </label>

                      <ng-select [items]="CostCodeList" placeholder="-- select on option --"
                        formControlName="CostCodeId" [ngClass]="{'ng-touched': submitted && g.CostCodeId.errors }"
                        bindLabel="CostCodeName" bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.CostCodeId.invalid" class="help-block">
                        <div *ngIf="g.CostCodeId.errors.required">Cost Code is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value ==='AL'">
                      <label class="form-label">Letter Template <span class="required">*</span></label>
                      <ng-select [items]="LetterTemplateListAL" placeholder="-- select an option --"
                        formControlName="AppointmentLetterTemplateId"
                        [ngClass]="{'ng-touched': submitted && g.AppointmentLetterTemplateId.errors }" bindLabel="Name"
                        bindValue="TemplateId">
                      </ng-select>
                      <div *ngIf="submitted && g.AppointmentLetterTemplateId.invalid" class="help-block">
                        <div *ngIf="g.AppointmentLetterTemplateId.errors.required">Letter Template is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="candidatesForm.controls.requestFor.value ==='AL'">
                      <label class="form-label ">Employment Type <span class="required">*</span></label>

                      <ng-select [items]="EmploymentTypeList" placeholder="-- select on option --"
                        formControlName="employmentType"
                        [ngClass]="{'ng-touched': submitted && g.employmentType.errors }" bindLabel="Name"
                        bindValue="Id">
                      </ng-select>

                      <div *ngIf="submitted && g.employmentType.invalid" class="help-block">
                        <div *ngIf="g.employmentType.errors.required">Employment Type is required
                        </div>
                      </div>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label">CC E-mail's <i class="mdi mdi-information-outline" placement="right"
                          style="cursor: pointer;"
                          ngbTooltip="Enter the email addresses of the users you want to send. More than one email can be entered, seperated by comma or space."></i><span
                          class="help-text m-l-5">(Please separate email ids using
                          comma)</span> </label>

                      <div class="editor-tag" (click)="focusTagInput()">
                        <span class="tag-item" *ngFor="let tag of ccmailtags">
                          {{tag}}
                          <span class="remove-tag" (click)="removeTag(tag)"></span>
                        </span>
                        <input class="form-control" onkeydown="return (event.keyCode!=13);"
                          class="input-tag input_border"
                          pattern="^\S+@(([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6})$" type="text"
                          name="ccemail" formControlName="ccemail"
                          [ngClass]="{'is-invalid': submitted && g.ccemail.errors }" placeholder="example@domain.com"
                          autocomplete="none|false|no" style="width: 100%;" #tagInput (keyup)="onKeyUp($event)"
                          (change)="onchangeCC($event)">
                      </div>
                      <div *ngIf="submitted && g.ccemail.errors" class="invalid-feedback">
                        <div *ngIf="g.ccemail.errors.required">CC E-mail is required
                        </div>
                      </div>
                      <div class="help-block" *ngIf="CCemailMismatch">Please type your e-mail address in the format
                        example@domain.com
                      </div>


                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6">
                      <label class="form-label">Remarks </label>
                      <input class="form-control" type="text" onkeydown="return (event.keyCode!=13);"
                        pattern="[\x00-\x7F]+" name="Remarks" formControlName="Remarks"
                        [ngClass]="{'is-invalid': submitted && g.Remarks.errors }" placeholder="Type something here..."
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.Remarks.errors" class="invalid-feedback">
                        <div *ngIf="g.Remarks.errors.required">Remarks is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('Remarks').errors && candidatesForm.get('Remarks').touched"
                        class="help-block">

                        <span *ngIf="candidatesForm.get('Remarks').errors.pattern"> Entered special characters are not
                          allowed
                        </span>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="this.candidatesForm.controls.onboardingType.value =='proxy' && this.candidatesForm.controls.requestFor.value =='OL'">
                      <label class="form-label">Is Candidate acceptance required for OL</label>
                      <label style="font-size: 12px !important;">(Note:This value will not be persisted. If required,
                        please enable before submitting)
                      </label>
                      <!-- <div class="pretty p-switch p-fill">
                                                <input type="checkbox" name="isOLcandidateacceptance" formControlName="isOLcandidateacceptance" />
                                                <div class="state p-success">
                                                    <label> </label>
                                                </div>
                                            </div> -->

                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" name="isOLcandidateacceptance"
                            formControlName="isOLcandidateacceptance" />
                          <span class="el-switch-style"></span>
                        </label>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                      *ngIf="candidatesForm.controls.onboardingType.value ==='proxy' && candidatesForm.controls.requestFor.value ==='AL'">
                      <label class="form-label">Is Candidate Acceptance required for AL</label>
                      <label style="font-size: 12px !important;">(Note:This value will not be persisted. If required,
                        please enable before submitting)
                      </label>
                      <!-- <div class="pretty p-switch p-fill">
                                                <input type="checkbox" name="isAlaccept" formControlName="isAlaccept" />
                                                <div class="state p-success">
                                                    <label> </label>
                                                </div>
                                            </div> -->


                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" name="isAlaccept" formControlName="isAlaccept" />
                          <span class="el-switch-style"></span>

                        </label>

                      </div>
                    </div>

                    <div class="col-xs-12 col-sm-12"
                      *ngIf="isEmptyObject(DynamicFieldDetails) != true && isEmptyObject(this.DynamicFieldDetails) != null && isDynamicAccordionAvailable('isOfferInfo')">
                      <app-dynamicfieldform [col_span_size]="6" [RoleCode]="RoleCode"
                        [dynamicFieldDetails]="getDynamicAccordionFields('isOfferInfo')"></app-dynamicfieldform>
                    </div>


                    <div class="form-group form-group-vertical col-xs-12  col-sm-12" style="text-align: center">
                      <button class="btn btn-default btn-sm m-r-sm" onkeydown="return (event.keyCode!=13);"
                        *ngIf="previewLetter" (click)="PreviewLetter()">
                        <i class="mdi mdi-file-send m-r-xs"></i>
                        Preview Letter
                      </button>


                      <button class="btn btn-default btn-sm m-r-sm" onkeydown="return (event.keyCode!=13);"
                        *ngIf="previewCTC" (click)="PreviewCTC()">
                        <!-- <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ></span> -->

                        <i class="mdi mdi-file-check m-r-xs"></i>
                        View Salary Breakup
                      </button>

                    </div>




                  </div>
                </div>
              </div>

            </div>

            <div class="card shadow-none border mb-1" *ngIf="isCommunicationdetails">

              <div class="card-header" id="headingTwo" (click)="doCheckAccordion('isCommunicationdetails')">
                <h5 class="my-0"><button prevent-double-submit class="btn btn-link ml-4 collapsed" type="button"
                    data-toggle="collapse" data-target="#CommunicationCollapse" aria-expanded="false"
                    aria-controls="CommunicationCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        message </i>Communication Details</p>
                  </button></h5>
              </div>

              <div id="CommunicationCollapse" class="collapse" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>
                  <div class="d-flex justify-content-center" *ngIf="should_spin_onboarding">
                    <div class="spinner-border" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>

                  </div>





                  <div class="row" *ngIf="!should_spin_onboarding">
                    <div class="col-xs-12  col-sm-6">

                    </div>

                    <div class="col-xs-12  col-sm-6">
                      <div class="row" style="margin: 0px;  margin-top: -10px; margin-bottom: 19px;"
                        *ngIf="!should_spin_onboarding">
                        <div class="col-xs-12">
                          <div class="pretty p-svg p-curve">
                            <input type="checkbox" value="yes" #isSameAddress id="isSameAddress"
                              (change)="onSameAddressPresentChanged(isSameAddress.checked)" />
                            <div class="state p-success">

                              <svg class="svg svg-icon" viewBox="0 0 20 20">
                                <path
                                  d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z"
                                  style="stroke: white;fill:white;"></path>
                              </svg>
                              <label>Permanent Address is same as Present Address</label>
                            </div>
                          </div>


                        </div>
                      </div>
                    </div>

                    <div class="col-xs-12  col-sm-6">


                      <div class="form-group form-group-vertical col-xs-12"
                        *ngIf="this.candidatesForm.controls.presentAddressdetails">
                        <label class="form-label">Present Address Line 1
                          <span class="required">{{getRequired('presentAddressdetails')}}</span>
                          <span class="form__length">
                            {{ presentAddressdetails.value?.length }}/50</span>
                        </label>
                        <input class="form-control" name="presentAddressdetails" #presentAddressdetails maxlength="50"
                          pattern="[\x00-\x7F]+" formControlName="presentAddressdetails"
                          [ngClass]="{'is-invalid': submitted && g.presentAddressdetails.errors }"
                          placeholder="Flat/Building/Door No" spellcheck="off">
                        <div *ngIf="submitted && g.presentAddressdetails.errors" class="invalid-feedback">
                          <div *ngIf="g.presentAddressdetails.errors.required">Present Address details is required
                          </div>
                        </div>
                        <div
                          *ngIf="candidatesForm.get('presentAddressdetails').errors && candidatesForm.get('presentAddressdetails').touched"
                          class="help-block">

                          <span *ngIf="candidatesForm.get('presentAddressdetails').errors.pattern"> Entered special
                            characters are not allowed
                          </span>
                        </div>
                      </div>
                      <div class="form-group form-group-vertical col-xs-12"
                        *ngIf="this.candidatesForm.controls.presentAddressdetails1">
                        <label class="form-label">Present Address Line 2 </label>
                        <input class="form-control" name="presentAddressdetails1"
                          formControlName="presentAddressdetails1" pattern="[\x00-\x7F]+"
                          placeholder="Street/Area/Locality" spellcheck="off">
                        <div
                          *ngIf="candidatesForm.get('presentAddressdetails1').errors && candidatesForm.get('presentAddressdetails1').touched"
                          class="help-block">

                          <span *ngIf="candidatesForm.get('presentAddressdetails1').errors.pattern"> Entered special
                            characters are not allowed
                          </span>
                        </div>
                      </div>
                      <div class="form-group form-group-vertical col-xs-12"
                        *ngIf="this.candidatesForm.controls.presentAddressdetails2">
                        <label class="form-label">Present Address Line 3 </label>
                        <input class="form-control" rows="5" cols="40" name="presentAddressdetails2"
                          formControlName="presentAddressdetails2" pattern="[\x00-\x7F]+" placeholder="City/Town"
                          spellcheck="off">
                        <div
                          *ngIf="candidatesForm.get('presentAddressdetails2').errors && candidatesForm.get('presentAddressdetails2').touched"
                          class="help-block">

                          <span *ngIf="candidatesForm.get('presentAddressdetails2').errors.pattern"> Entered special
                            characters are not allowed
                          </span>
                        </div>
                      </div>



                      <div class="row">
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.presentCountryName">
                            <label class="form-label">Country Name <span
                                class="required">{{getRequired('presentCountryName')}}</span></label>
                            <ng-select [items]="CountryList" (change)="onChangeStateByCountryId($event)"
                              placeholder="-- select an option --" formControlName="presentCountryName"
                              [ngClass]="{'ng-touched': submitted && g.presentCountryName.errors }" bindLabel="Name"
                              bindValue="Id">
                            </ng-select>
                            <div *ngIf="submitted && g.presentCountryName.invalid" class="help-block">
                              <div *ngIf="g.presentCountryName.errors.required">Country is required
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.presentStateName">
                            <label class="form-label">State Name <span
                                class="required">{{getRequired('presentStateName')}}</span></label>
                            <ng-select [items]="StateList" placeholder="-- select on option --"
                              formControlName="presentStateName"
                              [ngClass]="{'ng-touched': submitted && g.presentStateName.errors }" bindLabel="Name"
                              bindValue="Id">
                            </ng-select>
                            <div *ngIf="submitted && g.presentStateName.invalid" class="help-block">
                              <div *ngIf="g.presentStateName.errors.required">State Name is required
                              </div>
                            </div>
                          </div>


                        </div>

                      </div>



                      <div class="row">
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.presentCity">
                            <label class="form-label">City
                              <span class="required">{{getRequired('presentCity')}}</span>

                            </label>
                            <input class="form-control" type="text" name="presentCity" formControlName="presentCity"
                              pattern="[\x00-\x7F]+" [ngClass]="{'is-invalid': submitted && g.presentCity.errors }"
                              placeholder="Bangalore" autocomplete="none|false|no">
                            <div *ngIf="submitted && g.presentCity.errors" class="invalid-feedback">
                              <div *ngIf="g.presentCity.errors.required">City is required
                              </div>
                              <div
                                *ngIf="candidatesForm.get('presentCity').errors && candidatesForm.get('presentCity').touched"
                                class="help-block">

                                <span *ngIf="candidatesForm.get('presentCity').errors.pattern"> Entered special
                                  characters are not allowed
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.presentPincode">
                            <label class="form-label">Pincode
                              <span class="required">{{getRequired('presentPincode')}}</span>
                              <span class="form__length">
                                {{ presentPincode.value?.length }}/6</span>
                            </label>
                            <input class="form-control" type="text" minlength="6"
                              onkeypress="return /^[0-9]+$/i.test(event.key)" name="presentPincode" #presentPincode
                              maxlength="6" formControlName="presentPincode"
                              [ngClass]="{'is-invalid': submitted && g.presentPincode.errors }" placeholder="560001"
                              autocomplete="none|false|no">
                            <!-- <div *ngIf="candidatesForm.get('presentPincode').errors || candidatesForm.get('presentPincode').touched" class="help-block">
                                                            <div *ngIf="g.presentPincode.errors.required">Pincode is required
                                                            </div>
                                                            <span *ngIf="candidatesForm.get('presentPincode').errors.minlength">
                                                                    Pincode should be minimum 6 characters
                                                                </span>
                                                        </div> -->

                            <div *ngIf="submitted && g.presentPincode.invalid" class="help-block">
                              <div *ngIf="g.presentPincode.errors.required">Pincode is required
                              </div>
                            </div>


                          </div>
                        </div>

                      </div>

                    </div>


                    <div class="col-xs-12  col-sm-6">

                      <!-- <div class="form-group form-group-vertical col-xs-12" *ngIf="this.candidatesForm.controls.presentAddressdetails">
                                                    <label class="form-label">Permanent Address Details <span
                                                    <label class="form-label">Address <span
                                                            class="required">*</span></label>
                                                    <span>
                                                        {{candidatesForm.controls.permanentAddressdetails.value}} <span *ngIf="candidatesForm.controls.permanentAddressdetails1.value"> ,
                                                                <br>      </span> {{candidatesForm.controls.permanentAddressdetails1.value}} <span *ngIf="candidatesForm.controls.permanentAddressdetails2.value"> ,  </span>
                                                    <br> {{candidatesForm.controls.permanentAddressdetails2.value}}
                                                    </span>
                                                </div>
    
    
                                                <div class="form-group form-group-vertical col-xs-12" *ngIf="this.candidatesForm.controls.presentAddressdetails">
                                                    <label class="form-label">State / Location <span
                                                            class="required">*</span></label>
                                                    <span>
                                                            {{candidatesForm.controls.permanentStateName.value}}
                                                             <span *ngIf="candidatesForm.controls.permanentStateName.value"> ,  </span>
                                                    <br> {{candidatesForm.controls.permanentCountryName.value}}
                                                    </span>
                                                </div>
    
    
                                                <div class="form-group form-group-vertical col-xs-12" *ngIf="this.candidatesForm.controls.presentAddressdetails">
                                                    <label class="form-label">PinCode <span
                                                                class="required">*</span></label>
                                                    <span>
                                                                {{candidatesForm.controls.permanentPincode.value}} <span *ngIf="candidatesForm.controls.permanentPincode.value"> ,  </span>
                                                    <br> {{candidatesForm.controls.permanentCountryName.value}}
                                                    </span>
                                                </div> -->

                      <div class="form-group form-group-vertical col-xs-12"
                        *ngIf="this.candidatesForm.controls.permanentAddressdetails">
                        <label class="form-label">Permanent Address Line 1 <span
                            class="required">{{getRequired('permanentAddressdetails')}}</span>
                          <span class="form__length">
                            {{ permanentAddressdetails.value?.length }}/50</span></label>
                        <input class="form-control" name="permanentAddressdetails"
                          formControlName="permanentAddressdetails" #permanentAddressdetails maxlength="50"
                          pattern="[\x00-\x7F]+"
                          [ngClass]="{'is-invalid': submitted && g.permanentAddressdetails.errors }"
                          placeholder="Flat/Building/Door No" spellcheck="off">
                        <div *ngIf="submitted && g.permanentAddressdetails.errors" class="invalid-feedback">
                          <div *ngIf="g.permanentAddressdetails.errors.required">Permanent Address details is required
                          </div>
                        </div>
                        <div
                          *ngIf="candidatesForm.get('permanentAddressdetails').errors && candidatesForm.get('permanentAddressdetails').touched"
                          class="help-block">

                          <span *ngIf="candidatesForm.get('permanentAddressdetails').errors.pattern"> Entered special
                            characters are not allowed
                          </span>
                        </div>
                      </div>
                      <div class="form-group form-group-vertical col-xs-12"
                        *ngIf="this.candidatesForm.controls.permanentAddressdetails1">
                        <label class="form-label">Permanent Address Line 2 </label>
                        <input class="form-control" name="permanentAddressdetails1"
                          formControlName="permanentAddressdetails1" placeholder="Street/Area/Locality"
                          pattern="[\x00-\x7F]+" spellcheck="off">
                        <div
                          *ngIf="candidatesForm.get('permanentAddressdetails1').errors && candidatesForm.get('permanentAddressdetails1').touched"
                          class="help-block">

                          <span *ngIf="candidatesForm.get('permanentAddressdetails1').errors.pattern"> Entered special
                            characters are not allowed
                          </span>
                        </div>
                      </div>

                      <div class="form-group form-group-vertical col-xs-12"
                        *ngIf="this.candidatesForm.controls.permanentAddressdetails2">
                        <label class="form-label">Permanent Address Line 3 </label>
                        <input class="form-control" rows="5" cols="40" name="permanentAddressdetails2"
                          formControlName="permanentAddressdetails2" pattern="[\x00-\x7F]+" placeholder="City/Town"
                          spellcheck="off">
                        <div
                          *ngIf="candidatesForm.get('permanentAddressdetails2').errors && candidatesForm.get('permanentAddressdetails2').touched"
                          class="help-block">

                          <span *ngIf="candidatesForm.get('permanentAddressdetails2').errors.pattern"> Entered special
                            characters are not allowed
                          </span>
                        </div>
                      </div>



                      <div class="row">
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.permanentCountryName">
                            <label class="form-label">Country Name <span
                                class="required">{{getRequired('permanentCountryName')}}</span></label>

                            <ng-select [items]="CountryList" (change)="onChangeStateByCountryId1($event)"
                              placeholder="-- select an option --" formControlName="permanentCountryName"
                              [ngClass]="{'ng-touched': submitted && g.permanentCountryName.errors }" bindLabel="Name"
                              bindValue="Id">
                            </ng-select>
                            <div *ngIf="submitted && g.permanentCountryName.invalid" class="help-block">
                              <div *ngIf="g.permanentCountryName.errors.required">Country is required
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.permanentStateName">
                            <label class="form-label">State Name <span
                                class="required">{{getRequired('permanentStateName')}}</span></label>
                            <ng-select [items]="StateList1" placeholder="-- select on option --"
                              formControlName="permanentStateName"
                              [ngClass]="{'ng-touched': submitted && g.permanentStateName.errors }" bindLabel="Name"
                              bindValue="Id">
                            </ng-select>
                            <div *ngIf="submitted && g.permanentStateName.invalid" class="help-block">
                              <div *ngIf="g.permanentStateName.errors.required">State Name is required
                              </div>
                            </div>
                          </div>


                        </div>

                      </div>



                      <div class="row">
                        <div class="col-12 col-md-6">

                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.presentCity">
                            <label class="form-label">City <span class="required">{{getRequired('presentCity')}}</span>

                            </label>
                            <input class="form-control" type="text" name="permanentCity" formControlName="permanentCity"
                              pattern="[\x00-\x7F]+" [ngClass]="{'is-invalid': submitted && g.permanentCity.errors }"
                              placeholder="Bangalore" autocomplete="none|false|no">
                            <div *ngIf="submitted && g.permanentCity.errors" class="invalid-feedback">
                              <div *ngIf="g.permanentCity.errors.required">City is required
                              </div>
                            </div>
                            <div
                              *ngIf="candidatesForm.get('permanentCity').errors && candidatesForm.get('permanentCity').touched"
                              class="help-block">

                              <span *ngIf="candidatesForm.get('permanentCity').errors.pattern"> Entered special
                                characters are not allowed
                              </span>
                            </div>

                          </div>


                        </div>
                        <div class="col-12 col-md-6">
                          <div class="form-group form-group-vertical col-xs-12"
                            *ngIf="this.candidatesForm.controls.permanentPincode">
                            <label class="form-label">Pincode <span
                                class="required">{{getRequired('permanentPincode')}}</span>
                              <span class="form__length">
                                {{ permanentPincode.value?.length }}/6</span>
                            </label>
                            <input class="form-control" type="text" minlength="6"
                              onkeypress="return /^[0-9]+$/i.test(event.key)" maxlength="6" #permanentPincode
                              name="permanentPincode" formControlName="permanentPincode"
                              [ngClass]="{'is-invalid': submitted && g.permanentPincode.errors }" placeholder="560001"
                              autocomplete="none|false|no">
                            <!-- <div *ngIf="candidatesForm.get('permanentPincode').errors || candidatesForm.get('permanentPincode').touched" class="help-block">
                                                            <div *ngIf="g.permanentPincode.errors.required">Pincode is required
                                                            </div>
                                                            <span *ngIf="candidatesForm.get('permanentPincode').errors.minlength">
                                                                    Pincode should be minimum 6 characters
                                                                </span>
                                                        </div> -->

                            <div *ngIf="submitted && g.permanentPincode.invalid" class="help-block">
                              <div *ngIf="g.permanentPincode.errors.required">Pincode is required
                              </div>
                            </div>



                          </div>
                        </div>
                      </div>

                    </div>
                  </div>

                  <!-- <div class="row" style="margin: 0px;  margin-top: -10px; margin-bottom: 19px;" *ngIf="!should_spin_onboarding">
                                        <div class="col-xs-12">
                                            <div class="pretty p-svg p-curve">
                                                <input type="checkbox" value="yes" #isSameAddress id="isSameAddress" (change)="onSameAddressPresentChanged(isSameAddress.checked)" />
                                                <div class="state p-success">

                                                    <svg class="svg svg-icon" viewBox="0 0 20 20">
                                                        <path
                                                            d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z"
                                                            style="stroke: white;fill:white;"></path>
                                                    </svg>
                                                    <label>Permanent Address  is same as Present Address</label>
                                                </div>
                                            </div>


                                        </div>
                                    </div> -->
                  <!-- <div class="row">
    
                                            <div class="form-group form-group-vertical col-xs-12  col-sm-6" *ngIf="this.candidatesForm.controls.emergencyPersonName">
                                                <label class="form-label">Emergency Contact Person Name <span
                                                        class="required">*</span></label>
                                                <input class="form-control" type="text" name="emergencyPersonName" formControlName="emergencyPersonName" [ngClass]="{'is-invalid': submitted && g.emergencyPersonName.errors }" placeholder="Hesed David" autocomplete="none|false|no">
                                                <div *ngIf="submitted && g.emergencyPersonName.errors" class="invalid-feedback">
                                                    <div *ngIf="g.emergencyPersonName.errors.required">Emergency Contact Person Name is required
                                                    </div>
                                                </div>
                                            </div>
    
                                            <div class="form-group form-group-vertical col-xs-12  col-sm-6" *ngIf="this.candidatesForm.controls.emergencyContactnumber">
                                                <label class="form-label">Emergency Contact number <span
                                                        class="required">*</span></label>
                                                <input class="form-control" type="number" name="emergencyContactnumber" formControlName="emergencyContactnumber" [ngClass]="{'is-invalid': submitted && g.emergencyContactnumber.errors }" placeholder="897867564534" autocomplete="none|false|no">
                                                <div *ngIf="submitted && g.emergencyContactnumber.errors" class="invalid-feedback">
                                                    <div *ngIf="g.emergencyContactnumber.errors.required">Emergency contact number is required
                                                    </div>
                                                </div>
                                            </div>
    
    
                                            <div class="form-group form-group-vertical col-xs-12  col-sm-6" *ngIf="this.candidatesForm.controls.landLine">
                                                <label class="form-label">Land Line <span class="required">*</span></label>
                                                <input class="form-control" type="number" name="landLine" formControlName="landLine" [ngClass]="{'is-invalid': submitted && g.landLine.errors }" placeholder="67865432" autocomplete="none|false|no">
                                                <div *ngIf="submitted && g.landLine.errors" class="invalid-feedback">
                                                    <div *ngIf="g.landLine.errors.required">Land Line is required
                                                    </div>
                                                </div>
                                            </div>
    
                                        </div> -->
                </div>
              </div>

            </div>

            <div class="card shadow-none border mb-1" *ngIf="isCandidateOtherdetails">

              <div class="card-header" id="headingTwo">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#CandiOtherCollapse" aria-expanded="false" aria-controls="CandiOtherCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        contact_phone </i>Candidate Other details</p>
                  </button></h5>
              </div>

              <div id="CandiOtherCollapse" class="collapse" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>
                  <div class="row">
                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.bloodGroup">
                      <label class="form-label">Blood Group <span
                          class="required">{{getRequired('bloodGroup')}}</span></label>


                      <ng-select [items]="bloodGroup" placeholder="-- select an option --" formControlName="bloodGroup"
                        [ngClass]="{'ng-touched': submitted && g.bloodGroup.invalid }" bindLabel="name" bindValue="id">
                      </ng-select>



                      <div *ngIf="submitted && g.bloodGroup.invalid" class="help-block">
                        <div *ngIf="g.bloodGroup.errors.required">Blood Group is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-xs-12  col-sm-6"
                      *ngIf="this.candidatesForm.controls.maritialStatus">
                      <label class="form-label">Maritial Status <span
                          class="required">{{getRequired('maritialStatus')}}</span></label>
                      <ng-select [items]="maritialStatus" placeholder="-- select an option --"
                        formControlName="maritialStatus"
                        [ngClass]="{'ng-touched': submitted && g.maritialStatus.invalid }" bindLabel="name"
                        bindValue="id">
                      </ng-select>

                      <div *ngIf="submitted && g.maritialStatus.invalid" class="help-block">
                        <div *ngIf="g.maritialStatus.errors.required">Maritial Status is required
                        </div>
                      </div>
                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-4 col-sm-6"
                      *ngIf="this.candidatesForm.controls.isPANNoExists">
                      <label class="form-label" id='isPANNoExists'>Is PAN no. Exists </label>
                      <!-- <div class="form-group">
                                                    <div class="switch switch--horizontal" [ngClass]="{'is-invalid': submitted && g.isPANNoExists.errors }">
                                                        <input id="radio-a" value="self" (click)="onC($event.target.value)" type="radio" checked="checked" formControlName="isPANNoExists" name="isPANNoExists" />
                                                        <label for="radio-a" class="form-label" style="left: -8rem;font-size: 14px;color: black !important;">No</label>
                                                        <input id="radio-b" value="onbehalfof" (click)="onC($event.target.value)" type="radio" formControlName="isPANNoExists" name="isPANNoExists" />
                                                        <label for="radio-b" class="form-label" style="left: -2rem;font-size: 14px;color: black !important;">Yes</label>
                                                        <span class="toggle-outside"><span class="toggle-inside"></span>
                                                        </span>
                                                    </div>
    
    
                                                </div> -->


                      <!-- <div class="pretty p-switch p-fill padding-top-10">
                                                <input type="checkbox" value="yes" formControlName="isPANNoExists" (click)="onPanCard($event.target.value)" />
                                                <div class="state p-success">
                                                    <label></label>
                                                </div>


                                            </div> -->

                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" value="yes" formControlName="isPANNoExists"
                            (click)="onPanCard($event.target.value)" />
                          <span class="el-switch-style"></span>
                        </label>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.haveApplied && candidatesForm.controls.isPANNoExists.value ==  false">
                      <label class="form-label">Have you applied for PAN
                      </label>

                      <!-- <div class="pretty p-switch p-fill padding-top-10">
                                                <input type="checkbox" value="yes" formControlName="haveApplied" (click)="onHavingPan($event.target.value)" />
                                                <div class="state p-success">
                                                    <label></label>
                                                </div>
                                            </div> -->

                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" value="yes" formControlName="haveApplied"
                            (click)="onHavingPan($event.target.value)" />
                          <span class="el-switch-style"></span>
                        </label>
                      </div>

                    </div>


                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="candidatesForm.controls.isPANNoExists.value ==  true">
                      <label class="form-label">PAN No <span class="required">*</span>
                      </label>
                      <input class="form-control" type="text"
                        pattern="^([a-zA-Z]){3}([pPcCHhaAbBgGlLfFTtjJ]){1}([a-zA-Z]){1}([0-9]){4}([a-zA-Z]){1}?$"
                        maxlength="10" name="PANNO" formControlName="PANNO" placeholder="ABCDE1234F"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.PANNO.errors" class="invalid-feedback">
                        <div *ngIf="g.PANNO.errors.required">PAN no is required
                        </div>
                      </div>

                      <!--  [ngClass]="{'is-invalid': submitted || g.PANNO.errors  }" 
                                                <div *ngIf="candidatesForm.get('PANNO').errors && candidatesForm.get('PANNO').touched"
                                                class="help-block">

                                                <span *ngIf="candidatesForm.get('PANNO').errors.pattern"> Please match
                                                    the requested format. (Ex: ABCDE1234F)
                                                </span>
                                            </div> -->


                    </div>


                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="candidatesForm.controls.haveApplied.value ==  true">
                      <label class="form-label">Ackowledgment Number<span class="required">*</span>
                      </label>

                      <input class="form-control" type="number" name="ackowledgmentNumber"
                        formControlName="ackowledgmentNumber"
                        [ngClass]="{'is-invalid': submitted && g.ackowledgmentNumber.errors }" placeholder="HUI82488923"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.ackowledgmentNumber.errors" class="invalid-feedback">
                        <div *ngIf="g.ackowledgmentNumber.errors.required">Ackowledgment Number is required
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.aadhaarNumber">
                      <label class="form-label">Aadhaar Number<span
                          class="required">{{getRequired('aadhaarNumber')}}</span></label>

                      <input class="form-control" type="number" name="aadhaarNumber" formControlName="aadhaarNumber"
                        [ngClass]="{'is-invalid': submitted && g.aadhaarNumber.errors }" placeholder="9878 0909 5634"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.aadhaarNumber.errors" class="invalid-feedback">
                        <div *ngIf="g.aadhaarNumber.errors.required">Aadhaar Number is required
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.UAN">
                      <label class="form-label">UAN<span class="required">{{getRequired('UAN')}}</span></label>

                      <input class="form-control" type="text" pattern="^([1-9]){1}([0-9]){11}?$"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" maxlength="12" name="UAN" formControlName="UAN"
                        placeholder="9878 0909 5634" [ngClass]="{'is-invalid': submitted || g.UAN.errors  }"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.UAN.errors" class="invalid-feedback">
                        <div *ngIf="g.UAN.errors.required">UAN is required
                        </div>
                      </div>
                      <div *ngIf="candidatesForm.get('UAN').errors && candidatesForm.get('UAN').touched"
                        class="help-block">

                        <span *ngIf="candidatesForm.get('UAN').errors.pattern"> Please match the
                          requested format. (Ex: 1012 3456 7891) | Number must be start with
                          greater than 0.
                        </span>
                      </div>


                    </div>


                    <!-- <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6" *ngIf="this.candidatesForm.controls.PFNumber">
                                            <label class="form-label">PF Number<span
                                                    class="required">{{getRequired('PFNumber')}}</span></label>

                                            <input class="form-control" type="number" name="PFNumber" formControlName="PFNumber" [ngClass]="{'is-invalid': submitted && g.PFNumber.errors }" do autocomplete="none|false|no">
                                            <div *ngIf="submitted && g.PFNumber.errors" class="invalid-feedback">
                                                <div *ngIf="g.PFNumber.errors.required">PF Number is required
                                                </div>
                                            </div>

                                        </div> -->

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.ESICNumber">
                      <label class="form-label">ESIC Number<span
                          class="required">{{getRequired('ESICNumber')}}</span></label>

                      <input class="form-control" type="text" name="ESICNumber"
                        onkeypress="return /^[0-9]+$/i.test(event.key)" maxlength="10" formControlName="ESICNumber"
                        [ngClass]="{'is-invalid': submitted && g.ESICNumber.errors }" placeholder="9878 0909 5634"
                        autocomplete="none|false|no">
                      <div *ngIf="submitted && g.ESICNumber.errors" class="invalid-feedback">
                        <div *ngIf="g.ESICNumber.errors.required">ESIC Number is required
                        </div>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
                      *ngIf="this.candidatesForm.controls.isAadharExemptedState">
                      <label class="form-label">Is Aadhaar Exempted State<span
                          class="required">{{getRequired('isAadharExemptedState')}}</span></label>
                      <!-- <div class="pretty p-switch p-fill">
                                                <input type="checkbox" name="isAadharExemptedState" formControlName="isAadharExemptedState" />
                                                <div class="state p-success">
                                                    <label>
                                                    </label>
                                                </div>
                                            </div> -->

                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" name="isAadharExemptedState" formControlName="isAadharExemptedState" />
                          <span class="el-switch-style"></span>
                        </label>
                      </div>

                    </div>

                    <div class="col-xs-12 col-sm-12"
                      *ngIf="isEmptyObject(DynamicFieldDetails) != true && isEmptyObject(this.DynamicFieldDetails) != null && isDynamicAccordionAvailable('isCandidateOtherdetails')">
                      <app-dynamicfieldform [col_span_size]="6" [RoleCode]="RoleCode"
                        [dynamicFieldDetails]="getDynamicAccordionFields('isCandidateOtherdetails')"></app-dynamicfieldform>
                    </div>


                  </div>
                </div>
              </div>

            </div>


            <div class="card shadow-none border mb-1" *ngIf="isFamilydetails">

              <div class="card-header" id="headingTwo">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#FamilyCollapse" aria-expanded="false" aria-controls="FamilyCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        group_add </i>Family Details</p>
                  </button></h5>
              </div>

              <div id="FamilyCollapse" class="collapse show" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>

                  <div class="column text-right">

                    <!-- <div class="m-b-15"><img src="https://app.recruitcrm.io/assets/images/emptystate/custom-field-empty-state.svg" width="50%" alt="">
                                            </div> -->

                    <span class="es-text">You can add <b>custom nominees</b> here.
                      <button prevent-double-submit type="button" class="btn upgrade-btn" (click)="addNominee()"> <i
                          class="mdi mdi-plus  m-r-xs"></i> Add Nominee
                      </button>
                    </span>

                  </div>
                  <br>
                  <br>
                  <div class="row tablerow">

                    <div class="col-md-12 col-sm-12 col-12">

                      <angular-slickgrid gridId="grid_Nominee" [data]="ruleGrid" [columnDefinitions]="columnDefinitions"
                        [gridOptions]="gridOptions" [dataset]="LstNominees" gridWidth="100%"
                        (onAngularGridCreated)="angularGridReady($event)">
                      </angular-slickgrid>

                    </div>
                  </div>


                </div>
              </div>

            </div>
            <div class="card shadow-none border mb-1" *ngIf="isEmploymentInfo">

              <div class="card-header" id="headingTwo">
                <h5 class="my-0"><button prevent-double-submit class="btn btn-link ml-4 collapsed" type="button"
                    data-toggle="collapse" data-target="#ExperienceCollapse" aria-expanded="false"
                    aria-controls="ExperienceCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        work </i>Work Experience</p>
                  </button></h5>
              </div>

              <div id="ExperienceCollapse" class="collapse show" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>




                  <!-- <div class="m-b-15"><img src="https://app.recruitcrm.io/assets/images/emptystate/custom-field-empty-state.svg" width="50%" alt="">
                                            </div> -->
                  <div class="row">
                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6">
                      <label class="form-label">I'm a fresher </label>
                      <!-- <div class="pretty p-switch p-fill">
                                                <input type="checkbox" #isFresher id="isFresher" (change)="onFresher(isFresher.checked)" />
                                                <div class="state p-success">
                                                    <label>
                                                    </label>
                                                </div>
                                            </div> -->

                      <div class="p-t-10">

                        <label class="el-switch el-switch-green">
                          <input type="checkbox" #isFresher id="isFresher" name="_isFresher"
                            formControlName="_isFresher" (change)="onFresher(isFresher.checked)" />
                          <span class="el-switch-style"></span>
                        </label>
                      </div>

                    </div>

                    <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6">
                      <div class="column text-right">
                        <span class="es-text" *ngIf="!isWorkExperienceFlag">You can add
                          <b>custom work
                            Experience history</b> here.
                          <button prevent-double-submit type="button" class="btn upgrade-btn" (click)="addExperience()">
                            <i class="mdi mdi-plus  m-r-xs"></i>
                            Add
                            Experience
                          </button>
                        </span>
                      </div>

                    </div>
                  </div>
                  <br>

                  <div class="row tablerow" *ngIf="!isWorkExperienceFlag">

                    <div class="col-md-12 col-sm-12 col-12">

                      <angular-slickgrid gridId="grid_Experience" [data]="ruleGrid"
                        [columnDefinitions]="columnDefinitions_Experience" [gridOptions]="gridOptions_Experience"
                        [dataset]="LstExperience" gridWidth="100%"
                        (onAngularGridCreated)="angularGridReady_Experience($event)">
                      </angular-slickgrid>

                    </div>
                  </div>




                </div>
              </div>

            </div>


            <div class="card shadow-none border mb-1" *ngIf="isAcademicInfo">

              <div class="card-header" id="headingTwo">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#AcademicCollapse" aria-expanded="false" aria-controls="AcademicCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        school </i>Academic Information</p>
                  </button></h5>
              </div>

              <div id="AcademicCollapse" class="collapse show" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>
                  <div class="column text-right">

                    <!-- <div class="m-b-15"><img src="https://app.recruitcrm.io/assets/images/emptystate/custom-field-empty-state.svg" width="50%" alt="">
                                            </div> -->

                    <span class="es-text">You can add <b>custom education history</b> here.
                      <button prevent-double-submit type="button" class="btn upgrade-btn" (click)="addEducation()"> <i
                          class="mdi mdi-plus  m-r-xs"></i> Add
                        Education
                      </button>
                    </span>

                  </div>
                  <br>
                  <br>
                  <div class="row tablerow">

                    <div class="col-md-12 col-sm-12 col-12">

                      <angular-slickgrid gridId="grid_Education" [data]="ruleGrid"
                        [columnDefinitions]="columnDefinitions_Education" [gridOptions]="gridOptions_Education"
                        [dataset]="LstEducation" gridWidth="100%"
                        (onAngularGridCreated)="angularGridReady_Education($event)">
                      </angular-slickgrid>

                    </div>
                  </div>

                </div>
              </div>

            </div>
            <div class="card shadow-none border mb-1" *ngIf="isBankInfo">

              <div class="card-header" id="headingTwo">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#BankCollapse" aria-expanded="false" aria-controls="BankCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        location_city </i>Bank Information</p>
                  </button></h5>
              </div>

              <div id="BankCollapse" class="collapse show" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>


                  <!-- <div class="d-flex justify-content-center" *ngIf="should_spin_onboarding">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>

                                    </div> -->

                  <div class="column text-right">

                    <!-- <div class="m-b-15"><img src="https://app.recruitcrm.io/assets/images/emptystate/custom-field-empty-state.svg" width="50%" alt="">
                                            </div> -->


                    <span class="es-text">You can add <b>custom bank info</b> here.
                      <button prevent-double-submit type="button" class="btn upgrade-btn" (click)="addBank()"> <i
                          class="mdi mdi-plus  m-r-xs"></i> Add Bank
                      </button>
                    </span>
                  </div>
                  <br>
                  <br>



                  <div class="row tablerow">

                    <div class="col-md-12 col-sm-12 col-12">

                      <angular-slickgrid gridId="grid_Bank" [data]="ruleGrid"
                        [columnDefinitions]="columnDefinitions_Bank" [gridOptions]="gridOptions_Bank"
                        [dataset]="LstBank" gridWidth="100%" (onAngularGridCreated)="angularGridReady_Bank($event)">
                      </angular-slickgrid>

                    </div>
                  </div>


                </div>
              </div>

            </div>

            <div class="card shadow-none border mb-1" *ngIf="isDocumentInfo">

              <div class="card-header" id="headingTwo" [ngClass]="{'disableDiv': !ClientContractId}"
                (click)="doCheckAccordion('isDocumentInfo')"
                [ngStyle]="{'box-shadow' : accordionhighlights_documents == true ?'rgb(239, 216, 183) 0px 0px 2px 2px': none}">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#DocumentCollapse" aria-expanded="false" aria-controls="DocumentCollapse">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        attach_file </i>Document Details</p>
                  </button></h5>
              </div>

              <div id="DocumentCollapse" class="collapse" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>


                  <div class="column text-right">




                    <!-- <div class="m-b-15"><img src="https://app.recruitcrm.io/assets/images/emptystate/custom-field-empty-state.svg" width="50%" alt="">
                                                </div> -->
                    <p class="es-text">You can add <b>document info</b> here.</p>

                    <br>
                    <br>



                  </div>


                  <div class="d-flex justify-content-center" *ngIf="should_spin_onboarding">
                    <div class="spinner-border" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>

                  </div>

                  <!-- <div class="container"> -->
                  <div class="row" *ngIf="!should_spin_onboarding" style="width: 100%;">

                    <!-- <table>
                                            <thead>
                                                <tr>
                                                    <th *ngFor="let head of DocumentList[0] | keys">{{head}}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of DocumentList">
                                                    <td *ngFor="let list of item | keys">{{item[list]}}</td>
                                                </tr>
                                            </tbody>
                                        </table> -->

                    <div class="col-12" *ngIf="documentTbl?.length > 0">
                      <table class="table table-bordered table-container">
                        <thead>
                          <tr class="document_table_tr">
                            <th scope="col" style="width:30%;font-weight: 500 !important;">
                              Document Name</th>
                            <th scope="col" style="width:18%;font-weight: 500;">Document no
                            </th>
                            <th scope="col" style="width:5%;font-weight: 500;">Status
                            </th>
                            <th scope="col" style="width:20%;font-weight: 500;">Category Type
                            </th>
                            <th scope="col" style="width:22%;font-weight: 500;">Action
                            </th>


                          </tr>
                        </thead>

                        <tbody>


                          <tr *ngFor="let item of documentTbl; let i = index" id="{{item.DocumentName}}_border">

                            <td class="document_table_docName table-vertical-align">
                              <b> {{item.DocumentName}} <span class="help-text-c" *ngIf="item.IsMandatory == 'True'">
                                  *</span></b>
                            </td>


                            <td class="txt-align table-vertical-align">
                              <span style="font-family: cursive;">{{item.DocumentNumber}}
                              </span>
                            </td>
                            <td class="txt-align table-vertical-align">

                              <label *ngIf="item.Status == null"> - </label>
                              <span class="badge badge-warning" *ngIf="item.Status == 0">Pending</span>
                              <span class="badge badge-danger" *ngIf="item.Status == 2">Rejected</span>
                              <span class="badge badge-success" *ngIf="item.Status == 1">Approved</span>
                            </td>

                            <td class="txt-align table-vertical-align">
                              <label *ngIf="item.CategoryType == null"> - </label>
                              <label *ngIf="item.FileName == null && item.CategoryType != null"> - </label>
                              <label *ngIf="item.FileName != null && item.CategoryType != null">

                                <small *ngFor="let i of item.CategoryType">
                                  <label *ngIf="i.isChecked" class="font-12">
                                    {{i.Code}}, </label>
                                </small>
                              </label>


                            </td>
                            <td class="document_table_docName " style="text-align: center">

                              <button *ngIf="item.FileName == null" class="btn btn-default btn-sm m-r-sm "
                                style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                (click)="document_file_upload(item)"><i class="fa fa-upload m-r-xs"></i> Upload
                              </button>
                              <button *ngIf="item.FileName != null" class="btn btn-default btn-sm m-r-sm "
                                style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                (click)="document_file_edit(item)" [disabled]="item.Status == 1 ? true : null"><i
                                  class="fa fa-pencil-square-o m-r-xs"></i> Edit
                              </button>
                              <button *ngIf="item.FileName != null" class="btn btn-default btn-sm m-r-sm "
                                style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                (click)="document_file_delete(item)" [disabled]="item.Status == 1 ? true : null"><i
                                  class="fa fa-trash-o m-r-xs"></i> fg Delete </button>

                              <button *ngIf="item.FileName != null" class="btn btn-default btn-sm m-r-sm "
                                style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                (click)="document_file_view(item,'Document')"><i class="fa fa-eye m-r-xs"></i>dfff View
                              </button>


                            </td>
                          </tr>

                        </tbody>

                      </table>

                      <span class="help-text"
                        style="text-align: center;display: block;color: #f8a01c;font-size: 14px !important">
                        <i class="mdi mdi-information-outline"></i> <b> Note : </b> <b>*
                        </b>indicates fields
                        which must be filled in. Please upload clear copy of document. </span>



                    </div>



                    <!-- <div class="col-12" *ngIf="documentTbl?.length > 0">
                                            <table class="table table-bordered table-container">
                                                <thead>
                                                    <tr class="document_table_tr">
                                                        <th scope="col" style="width:16%;font-weight: 500 !important;">
                                                            Document Name</th>
                                                        <th scope="col" style="width:20%;font-weight: 500;">Document no.
                                                        </th>
                                                        <th scope="col" style="width:10%;font-weight: 500;">For Identity
                                                        </th>
                                                        <th scope="col" style="width:10%;font-weight: 500;">For Address
                                                        </th>
                                                        <th scope="col" style="width:15%;font-weight: 500;">Valid from
                                                        </th>
                                                        <th scope="col" style="width:15%;font-weight: 500;">Valid to
                                                        </th>
                                                        <th scope="col" style="width:14%;font-weight: 500;">File</th>


                                                    </tr>
                                                </thead>

                                                <tbody>


                                                    <tr *ngFor="let item of documentTbl; let i = index" id="{{item.DocumentName}}_border">

                                                        <td class=" document_table_docName">
                                                            {{item.DocumentName}} <span class="help-text" *ngIf="item.IsMandatory"> *</span>
                                                        </td>
                                                        <td class="document_table_docNo">
                                                            <input type="text" maxlength="12" class="form-control" spellcheck="false" [(ngModel)]="item.DocumentNumber" [ngModelOptions]="{standalone: true}" style="height: 30px;" disabled="{{item.Status ==1}}">
                                                        </td>
                                                        <td class="txt-align document_table_chk">
                                                            <div class="custom-control custom-checkbox chkbox_custom" *ngIf="item.IsIdentity !=null">
                                                                <input type="checkbox" class="custom-control-input" id="isidentity_{{item.DocumentName}}" (change)="forIdentity(item,$event)" [(ngModel)]="item.IsIdentity" [ngModelOptions]="{standalone:
                                                        true}" disabled="{{item.Status ==  1}}">
                                                                <label class="custom-control-label" for="isidentity_{{item.DocumentName}}"></label>
                                                            </div>
                                                            <label *ngIf="item.IsIdentity==null"> - </label>
                                                        </td>
                                                        <td class="txt-align document_table_chk">
                                                            <div class="custom-control custom-checkbox chkbox_custom" *ngIf="item.IsAddress !=null">
                                                                <input type="checkbox" class="custom-control-input" id="isaddress_{{item.DocumentName}}" (change)="forAddress(item,$event)" [(ngModel)]="item.IsAddress" [ngModelOptions]="{standalone:
                                                        true}" disabled="{{item.Status ==  1}}">
                                                                <label class="custom-control-label" for="isaddress_{{item.DocumentName}}"></label>
                                                            </div>
                                                            <label *ngIf="item.IsAddress==null"> - </label>
                                                        </td>
                                                        <td class="txt-align document_table_validFrom">
                                                            <input *ngIf="item.isValidFrom" type="text" bsDatepicker placement="top" readonly (bsValueChange)="onChangetblDate($event, item)" [bsConfig]="{ isAnimated: true, dateInputFormat:
                                                       'DD-MM-YYYY', containerClass:'theme-default' }" placeholder="01-01-2000" class="form-control" [(ngModel)]="item.ValidFrom" [ngModelOptions]="{standalone: true}" style="height: 30px;" disabled="{{item.Status ==  1}}">
                                                            <label *ngIf="!item.isValidFrom"> - </label>
                                                        </td>
                                                        <td class="txt-align document_table_validFrom">
                                                            <input *ngIf="item.isValidTill" type="text" bsDatepicker placement="top" readonly [minDate]="tblminDate" [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY', containerClass:
                                                       'theme-default' }" placeholder="01-01-2001" class="form-control" [(ngModel)]="item.ValidTill" [ngModelOptions]="{standalone: true}" style="height: 30px;" disabled="{{item.Status ==  1}}">
                                                            <label *ngIf="!item.isValidTill"> - </label>
                                                        </td>
                                                        <td class="table_header document_table_docNo">
                                                            <div *ngIf="!item.FileName && !spinner_fileuploading">
                                                                <input type="file" class="form-control" #fileInput ng2FileSelect [uploader]="uploader" (onFileSelected)="onFileSelected($event, item)" style="height: 32px;font-size: 10px !important;">
                                                            </div>


                                                            <div class="d-flex justify-content-center" *ngIf="spinner_fileuploading && item.DocumentName == currentId">
                                                                <div class="spinner-border" role="status">
                                                                    <span class="sr-only">Loading...</span>
                                                                </div>
                                                            </div>

                                                            <a href="JavaScript:;" *ngIf="item.FileName" (click)="previewFile(item,i)" class="btn subheader__btn-primary btn-icon mr-2" [class.disabled]="item.Status == 1 ? true : null">
                                                                <i class="fa fa-eye font-16"></i>
                                                            </a>

                                                            <a href="JavaScript:;" *ngIf="item.FileName" (click)="deleteFile(item)" class="btn subheader__btn-primary btn-icon mr-2" [class.disabled]="item.Status == 1 ? true : null">
                                                                <i class="fa fa-trash-o font-16"></i>
                                                            </a>

                                                        </td>

                                                    </tr>

                                                </tbody>

                                            </table>

                                            <span class="help-text" style="text-align: center;display: block;color: #f8a01c;"> <i
                                                    class="mdi mdi-information-outline"></i> <b>* </b>indicates fields
                                                which must be filled in </span>



                                        </div> -->
                  </div>
                  <!-- </div> -->





                  <br>




                </div>
              </div>

            </div>

            <div class="card shadow-none border mb-1" *ngIf="isClientApproval">

              <div class="card-header" id="headingTwo" [ngClass]="{'disableDiv': !ClientContractId}"
                (click)="doCheckAccordion('isClientApproval')" [ngClass]="{'disableDiv': !ClientContractId}">
                <h5 class="my-0"><button class="btn btn-link ml-4 collapsed" type="button" data-toggle="collapse"
                    data-target="#ApprovalCollapse" aria-expanded="false" aria-controls="ApprovalCollapse"
                    href="javascript:void(0);">
                    <p class="card-header-title"><i class="material-icons p-r-10">
                        attach_file</i>

                      <ng-container *ngIf="BusinessType == 3">Client Approval </ng-container>
                      <ng-container *ngIf="BusinessType != 3">Manager Approval </ng-container>
                    </p>
                  </button></h5>
              </div>

              <div id="ApprovalCollapse" class="collapse" aria-labelledby="headingOne"
                data-parent="#accordionExample-faq">
                <div class="card-body">
                  <br>
                  <div class="column text-right">
                    <span class="es-text">You can add <b>
                        <ng-container *ngIf="BusinessType == 3">Client Approval </ng-container>
                        <ng-container *ngIf="BusinessType != 3">Manager Approval </ng-container>
                        attachments</b> here.
                      <button prevent-double-submit type="button" class="btn upgrade-btn" (click)="addAttachment()"> <i
                          class="mdi mdi-plus m-r-xs"></i> Add
                        Attachment
                      </button>
                    </span>

                  </div>
                  <br>

                  <br>
                  <div class="row" *ngIf="clientApprovalTbl?.length> 0">
                    <div class="col-12">

                      <!-- <div class="d-flex justify-content-center">
                                                    <div class="spinner-border" role="status">
                                                        <span class="sr-only">Loading...</span>
                                                    </div>
    
                                                </div> -->

                      <table class="table table-bordered table-container">
                        <thead>
                          <tr class="document_table_tr">
                            <th scope="col" style="width:20%;font-weight: 500 !important;">
                              Approval For</th>
                            <th scope="col" style="width:15%;font-weight: 500;">Approval Type
                            </th>
                            <th scope="col" style="width:15%;font-weight: 500;">Document Name
                            </th>
                            <th scope="col" style="width:20%;font-weight: 500;">
                              Remarks </th>
                            <th scope="col" style="width:10%;font-weight: 500;">Status
                            </th>
                            <!-- <th scope="col" style="width:10%;font-weight: 500;">
                                                            File(Attachment)</th> -->
                            <th scope="col" style="width:10%;font-weight: 500;">Actions</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let item of clientApprovalTbl; let i = index">


                            <td class="document_table_docName">
                              {{item.ApprovalForName}}
                            </td>
                            <td class="document_table_docName">
                              {{item.ApprovalTypeName}}
                            </td>
                            <td class="document_table_docName">
                              {{item.DocumentName}}
                            </td>
                            <td class="document_table_docName">
                              {{item.Remarks}}
                            </td>

                            <td class="document_table_docName">
                              <span class="badge badge-warning" *ngIf="item.Status == 0">Pending</span>
                              <span class="badge badge-danger" *ngIf="item.Status == 2">Rejected</span>
                              <span class="badge badge-success" *ngIf="item.Status == 1">Approved</span>

                            </td>
                            <!-- <td class="table_header document_table_docNo">
                                                            <a href="JavaScript:;" *ngIf="item.DocumentName" (click)="editApprovalFile(item,i)" class="btn subheader__btn-primary btn-icon mr-2">
                                                                <i class="mdi mdi-eye font-16"></i>
                                                            </a>[class.disabled]="isGuid(item.Id) == false ? true : null"
                                                        </td> -->
                            <td class="table_header document_table_docNo">
                              <a href="JavaScript:;" *ngIf="item.DocumentName" (click)="editApprovalFile(item,i)"
                                class="btn subheader__btn-primary btn-icon mr-2"
                                [class.disabled]="item.Status == 1 ? true : null">
                                <i class="fa fa-pencil-square-o font-16"></i>
                              </a>
                              <a href="JavaScript:;" *ngIf="item.DocumentName" (click)="deleteApprovalFile(item)"
                                class="btn subheader__btn-primary btn-icon mr-2"
                                [class.disabled]="item.Status == 1 ? true : null">
                                <i class="fa fa-trash-o font-16"></i>
                              </a>

                            </td>


                          </tr>
                        </tbody>

                      </table>





                    </div>
                  </div>

                </div>
              </div>

            </div>



          </form>
        </div>
      </div>



    </div>

  </div>


  <div id="popup_viewDocs" class="modal fade" tabindex="1" role="dialog" data-backdrop="static" data-keyboard="false"
    aria-labelledby="popup_viewDocs" aria-hidden="true">
    <div style="display: block;" class="modal fade show ">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">

          <div class="modal-header" style="padding: 15px !important;">
            <div class="col-md-8">
              <small class="header-pretitle" style="float: left;width: 100%;"><b style="float: left;"> Candidate
                  Documents</b></small>
              <h6 class="modal-title subheader_h6 text-left" id="popup_release_AL">Preview
              </h6>
            </div>
            <div class="col-md-4" style="top: 13px;">
              <div class="modal-close" (click)="modal_dismiss4()" style="margin-top: -15px;"><span
                  class="mdi mdi-close pull-left"></span>
              </div>

              <div style="float: right;margin-right: 45px;margin-top: -3px;">
                <app-filedownload [documentId]="documentURLId">
                </app-filedownload>
              </div>

            </div>
            <!-- <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
          <small class="header-pretitle"><b> Candidate Documents</b></small>
          <h6 class="modal-title subheader_h6 text-left" id="popup_release_AL">Preview
          </h6>
        </div>

        <div class="modal-close" *ngIf="!shouldRendering" (click)="modal_dismiss4()" style="margin-top: 5px;"><span
            class="mdi mdi-close pull-left"></span>
        </div> -->
          </div>


          <div class="modal-body">
            <div class="iframe-container" *ngIf="documentURL == null"
              style="  border: 1px solid #d3d3d3 !important; border-radius: 1rem;">
              <img src="assets/Images/clientlogo/{{clientminiLogoLink}}" style="opacity: .5;">
              <span>
                <i class="mdi mdi-cached mdi-spin" style="text-align: center;font-weight: 600;font-size: 16px;">
                  &nbsp; Please wait...</i>
                <span class="sr-only">Please wait...</span>
              </span>
            </div>
            <div class="iframe-container" *ngIf="documentURL != null"
              style="  border: 1px solid #d3d3d3 !important; border-radius: 1rem;height: 20rem;">

              <iframe [src]="documentURL" frameborder="0" scrolling="yes" style="width: 100%;height: 100%;"></iframe>
              <img style="top: 0 !important;
              right: 0px !important;
              position: absolute !important;
              z-index: 9;
              height: 55px !important;
              vertical-align: top;
              opacity: inherit;
              bottom: unset !important;
              left: unset !important;" src="../../../../assets/Images/clientlogo/{{clientLogoLink}}">
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>




</div>

<div id="popup_chooseCandidate" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="popup_salary_breakup"
  aria-hidden="true">
  <div style="display: block;" class="modal fade show">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11">
            <h6 class="modal-title pull-left" id="popup_chooseCandidate"> Choose Candidate</h6>
            <div class="modal-close" (click)="modal_dismiss()"><span class="mdi mdi-close pull-left"></span></div>
          </div>
        </div>
        <div class="modal-body" style="min-height: 25rem;">

          <div class="d-flex align-items-center docs-page" *ngIf="isLoading">
            <strong class="text-center"> Loading... &nbsp;&nbsp;&nbsp;</strong>
            <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
          </div>

          <div class="row" *ngIf="InActiveOfferedCandidateList?.length > 0">

            <label class="form-label" style="margin-left: 15px; margin-right: 15px;">Start searching for a candidate by
              name or client name </label>
            <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="none|false|no"
              placeholder=" &#61442;  Start searching for a candidate by name or client name "
              style="margin-left: 15px; margin-right: 15px;margin-bottom: 15px;">

            <div class="col-md-12 transitions" style="padding: 0px;">
              <div class="job-box ">
                <div class="inbox-message">
                  <ul>
                    <li *ngFor="let i of InActiveOfferedCandidateList  | filter: searchText"
                      style="width: 100% !important;">
                      <a href="javascript:;" (click)="selected_Candidate_For_Offer($event, i)">
                        <div class="message-avatar">
                          <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="">
                        </div>
                        <div class="message-body">
                          <div class="message-body-heading">
                            <h5>{{i.Name}} <span class="pending" *ngIf="i.isSelected">Selected</span></h5>
                          </div>
                          <p>{{i.ClientName}} | {{i.ClientContratName}}</p>
                        </div>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

          </div>


        </div>
        <div class="modal-footer" style="padding: 0px;">
          <button type="button" class="btn upgrade-btn" id="btn_onboarding_submit" (click)="confirm_Candidate()"
            style="width: 100%;"> <i class="mdi mdi-arrow-right-drop-circle-outline  m-r-xs"></i> Confirm
          </button>

        </div>
      </div>
    </div>
  </div>
</div>