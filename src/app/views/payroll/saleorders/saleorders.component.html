<div class="page-wrapper">
  <div class="page-content">

    <app-loading-screen></app-loading-screen>

    <div class="content m-b report-content animated fadeInDown int-header-content-panel"  *ngIf="BusinessType != '3'">
      <span class="es-text">
        <span *ngIf="!BehaviourObject_Data">
          Scaffolding...
        </span>
        <span *ngIf="BehaviourObject_Data">
          <b *ngIf="_PayOutInfo"> Batch #  {{_PayOutInfo.Id}}  &nbsp; | &nbsp;  </b>    <b> {{transactionName}}  {{transactionValue}} </b>  &nbsp; | &nbsp;
           {{BehaviourObject_Data.PayPeriod}} 
        </span>
        <!-- <button class="btn btn-default btn-bold" style="margin-top: -5px;float: right; margin-left: 5px;"
        (click)="confirmExit()" tooltip="Close" data-original-title="" title="">
        <i class="mdi mdi-close-outline font-size-md"></i>
      </button> -->
      <button class="btn btn-default btn-bold" style="margin-top: -5px;float: right; margin-left: 20px;"
      (click)="confirmExit()" tooltip="Close" data-original-title="" title="">
      <i class="mdi mdi-close-outline font-size-md"></i>
    </button>
    <span style="float: right;" *ngIf="dataset.length > 0">
      <i><b>  {{dataset.length}} result(s) found </b></i>
    </span>
      </span>
    </div>
  
    <div class="content m-b report-content animated fadeInDown" style="margin-top: -10px;margin-bottom: 10px;" *ngIf="BusinessType == '3'">
      <span class="es-text"> 
        <span *ngIf="BehaviourObject_Data">
          <b *ngIf="_PayOutInfo"> Batch #  {{_PayOutInfo.Id}}  &nbsp; | &nbsp;  </b>    <b> {{transactionName}}  {{transactionValue}} </b>  &nbsp; | &nbsp;
            <b> {{BehaviourObject_Data.ClientName}} </b> 
            <span > &nbsp; |
            &nbsp; {{BehaviourObject_Data.ContractCode}} </span> 
            <span>
            &nbsp; | &nbsp; {{BehaviourObject_Data.PayPeriod}} </span>
        </span>
        <span  *ngIf="BehaviourObject_Data == null">  No record were found! Please try after sometimes.  </span>

        <button class="btn btn-default btn-bold" style="margin-top: -5px;float: right; margin-left: 20px;"
          (click)="confirmExit()" tooltip="Close" data-original-title="" title="">
          <i class="mdi mdi-close-outline font-size-md"></i>
        </button>
        <span style="float: right;" *ngIf="dataset.length > 0">
          <i><b>  {{dataset.length}} result(s) found </b></i>
        </span>
      </span>


    </div>


    <!-- <div class="text-center ma-5" *ngIf="!pageLayout">
      <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
        <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status" aria-hidden="true"></span>
        Please wait...
      </button>
    </div> -->
    <!-- <div class="content report-content" *ngIf="BehaviourObject_Data != null"
      style="margin-bottom: -15px; padding-bottom: 0px;margin-top: -10px;">
      <div class="row" style="padding: 15px;margin-top: -10px;">
        <div class="card-inner" style="width: 100%;">
          <div class="sp-plan-desc sp-plan-desc-mb">
            <ul class="row gx-1">
              <li class="col-sm-3 text-center" *ngIf="transactionName">
                <p><span class="text-soft">{{transactionName}}</span> {{transactionValue}}</p>
              </li>
              <li class="col-sm-3 text-center">
                <p><span class="text-soft">Client Name</span> {{BehaviourObject_Data.ClientName}}</p>
              </li>
              <li class="col-sm-3 text-center">
                <p><span class="text-soft">Contract Code</span> {{BehaviourObject_Data.ContractCode}}</p>
              </li>
              <li class="col-sm-3 text-center">
                <p><span class="text-soft">Pay Period</span> {{BehaviourObject_Data.PayPeriod}}</p>
              </li>

              <li class="col-sm-3 text-center animated fadeInDown" *ngIf="_PayOutInfo">
                <p><span class="text-soft">Batch #</span> {{_PayOutInfo.Id}}</p>
              </li>
              <li class="col-sm-3 text-center animated fadeInDown" *ngIf="_PayOutInfo">
                <p><span class="text-soft">PayOut Date</span> {{_PayOutInfo.PayOutDate | date: 'MMMM d, y'}}</p>
              </li>

              <li class="col-sm-3 text-center animated fadeInDown" *ngIf="_PayOutInfo">
                <p><span class="text-soft">Requested On </span> {{_PayOutInfo.RequestedOn | date:'MMMM d, y'}}</p>
              </li>
              <li class="col-sm-3 text-center animated fadeInDown" *ngIf="_PayOutInfo">
                <p><span class="text-soft">Pay Out Status </span> {{_PayOutInfo.StatusName}}</p>
              </li>


            </ul>
          </div>
        </div>
      </div>
    </div> -->
    <!-- INNER JOIN (SELECT value FROM OPENJSON(@PayRunIds)) cf on pay.Id = cf.value -->

    <div class="content m-b report-content">
      <div class="row" style="margin-top: -10px;margin-bottom: -17px;" *ngIf="!spinner">
        <div class="col-lg-6">

        </div>
        <div class="col-lg-6" style="text-align: right;">
          <label *ngIf="activeTabName == 'SALEORDER'"> <b>  No. Of Sale Order(s) : <b> {{inSaleOrdersList.length}}</b> &nbsp; &nbsp; &nbsp; Selected Sale Order(s) : <b> {{selectedItems1.length}}</b></b></label>
          <label *ngIf="activeTabName == 'EMPLOYEES'"> <b>  No. Of Employee(s) : <b> {{dataset.length}}</b> &nbsp; &nbsp; &nbsp; Selected Employee(s) : <b> {{selectedItems.length}}</b></b></label>
          <label *ngIf="activeTabName == 'BATCH'"> <b>  No. Of Employee(s) : <b> {{inEmployeesList.length}}</b> &nbsp; &nbsp; &nbsp; Selected Employee(s) : <b> {{inEmployeesSelectedItems.length}}</b></b></label>
        </div>
      </div>
      <div class="row" style="margin-bottom: 20px;margin-top: -10px;padding: 10px;">

        <ngb-tabset (tabChange)="onChange_tabset($event)" [(activeId)]="activeTabName" style="width: 100%;">

          <ngb-tab id="EMPLOYEES" *ngIf="_PayOutInfo == null">
            <ng-template ngbTabTitle *ngIf="code_for_SO == 'editPayRun' || code_for_SO == 'managePayRun'">&nbsp; <i class="fa fa-cube" aria-hidden="true"></i> &nbsp; Employees in Pay Run
            </ng-template>
            <ng-template ngbTabTitle *ngIf="code_for_SO !== 'editPayRun' && code_for_SO != 'managePayRun'">&nbsp; <i class="fa fa-cube" aria-hidden="true"></i> &nbsp; Employees
            </ng-template>
            <ng-template ngbTabContent>
              <div class="text-center ma-5" *ngIf="spinner">
                <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                  <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                    aria-hidden="true"></span>
                  Please wait...
                </button>
              </div>
              <div class="row" *ngIf="isEmployeePayRunDuplicateEntry && !spinner">
                <div class="col-lg-12 text-center">
                  <ngb-alert [dismissible]="false">
                    <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                  </ngb-alert>
                </div>
              </div>

              <div *ngIf="!isEmployeePayRunDuplicateEntry && !spinner"> 
              <div class="row" style="margin-bottom: 10px;" *ngIf="pageLayout  && !spinner">

                <div class="col-lg-4 col-md-4 col-xs-12 col-xxs-12 col-12 text-left">
                  <div class="text-left">
                    <ul class="list-inline">
                      <li class="list-inline-item"><button class="btn btn-sm btn-danger"
                          *ngIf="SO_OP || code_for_SO == 'editPayRun' || code_for_SO == 'managePayRun'" (click)="removeEmployee_btn()"> <i
                            class="mdi mdi-account-remove  m-r-xs"></i> Remove Employee(s)</button>
                      </li>

                    </ul>
                  </div>
                </div>

                <div class="col-lg-8 col-md-8 col-xs-12 col-xxs-12 col-12 text-right">

                  <div class="text-right">
                    <ul class="list-inline">

                      <!-- <li class="list-inline-item"><button class="btn btn-sm btn-primary"
                        *ngIf="(code_for_SO == 'initiateSaleOrder') && SO_OP == null"
                        (click)="processEmployee()"> <i class="mdi mdi-play"></i> Process
                        Billing</button>
                    </li> -->

                    <li class="list-inline-item"><button class="btn btn-sm btn-primary" [disabled]="disbaleButtonAfterClicked"
                      *ngIf="(code_for_SO == 'editPayRun')"
                      (click)="re_processEmployee()"> <i class="mdi mdi-play"></i> Re-Process
                      Billing</button>
                  </li>

                  <li class="list-inline-item" *ngIf="(code_for_SO == 'editPayRun')"><button type="button" class="btn btn-primary"
                    (click)="re_CreateSaleOrder()" >
                    <i class="mdi mdi-checkbox-marked-outline  m-r-xs"></i>  Re-Create SO
                  </button></li>


                      <li class="list-inline-item"><button class="btn btn-sm btn-primary"
                          *ngIf="(code_for_SO == 'editPayRun' || code_for_SO == 'initiatePayOut' || code_for_SO == 'managePayRun')"
                          (click)="addEmployee_btn()"> <i class="mdi mdi-account-multiple-plus m-r-xs"></i> Add
                          Employee(s)</button>
                      </li>

                      
  

                      <!-- <li class="list-inline-item" *ngIf="BusinessType != 3"><button class="btn btn-sm btn-primary"
                        *ngIf="(code_for_SO == 'editPayRun')"
                        (click)="do_update_PayRun()"> <i class="mdi mdi-account-multiple-plus m-r-xs"></i> Submit Emp. for Pay Run Updation</button>
                     </li> -->

                     <li class="list-inline-item" *ngIf="BusinessType != 3"><button class="btn btn-sm btn-primary"
                      *ngIf="(code_for_SO == 'initiatePayOut' || code_for_SO == 'reinitiatePayOut')"
                      (click)="do_create_Payout()"> <i class="mdi mdi-account-multiple-plus m-r-xs"></i>Submit Employees for Payout</button>
                   </li>
                      <!-- <li class="list-inline-item" *ngIf="(code_for_SO !== 'editPayRun')"><button type="button" class="btn btn-primary"
                          (click)="do_initiate_Sale_order()">
                          <i class="mdi mdi-checkbox-marked-outline  m-r-xs"></i> {{SubmitButtonText}} 
                        </button></li> -->

                        <li class="list-inline-item" *ngIf=" !spinner && inSaleOrdersList.length == 0 && BusinessType == 3"><button type="button" class="btn btn-primary"
                          (click)="do_initiate_Sale_order()">
                          <i class="mdi mdi-checkbox-marked-outline  m-r-xs"></i> {{SubmitButtonText}} 
                        </button></li>
                      <!-- <li class="list-inline-item">
                        <button class="btn btn-default btn-bold" tooltip="Close" (click)="confirmExit()"
                          tooltip-placement="bottom" data-original-title="" title="">
                          <i class="mdi mdi-close font-size-md"></i>
                        </button>
                      </li> -->
                    </ul>
                  </div>
                </div>

              </div>

           
              <div *ngIf="!spinner">
                <angular-slickgrid gridId="grid1" [columnDefinitions]="columnDefinition" [gridOptions]="gridOptions"
                  [dataset]="dataset" gridWidth="100%"
                  (sgOnSelectedRowsChanged)="onSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                  (sgOnClick)="onCellClicked($event.detail.eventData, $event.detail.args)"
                  (onAngularGridCreated)="angularGridReady($event)">
                </angular-slickgrid>
              </div>
            </div>
            </ng-template>
          </ngb-tab> 
          <ngb-tab id="SALEORDER" *ngIf="code_for_SO != 'initiatePayOut' && code_for_SO != 'PayOut_Edit' && code_for_SO != 'reinitiatePayOut' && BusinessType == '3'">
            <ng-template ngbTabTitle>&nbsp; <i class="fa fa-cube" aria-hidden="true"></i> &nbsp; Sale Orders
            </ng-template>
            <ng-template ngbTabContent>


              <div class="row" *ngIf="isSODuplicateEntry && !spinner">
                <div class="col-lg-12 text-center">
                  <ngb-alert [dismissible]="false">
                    <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                  </ngb-alert>
                </div>
              </div>
        
              <div *ngIf="!isSODuplicateEntry && !spinner">

                
              <div class="row" style="margin-bottom: 10px;" *ngIf="pageLayout  && !spinner">

                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                  <div class="text-left">
                    <ul class="list-inline">


                      <li class="list-inline-item" *ngIf="code_for_SO === 'editPayRun' || (code_for_SO === 'initiateSaleOrder' && SO_OP)">
                        <button type="button" style="font-size: 13px;"  class="btn btn-default" [disabled]="selectedItems1.length == 0"
                          (click)="download_billingsheet_modal()">
                          <i class="mdi mdi-folder-download  m-r-xs"></i> Download Billing Sheet
                        </button>
                      </li>

                      <li class="list-inline-item" *ngIf="code_for_SO == 'editPayRun'">
                        <button type="button" class="btn btn-default" style="font-size: 13px;" disabled
                          (click)="Re-generateSO()">
                          <i class="mdi mdi-redo-variant  m-r-xs"></i> Re-generate SO
                        </button>
                      </li>
                      <li class="list-inline-item" *ngIf="code_for_SO == 'editPayRun'">
                        <button type="button" class="btn btn-default"style="font-size: 13px;"  disabled
                          (click)="MergeSO()">
                          <i class="mdi mdi-source-pull m-r-xs"></i>  Merge SO
                        </button>
                      </li>
                      <li class="list-inline-item" *ngIf="code_for_SO == 'editPayRun'">
                        <button type="button" class="btn btn-default" style="font-size: 13px;" disabled
                          (click)="CancelSO()">
                          <i class="mdi mdi-cancel m-r-xs"></i> Cancel SO
                        </button>
                      </li>
        

                    </ul>
                  </div>
                </div>

                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">

                  <div class="text-right">
                    <ul class="list-inline">

                      <!-- <li class="list-inline-item" *ngIf="(code_for_SO == 'editPayRun' || code_for_SO === 'initiateSaleOrder')"><button type="button" class="btn btn-primary"
                          (click)="do_confirm_Sale_order()">
                          <i class="mdi mdi-clock-alert  m-r-xs"></i> {{RaiseButtonText}}
                        </button></li> -->
                      <!-- <li class="list-inline-item">

                        <button class="btn btn-default btn-bold" tooltip="Close" (click)="confirmExit()"
                          tooltip-placement="bottom" data-original-title="" title="">
                          <i class="mdi mdi-close font-size-md"></i>
                        </button>
                      </li> -->
                    </ul>
                  </div>
                </div>

              </div>
             

              <angular-slickgrid gridId="grdinSaleOrders" [columnDefinitions]="inSaleOrdersColumnDefinitions"
                [gridOptions]="inSaleOrdersGridOptions" [dataset]="inSaleOrdersList"
                (onAngularGridCreated)="inSaleOrdersGridReady($event)" gridWidth="100%"
                (sgOnSelectedRowsChanged)="onSelectedRowsChanged1($event.detail.eventData, $event.detail.args)">
              </angular-slickgrid>
              </div>
            </ng-template>
          </ngb-tab>

          <ngb-tab id="BATCH" *ngIf="(code_for_SO == 'initiatePayOut'|| code_for_SO === 'PayOut_Edit' || code_for_SO == 'reinitiatePayOut') && _PayOutInfo">
            <ng-template ngbTabTitle>&nbsp; <i class="fa fa-cube" aria-hidden="true"></i> &nbsp; Employees
            </ng-template>
            <ng-template ngbTabContent>
              <div class="row" *ngIf="isEmployeeDuplicateEntry && !spinner">
                <div class="col-lg-12 text-center">
                  <ngb-alert [dismissible]="false">
                    <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                  </ngb-alert>
                </div>
              </div>
        
              <div *ngIf="!isEmployeeDuplicateEntry && !spinner">


              <div class="row" style="margin-bottom: 10px;" *ngIf="pageLayout  && !spinner">

                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                  <div class="text-left">
                    <ul class="list-inline">
                      <li class="list-inline-item" *ngIf="(code_for_SO != 'reinitiatePayOut')"><button class="btn btn-sm btn-danger"
                          *ngIf="(_PayOutInfo || code_for_SO == 'initiatePayOut')" (click)="removeEmployee_btn()"> <i
                            class="mdi mdi-account-remove  m-r-xs"></i> Remove Employee(s)</button>
                      </li>

                    </ul>
                  </div>
                </div>

                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">

                  <div class="text-right">
                    <ul class="list-inline">

                      <!-- <li class="list-inline-item"><button type="button" class="btn btn-primary"
                          (click)="do_Raise_Request()">
                          <i class="mdi mdi-clock-alert  m-r-xs"></i> Raise Payout Request
                        </button></li> -->
                      <!-- <li class="list-inline-item">

                        <button class="btn btn-default btn-bold" tooltip="Close" (click)="confirmExit()"
                          tooltip-placement="bottom" data-original-title="" title="">
                          <i class="mdi mdi-close font-size-md"></i>
                        </button>
                      </li> -->
                    </ul>
                  </div>
                </div>

              </div>
            
              <angular-slickgrid gridId="grdinEmployees" [columnDefinitions]="inEmployeesColumnDefinitions"
                [gridOptions]="inEmployeesGridOptions" [dataset]="inEmployeesList"
                (onAngularGridCreated)="inEmployeesGridReady($event)" gridWidth="100%"
                (sgOnSelectedRowsChanged)="onSelectedEmployeeChange($event.detail.eventData, $event.detail.args)">
              </angular-slickgrid>
              </div>
            </ng-template>
          </ngb-tab>

        </ngb-tabset>


        <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
          <div class="text-left">
            <ul class="list-inline">

            </ul>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
          <div class="text-right">
            <ul class="list-inline">

            </ul>
          </div>
        </div>
      </div>
    </div>


    <div id="popup_chooseCategory" class="modal fade" tabindex="1" role="dialog" data-backdrop="static"
      data-keyboard="false" aria-labelledby="popup_chooseCategory" aria-hidden="true">
      <div style="display: block;" class="modal fade show animated fadeInDownBig">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">

            <div class="modal-header" style="padding: 15px !important;">


              <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
                <small class="header-pretitle"><b>Processing Status (Employee) </b></small>
                <h6 class="modal-title subheader_h6" id="popup_release_AL"> <span> - </span>
                   </h6>
              </div>

              <div class="modal-close" (click)="modal_dismiss2()" style="margin-top: 5px;"><span
                  class="mdi mdi-close pull-left"></span>
              </div>
            </div>


            <div class="modal-body">
              <div class="row">
                <div class="col-xs-12  col-sm-12  p-r-50">
                  <div class="job-box ">
                    <div class="inbox-message">
                      <ul>
                        <li *ngFor="let i of processedEMP" style="width: 100% !important;">
                          <a href="javascript:;">
                            <div class="message-avatar">
                              <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="">
                            </div>
                            <div class="message-body">
                              <div class="message-body-heading">
                                <h5>{{i.EmployeeId}} - <b *ngIf="i.IsPushedtoQueue" style="color: green;">Success</b>
                                  <b style="color: red;" *ngIf="!i.IsPushedtoQueue">Failed</b> </h5>
                              </div>
                              <p>{{i.Remarks}}</p>
                            </div>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <div class="modal-footer">
              <div class="pull-left left-margin-btn">


              </div>

            </div>

          </div>
        </div>
      </div>
    </div>


    <div id="popup_ValidateTCReprocessBilling" class="modal fade" tabindex="1" role="dialog" data-backdrop="static"
    data-keyboard="false" aria-labelledby="popup_ValidateTCReprocessBilling" aria-hidden="true">
    <div style="display: block;" class="modal fade show animated fadeInDownBig">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header" style="padding: 15px !important;">

            <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
              <small class="header-pretitle"><b>Validation Status (Employees) </b></small>
              <h6 class="modal-title subheader_h6" id="popup_release_AL"> <span> - </span>
                 </h6>
            </div>

            <div class="modal-close" (click)="modal_dismiss_validateTCReprocessBilling()" style="margin-top: 5px;"><span
                class="mdi mdi-close pull-left"></span>
            </div>
          </div>


          <div class="modal-body">
            <div class="row">
              <div class="col-xs-12  col-sm-12  p-r-50">
                <div class="job-box ">
                  <div class="inbox-message">
                    <ul>
                      <li *ngFor="let i of validatedEmployees" style="width: 100% !important;">
                        <a href="javascript:;">
                          <div class="message-avatar">
                            <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="">
                          </div>
                          <div class="message-body">
                            <div class="message-body-heading">
                              <h5>{{i.EmployeeCode}}  - {{i.EmployeeName}}<b *ngIf="i.EmployeeStatus == ''" style="color: green;"> &nbsp;&nbsp; Success</b>
                                <b style="color: red;" *ngIf="i.EmployeeStatus != null"> &nbsp;&nbsp; Failed</b> </h5>
                            </div>
                            <p>{{i.EmployeeStatus}}</p>
                          </div>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <div class="modal-footer">
            <div class="pull-right left-margin-btn">
              <button class="btn  btn-default m-r-sm" type="Submit" name="btnSubmit" id="btnSubmit"
              (click)="modal_dismiss_validateTCReprocessBilling()">
              <div class="pos-rlt sm-btn-component"> <span> <i class="mdi mdi-close"></i> Cancel </span></div>
            </button>




            <button class="btn upgrade-btn pull-right" type="button" (click)="processEmployee()"> <i
                class="mdi mdi-checkbox-multiple-marked-circle-outline"></i> &nbsp; Process Now </button>

            </div>

          </div>

        </div>
      </div>
    </div>
  </div>



    <nz-drawer [nzVisible]="visible" [nzWidth]="840" nzTitle="Employee Billing Transaction" (nzOnClose)="close()">
      <nz-descriptions [nzColumn]="2" *ngIf="_SliderJson">
        <nz-descriptions-item nzTitle="SO Number" [nzSpan]="0.5"><b>{{_SliderJson.Number}}</b></nz-descriptions-item>
        <nz-descriptions-item nzTitle="Company Branch Name" [nzSpan]="0.5">
          <b>{{_SliderJson.CompanyBranchName}}</b></nz-descriptions-item>
        <nz-descriptions-item nzTitle="Company GSTN" [nzSpan]="1">
          <b>{{_SliderJson.CompanyGSTN}}</b></nz-descriptions-item>
        <nz-descriptions-item nzTitle="Billing Contact Details" [nzSpan]="1">
          <b>{{_SliderJson.BillToAddressDetails.Address1}}</b></nz-descriptions-item>
        <nz-descriptions-item nzTitle="Shipping Contact Details" [nzSpan]="1">
          <b>{{_SliderJson.ShipToAddressDetails.Address1}}</b></nz-descriptions-item>
       

      </nz-descriptions>
      <nz-divider></nz-divider>

      <!-- <nz-divider></nz-divider> -->
      <nz-table nzSize="small" [nzData]="billingTransaction" [nzTemplateMode]="false" [nzShowPagination]=false>
        <thead>
          <tr>
            <th>Employee Name</th>
            <th>Billable Amt.</th>
            <!-- <th>Service Fee</th> -->
            <th>Service Tax</th>
            <th>Total Bill Amt.</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of billingTransaction">
            <td>{{data.EmployeeName}}</td>
            <td style="text-align: right !important;">{{data.BillableAmount  | number : '1.2-2'}}</td>
            <!-- <td style="text-align: right !important;">0.00</td> -->
            <td style="text-align: right !important;">{{data.TotalTax  | number : '1.2-2'}}</td>
            <td style="text-align: right !important;">{{data.TotalBillAmount  | number : '1.2-2'}}</td>

          </tr>
        </tbody>
      </nz-table>

      <nz-descriptions [nzColumn]="2" *ngIf="_SliderJson" style="padding-top: 45px;">
       
        <nz-descriptions-item nzTitle="Billable Amount" [nzSpan]="1" ><b>
          ₹ {{_SliderJson.BillableAmount    | number : '1.2-2'}} </b>
        </nz-descriptions-item>
        <nz-descriptions-item nzTitle="Service Tax" [nzSpan]="1"><b>
          ₹ {{_SliderJson.TotalServiceTax | number : '1.2-2'}} </b>
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Service Fee" [nzSpan]="1"><b>
        ₹ {{_SliderJson.TotalMarkup | number : '1.2-2'}} </b>
     </nz-descriptions-item>
     <nz-descriptions-item nzTitle="Total Billable Amount" [nzSpan]="1"><b>
      ₹ {{_SliderJson.TotalBillAmount | number : '1.2-2'}} </b>
  </nz-descriptions-item>
      </nz-descriptions>

    </nz-drawer>

