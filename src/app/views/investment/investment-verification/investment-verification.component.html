<div class="page-wrapper">
  <div class="page-content">
    <app-loading-screen></app-loading-screen>

    <div class="text-center ma-5" *ngIf="spinner">
      <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
        <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status" aria-hidden="true"></span>
        Please wait...
      </button>
    </div>

    <div class="content  m-b report-content" style="margin-top: -10px;padding: 0px !important;"
      *ngIf="!spinner && employeedetails">

      <div class="row">

        <!-- --- left side container ----  -->
        <div [ngClass]="isReviewing ? 'col-md-6' : 'col-md-12' " style="padding-top: 1rem; 
        padding-left: 2rem;">

          <!-- ---------- header text and close  -------------  -->
          <div class="row">
            <div class="text-left" [ngClass]="isReviewing ? 'col-md-8' : 'col-md-6' ">
              <div class="headerbar">
                <div>
                  <h2 class="header_title">Investment & Deduction Request </h2>
                  <span *ngIf="employeedetails" style="background: #5c9ee9;
                  padding: 4px;
                  color: white;
                  border-radius: 2px;
                  font-size: 12px;
                  font-weight: 600;"> {{TaxRegimeName}} ({{FinancialYearDescription}})</span>
                </div>
              </div>
            </div>
            <div class=" text-right" [ngClass]="isReviewing ? 'col-md-4' : 'col-md-6' ">
              <ul class="list-inline">
                <li class="list-inline-item">
                  <!-- <button class="btn btn-sm btn-default" tooltip="Close" (click)="confirmExit()"
                    tooltip-placement="bottom" data-original-title="" title="">
                    <i class="mdi mdi-close font-size-md"></i>
                  </button> -->
                </li>
              </ul>
            </div>
          </div>

          <!-- ---------- Employee Information and Profile Avatar --------------  -->
          <div class="row" *ngIf="employeedetails">
            <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-1' "
              style="display: block;margin: 0 auto;text-align: center;margin-left: -5px;margin-right: -15px;">
              <a href="javascript:;" class="circle">
                <img height="128" width="128" src="assets/Images/personnel_boy.png" style="width: 48px;height: 48px;"
                  alt="Cloud Chen">
              </a>
            </div>
            <div class="col-md-6" style="margin-left: 0px;padding-left: 0px;margin-top: 10px;">
              <h6 *ngIf="employeedetails" style="font-size: 14px; font-weight: 600; line-height: 18px;">
                {{employeedetails.FirstName}} &nbsp; {{employeedetails.LastName}} </h6>
              <span style="font-size: 12px;"> {{employeedetails.Code}} &nbsp; • &nbsp; {{_Designation}}
                &nbsp;•&nbsp; {{_DOJ | date : 'dd-MM-yyyy'}} </span>
            </div>
            <div class="text-right" [ngClass]="isReviewing ? 'col-md-4' : 'col-md-5'">
              <div class="row" style=" position: relative;
          transform: translatey(-50%);
          top: 60%;">
                <div class="col-lg-12 text-right">

                  <button class="btn btn-white" (click)="downloadForm12BB()"
                    style="background: #146BA2;color: #FFF;font-size: 12px;border-radius: 3px;font-weight: 600;"><i
                      class="mdi mdi-download"></i> &nbsp;Download Form 12BB </button>

                </div>
              </div>

            </div>
          </div>
          <br />
          <br />

          <!-- -----------  Filter ----------  -->
          <div class="row">
            <div [ngClass]="isReviewing ? 'col-md-6' : 'col-md-3' ">
              <label class="form-label"> Category </label>
              <select class="form-select" [(ngModel)]="selectedCategory"
                (change)="onChangeCategoryType($event.target.value)">
                <option *ngFor="let category of CategoryType" [value]="category.Id">{{category.Name}}</option>
              </select>
            </div>
            <div [ngClass]="isReviewing ? 'col-md-6' : 'col-md-3' ">
              <label class="form-label"> Status </label>
              <select class="form-select" [(ngModel)]="selectedStatus"
                (change)="onChangeApprovalStatus($event.target.value)">
                <option *ngFor="let status of ApprovalStatus" [value]="status.Id"
                  [selected]="status.Id == selectedStatus">
                  {{status.Name}}</option>
              </select>
            </div>
          </div>

          <br />


          <!-- -----------  Table header -----------  -->
          <div class="row" style="margin-top: 1rem;padding-left: 5px;padding-right: 15px;">
            <div [ngClass]="isReviewing ? 'col-md-6' : 'col-md-4' ">
              <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Product Name</p>
            </div>
            <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-3' ">
              <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Invested Amount (₹)
              </p>
            </div>
            <div class="col-md-2" *ngIf="!isReviewing">
              <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Approved Amount (₹)</p>
            </div>
            <div [ngClass]="isReviewing ? 'col-md-3' : 'col-md-2' ">
              <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Status </p>
            </div>
            <div class="col-md-1" *ngIf="!isReviewing">
              <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Action </p>
            </div>
          </div>

          <ng-container *ngFor="let item of DeclarationRecords;let i = index">
            <div class="card tab-item"
              style="margin: 3px;background: #FFFFFF;box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);border-radius: 4px;margin-right: 15px;cursor: pointer;"
              [ngClass]="{'active': item.IsHRA ? item.Id == SelectedHRAId : selectedInvestmentItem !=null && item.Id == selectedInvestmentItem.Id}">
              <div class="card-body" style="padding: 10px;">
                <div class="row">
                  <div class="text-left" [ngClass]="isReviewing ? 'col-md-6' : 'col-md-4' "
                    (click)="doReviewInvestment(item, i)">
                    <h6 class="h6-content tab-item__subheading"> {{item.ProductName}} </h6>
                    <small class="small-content tab-item__subheading">{{item.ProductTaxCodeType}}</small>
                  </div>
                  <div class="col-md-2" [ngClass]="isReviewing ? 'col-md-2' : 'col-md-3' " style="margin-top: 15px;"
                    (click)="doReviewInvestment(item, i)">
                    <p style="font-weight: 500;font-size: 12px;line-height: 14px;transform: translatey(35%);"
                      class="tab-item__subheading">
                      {{item.DeclaredAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
                    </p>
                  </div>
                  <div class="col-md-2" style="margin-top: 15px;" *ngIf="!isReviewing"
                    (click)="doReviewInvestment(item, i)">
                    <p class="tab-item__subheading"
                      style="font-weight: 500;font-size: 12px;line-height: 14px;transform: translatey(35%);">
                      {{item.ApprovedAmount | currency:'INR':'symbol-narrow':'1.2-2'}} </p>
                  </div>
                  <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-2' " style="margin-top: 15px;"
                    (click)="doReviewInvestment(item, i)">
                    <p
                      style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;transform: translatey(35%);">
                      <span class="badge badge-warning1" *ngIf="item.DocumentPendingStatus > 0">
                        Pending ({{item.DocumentPendingStatus}}) </span>
                      <span class="badge badge-danger1" *ngIf="item.DocumentRejectedtatus > 0">
                        Rejected ({{item.DocumentRejectedtatus}})</span>
                      <span class="badge badge-success1" *ngIf="item.DocumentApprovedStatus > 0">
                        Approved ({{item.DocumentApprovedStatus}}) </span>
                    </p>
                  </div>
                  <div class="col-md-1" style="margin-top: 15px;" *ngIf="!isReviewing">

                    <div class="" *ngIf="item.DocumentPendingStatus == 0" (click)="doReviewInvestment(item, i)"
                      style="cursor: pointer;display: inline-block;padding-right: 5px;" matTooltip="Edit" id="plus">
                      <i class="mdi mdi-pencil-outline" style="display: block;
                     margin: 0 auto;
                     top: -3px;
                     position: relative;
                     color: #0d395f;
                     font-size: 18px;"></i>
                    </div>

                    <div class="" *ngIf="item.DocumentPendingStatus > 0"
                      (click)="approverejectInvestment_cmn(item,i, true)"
                      style="cursor: pointer;display: inline-block;padding-right: 5px;" matTooltip="Approve" id="plus">




                      <i class="mdi mdi-check-circle-outline" style="display: block;
          margin: 0 auto;
          top: -3px;
          position: relative;
          color: #2DA05E;
          font-size: 18px;"></i>
                    </div>

                    <div class="" *ngIf="item.DocumentPendingStatus > 0"
                      (click)="approverejectInvestment_cmn(item,i, false)"
                      style="cursor: pointer;display: inline-block;padding-left: 5px;" matTooltip="Reject" id="plus">
                      <i class="mdi mdi-close-circle-outline" style="display: block;
        margin: 0 auto;
        top: -3px;
        position: relative;
        color: red;
        font-size: 18px;"></i>
                    </div>

                  </div>
                  <div class="col-md-1" (click)="isReviewing && doReviewInvestment(item, i)"
                    *ngIf="isReviewing &&  item.IsHRA ? item.Id == SelectedHRAId : (selectedInvestmentItem !=null && item.Id == selectedInvestmentItem.Id)">
                    <i class="fa fa-angle-right" style="color: white;
                    font-size: 22px;
                    margin-top: 12px;
                    float: right;" aria-hidden="true"></i>
                  </div>

                </div>
              </div>
            </div>
          </ng-container>


          <div class="row" style="margin-top: 2rem;margin-bottom: 20px;" *ngIf="DeclarationRecords.length == 0">
            <div class="col-md-12 text-center">
              <span style="font-weight: 600;
              color: #000;">No records <span style="border-bottom: 4px solid #3498db;">were</span> found </span>
            </div>
          </div>



          <ng-container *ngIf="employeedetails != null && employeedetails.LstemploymentDetails.length > 0">
            <br />
            <br />

            <div class="row">
              <div class="col-md-12">
                <h6>Previous Employ<span style="border-bottom: 4px solid #3498db;">ment</span> </h6>
              </div>
            </div>

            <div class="row" style="margin-top: 1rem;padding-left: 5px;padding-right: 15px;">
              <div [ngClass]="isReviewing ? 'col-md-6' : 'col-md-4' ">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Company Name</p>
              </div>
              <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-3' ">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Gross Salary (₹)
                </p>
              </div>
              <div class="col-md-2" *ngIf="!isReviewing">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Approved Gross Salary (₹)</p>
              </div>
              <div [ngClass]="isReviewing ? 'col-md-3' : 'col-md-2' ">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Status </p>
              </div>
              <div class="col-md-1" *ngIf="!isReviewing">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Action </p>
              </div>
            </div>

            <ng-container *ngFor="let item of employeedetails.LstemploymentDetails;let i = index">
              <div class="card tab-item"
                style="margin: 3px;background: #FFFFFF;box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);border-radius: 4px;margin-right: 15px;cursor: pointer;">
                <div class="card-body" style="padding: 10px;"
                  *ngIf="item.FinancialYearId == selectedFinYear && item.Status == 1">
                  <div class="row">
                    <div class="text-left" [ngClass]="isReviewing ? 'col-md-6' : 'col-md-4' "
                      (click)="doReviewPreviousEmployment(item, i,previousEmploymentContent)">
                      <h6 class="h6-content tab-item__subheading"> {{item.CompanyName}} </h6>
                      <small class="small-content tab-item__subheading">{{item.StartDate | date}} - {{item.EndDate |
                        date}}</small>
                    </div>
                    <div class="col-md-2" [ngClass]="isReviewing ? 'col-md-2' : 'col-md-3' " style="margin-top: 15px;"
                      (click)="doReviewPreviousEmployment(item, i,previousEmploymentContent)">
                      <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;transform: translatey(35%);"
                        class="tab-item__subheading">
                        {{item.GrossSalary | currency:'INR':'symbol-narrow':'1.2-2'}}
                      </p>
                    </div>
                    <div class="col-md-2" style="margin-top: 15px;" *ngIf="!isReviewing"
                      (click)="doReviewPreviousEmployment(item, i,previousEmploymentContent)">
                      <p class="tab-item__subheading"
                        style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;transform: translatey(35%);">
                        {{item.ApprovedGrossSalary | currency:'INR':'symbol-narrow':'1.2-2'}} </p>
                    </div>
                    <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-2' " style="margin-top: 15px;"
                      (click)="doReviewPreviousEmployment(item, i,previousEmploymentContent)">
                      <p
                        style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;transform: translatey(35%);">
                        <span class="badge badge-warning1" *ngIf="item.ApprovalStatus  == 0">
                          Pending </span>
                        <span class="badge badge-danger1" *ngIf="item.ApprovalStatus  == 2">
                          Rejected </span>
                        <span class="badge badge-success1" *ngIf="item.ApprovalStatus  ==1 ">
                          Approved </span>
                      </p>
                    </div>
                    <div class="col-md-1" style="margin-top: 15px;" *ngIf="!isReviewing">

                      <div class="" *ngIf="item.ApprovalStatus > 0"
                        (click)="doReviewPreviousEmployment(item, i,previousEmploymentContent)"
                        style="cursor: pointer;display: inline-block;padding-right: 5px;" matTooltip="Edit" id="plus">
                        <i class="mdi mdi-pencil-outline" style="display: block;
                     margin: 0 auto;
                     top: -3px;
                     position: relative;
                     color: #0d395f;
                     font-size: 18px;"></i>
                      </div>

                      <div class="" *ngIf="item.ApprovalStatus == 0"
                        (click)="approvereject_employment(item, true, 'Common')"
                        style="cursor: pointer;display: inline-block;padding-right: 5px;" matTooltip="Approve"
                        id="plus">




                        <i class="mdi mdi-check-circle-outline" style="display: block;
          margin: 0 auto;
          top: -3px;
          position: relative;
          color: #2DA05E;
          font-size: 18px;"></i>
                      </div>

                      <div class="" *ngIf="item.ApprovalStatus == 0"
                        (click)="approvereject_employment(item, false, 'Common')"
                        style="cursor: pointer;display: inline-block;padding-left: 5px;" matTooltip="Reject" id="plus">
                        <i class="mdi mdi-close-circle-outline" style="display: block;
        margin: 0 auto;
        top: -3px;
        position: relative;
        color: red;
        font-size: 18px;"></i>
                      </div>

                    </div>
                    <!-- <div class="col-md-1" (click)="doReviewInvestment(item, i)"
                    *ngIf="isReviewing &&  item.IsHRA ? item.Id == SelectedHRAId : (selectedInvestmentItem !=null && item.Id == selectedInvestmentItem.Id)">
                    <i class="fa fa-angle-right" style="color: white;
                    font-size: 22px;
                    margin-top: 12px;
                    float: right;" aria-hidden="true"></i>
                  </div> -->

                  </div>
                </div>
              </div>
            </ng-container>
          </ng-container>



          <ng-container *ngIf="employeedetails != null && employeedetails.LstemployeePerquisitesDetails.length > 0">
            <br />
            <br />

            <div class="row">
              <div class="col-md-12">
                <h6>Perquisi<span style="border-bottom: 4px solid #3498db;">tes</span> </h6>
              </div>
            </div>

            <div class="row" style="margin-top: 1rem;padding-left: 5px;padding-right: 15px;">
              <div [ngClass]="isReviewing ? 'col-md-6' : 'col-md-5' ">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Product Name</p>
              </div>
              <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-3' ">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Approved Amount (₹)
                </p>
              </div>
              <div [ngClass]="isReviewing ? 'col-md-3' : 'col-md-2' ">
                <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Status </p>
              </div>
              <div class="col-md-2" *ngIf="!isReviewing">
                <!-- <p style="font-weight: 600;font-size: 12px;line-height: 14px;color: #000;">Action </p> -->
              </div>
            </div>

            <ng-container *ngFor="let item of employeedetails.LstemployeePerquisitesDetails;let i = index">
              <div class="card tab-item"
                style="margin: 3px;background: #FFFFFF;box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);border-radius: 4px;margin-right: 15px;cursor: pointer;">
                <div class="card-body" style="padding: 10px;" *ngIf="item.FinancialYearId == selectedFinYear">
                  <div class="row">
                    <div class="text-left" [ngClass]="isReviewing ? 'col-md-6' : 'col-md-5' "
                      (click)="doReviewPerquisites(item, i,PerquisitesContent)">
                      <h6 class="h6-content tab-item__subheading"> {{getPerqProductName(item.ProductId)}} </h6>
                      <small class="small-content tab-item__subheading">Perquisites</small>
                    </div>
                    <div class="col-md-2" [ngClass]="isReviewing ? 'col-md-2' : 'col-md-3' " style="margin-top: 15px;"
                      (click)="doReviewPerquisites(item, i,PerquisitesContent)">
                      <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;transform: translatey(35%);"
                        class="tab-item__subheading">
                        {{item.ApprovedAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
                      </p>
                    </div>
                    <div [ngClass]="isReviewing ? 'col-md-2' : 'col-md-2' " style="margin-top: 15px;"
                      (click)="doReviewPerquisites(item, i,PerquisitesContent)">
                      <p
                        style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;transform: translatey(35%);">
                        <span class="badge badge-warning1" *ngIf="item.Status  == 0">
                          Pending </span>
                        <span class="badge badge-danger1" *ngIf="item.Status  == 2">
                          Rejected </span>
                        <span class="badge badge-success1" *ngIf="item.Status  ==1 ">
                          Approved </span>
                      </p>
                    </div>
                    <div class="col-md-1" style="margin-top: 15px;" *ngIf="!isReviewing">

                      <div class="" *ngIf="item.Status > 0" (click)="doReviewPerquisites(item, i,PerquisitesContent)"
                        style="cursor: pointer;display: inline-block;padding-right: 5px;" matTooltip="Edit" id="plus">
                        <i class="mdi mdi-pencil-outline" style="display: block;
                     margin: 0 auto;
                     top: -3px;
                     position: relative;
                     color: #0d395f;
                     font-size: 18px;"></i>
                      </div>

                      <!-- <div class="" *ngIf="item.Status == 0" (click)="approvereject_perquisites(item, true, 'Common')"
                        style="cursor: pointer;display: inline-block;padding-right: 5px;" matTooltip="Approve"
                        id="plus">




                        <i class="mdi mdi-check-circle-outline" style="display: block;
          margin: 0 auto;
          top: -3px;
          position: relative;
          color: #2DA05E;
          font-size: 18px;"></i>
                      </div>

                      <div class="" *ngIf="item.Status == 0" (click)="approvereject_perquisites(item, false, 'Common')"
                        style="cursor: pointer;display: inline-block;padding-left: 5px;" matTooltip="Reject" id="plus">
                        <i class="mdi mdi-close-circle-outline" style="display: block;
        margin: 0 auto;
        top: -3px;
        position: relative;
        color: red;
        font-size: 18px;"></i>
                      </div> -->

                    </div>


                  </div>
                </div>
              </div>
            </ng-container>
          </ng-container>


          <!-- ------ tabel card items ------  -->

          <br />

          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label class="form-label searchbar-label">Overall Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <textarea class="form-control" rows="4" [(ngModel)]="OverallRemarks" spellcheck="false"
                    placeholder="Type your message here..." id="approverejectremarks"></textarea>
                </label>

              </div>
            </div>
          </div>

          <div class="row" style="margin-right: 15px;margin-bottom: 10px;">
            <div class="col-md-12 text-right">
              <span *ngIf="employeedetails && LastUpdatedOn" style="font-size: 12px;
              font-weight: 600;"> Last updated on : {{LastUpdatedOn | date :'MMM d,
                y, hh:mm:ss'}}</span>
            </div>
          </div>



        </div>



        <!-- ---- right side container ----  -->

        <div class="col-md-6" *ngIf="isReviewing && selectedInvestmentItem"
          style="box-shadow: -2px 4px 8px rgba(0, 0, 0, 0.13);padding-right: 2rem;">
          <div class="row">
            <div class="col-md-12">
              <ul class="list-inline">
                <li class="list-inline-item">
                  <button class="btn" style="margin-left: -59px;
                  background: white;
                  background: #FFFFFF;
                  box-shadow: -2px 2px 2px rgb(0 0 0 / 13%);
                  border-radius: 4px 0px 0px 4px; height: 51px;" matTooltip="Close" (click)="close_reviewer_slider()"
                    data-original-title="" title="">
                    <i class="mdi mdi-close font-size-md"></i>
                  </button>
                </li>
              </ul>
            </div>
          </div>

          <div class="row" style="margin-top: -50px;
          margin-bottom: 22px;
        
          padding-bottom: 20px;">
            <div class="col-md-6 text-left" style="margin-top: 10px;">
              <!-- <span> <span style="padding-right: 5px;"> Prev </span>
                <i class="fa fa-angle-left bounce" style="font-size: 17px;position: relative;
             top: -2px;" ></i>
             </span>

             <span> <span style="padding-right: 5px;"> Next </span>
             <i class="fa fa-angle-right bounce" style="font-size: 17px;position: relative;
          top: -2px;"></i>
          </span> -->
              <button *ngIf="DeclarationRecords.length > 1" [disabled]="IsDisablePrevIndexBasedBtn"
                class="btn btn-blank" style="color:  #146BA2 !important" (click)="previousInvestmentItem()"> <i
                  class="fa fa-angle-left" style="margin-bottom: 3px;
                margin-right: 10px;" aria-hidden="true"></i>
                <span> Prev </span>

              </button>

              <span *ngIf="DeclarationRecords.length > 1" style="color: gray;"> | </span>

              <button *ngIf="DeclarationRecords.length > 1" [disabled]="IsDisableNextIndexBasedBtn"
                class="btn btn-blank" style="color:  #146BA2 !important" (click)="nextInvestmentItem()">
                <span> Next </span> <i class="fa fa-angle-right" style="margin-bottom: 3px;
                margin-left: 10px;" aria-hidden="true"></i> </button>

            </div>
            <div class="col-md-6 text-right" style="padding-top: 8px;"
              *ngIf="IsEditable || (IsExemptionExists ? (selectedInvestmentItem.LstEmployeeExemptionBillDetails.length > 0 && getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,0) > 0) :
              IsHRAExists ? getHRADocumentStatus(selectedInvestmentItem, 0) :
              IsOtherIncomeExists ? selectedInvestmentItem.Status == 0 : 
              (selectedInvestmentItem.LstEmployeeInvestmentDocuments.length > 0 && getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,0) > 0))">

              <!-- <button class="btn btn-blank" type="button" style="text-decoration: none !important;margin-top: 10px; margin-right: 15px;border: none;width: 100px;
              height: 36px;
                color: #F96E5F;" (click)="approve_Verification(selectedInvestmentItem, false)">  <i class="mdi mdi-sticker-remove-outline"></i> &nbsp; Reject
                &nbsp; &nbsp; </button> -->

              <!-- <button class="btn btn-blank" style="margin-top: 10px;border: none;width: 100px;
              height: 36px;color: #27AE60;" (click)="approve_Verification(selectedInvestmentItem, true)"> <i
                  class="mdi mdi-shape-square-rounded-plus"></i> <i class="mdi mdi-sticker-check-outline"></i>  &nbsp; Approve &nbsp; &nbsp;
              </button> -->

              <button class="btn btn-blank" style="color: #F96E5F;"
                (click)="approve_Verification(selectedInvestmentItem, false)"> <i
                  class="mdi mdi-close-circle-outline"></i>
                &nbsp;Reject</button>
              <button class="btn btn-blank" style="color:#099903"
                (click)="approve_Verification(selectedInvestmentItem, true)"> <i
                  class="mdi mdi-check-circle-outline"></i>
                &nbsp;Approve</button>
            </div>

            <div class="col-md-6 text-right" style="padding-top: 8px;"
              *ngIf="!IsEditable && (IsExemptionExists ? (selectedInvestmentItem.LstEmployeeExemptionBillDetails.length > 0 && getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,0) == 0) :
              IsHRAExists ? getHRADocumentStatus(selectedInvestmentItem, 1) :
              IsOtherIncomeExists ? selectedInvestmentItem.Status != 0 : 
               (selectedInvestmentItem.LstEmployeeInvestmentDocuments.length > 0 && getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,0) == 0))">

              <button class="btn btn-blank" style="color:#146BA2" (click)="edit_Verification()"> <i
                  class="mdi mdi-pencil-outline"></i>
                &nbsp;Edit</button>

              <!-- <button class="btn btn-link" type="button" style="background: #146BA2 !important;text-decoration: none !important;margin-top: 10px; margin-right: 15px;border: none;width: 100px;
              height: 36px;
                color: white;" (click)="edit_Verification()"> &nbsp; &nbsp; Edit &nbsp; &nbsp; </button> -->


            </div>
          </div>

          <div class="row" style="margin: -11px;margin-left: -3px;
          margin-bottom: 10px;">
            <div class="col-md-8" style="padding: 3px;">
              <h3 class="product-name"
                *ngIf="!IsExemptionExists && !IsHRAExists && !IsHPExists && !IsOtherIncomeExists">
                {{getProductName(selectedInvestmentItem.ProductID)}}
              </h3>
              <h3 class="product-name" *ngIf="IsExemptionExists && !IsHRAExists && !IsHPExists && !IsOtherIncomeExists">
                {{getProductName(selectedInvestmentItem.ProductId)}}
              </h3>

              <p class="small product-desc"
                *ngIf="!IsExemptionExists && !IsHRAExists && !IsHPExists && !IsOtherIncomeExists">
                {{getProductSection(selectedInvestmentItem.ProductID)}} |
                {{getProductDescription(selectedInvestmentItem.ProductID)}}
              </p>
              <p class="small product-desc"
                *ngIf="IsExemptionExists && !IsHRAExists && !IsHPExists && !IsOtherIncomeExists">
                {{getProductSection(selectedInvestmentItem.ProductId)}} |
                {{getProductDescription(selectedInvestmentItem.ProductId)}}
              </p>

              <h3 class="product-name" *ngIf="IsHRAExists && !IsHPExists">
                House Rent Paid
              </h3>
              <p class="small product-desc" *ngIf="IsHRAExists && !IsHPExists">
                Sec 10 | Exemptions
              </p>

              <h3 class="product-name" *ngIf="IsHPExists">
                House Property Details
              </h3>
              <p class="small product-desc" *ngIf="IsHPExists">
                Sec 24 | Deductions
              </p>

              <h3 class="product-name" *ngIf="IsOtherIncomeExists">
                Other Income
              </h3>
              <p class="small product-desc" *ngIf="IsOtherIncomeExists">
                Includes interest from savings bank, deposits and other interest
              </p>

            </div>

            <div class="col-md-4" style="padding: 3px;">
              <div class="row">

                <!-- --- HRA , INVESTMENT, DEDUCTIONS, MEDICAL EXPENDITURES ----  -->
                <div class="col-md-12" *ngIf="!IsExemptionExists && !IsHRAExists && !IsOtherIncomeExists">
                  <span class="badge badge-warning1"
                    *ngIf="getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,0) > 0">
                    Pending ({{getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,0)}}) </span>
                  <span class="badge badge-danger1"
                    *ngIf="getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,2) > 0">
                    Rejected ({{getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,2)}})</span>
                  <span class="badge badge-success1"
                    *ngIf="getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,1) > 0">
                    Approved ({{getStatusName(selectedInvestmentItem.LstEmployeeInvestmentDocuments,1)}}) </span>
                </div>

                <!-- --- EXEMPTION  ---  -->
                <div class="col-md-12" *ngIf="IsExemptionExists">
                  <span class="badge badge-warning1"
                    *ngIf="getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,0) > 0">
                    Pending ({{getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,0)}})
                  </span>
                  <span class="badge badge-danger1"
                    *ngIf="getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,2) > 0">
                    Rejected
                    ({{getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,2)}})</span>
                  <span class="badge badge-success1"
                    *ngIf="getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,1) > 0">
                    Approved ({{getExemptionStatusName(selectedInvestmentItem.LstEmployeeExemptionBillDetails,1)}})
                  </span>
                </div>

                <div class="col-md-12" *ngIf="IsOtherIncomeExists">
                  <span class="badge badge-warning1" *ngIf="selectedInvestmentItem.Status == 0">
                    Pending
                  </span>
                  <span class="badge badge-danger1" *ngIf="selectedInvestmentItem.Status == 2">
                    Rejected
                  </span>
                  <span class="badge badge-success1" *ngIf="selectedInvestmentItem.Status == 1">
                    Approved
                  </span>
                </div>

              </div>
            </div>
          </div>

          <div class="row" *ngIf="IsOtherIncomeExists">
            <div class="col-md-6">
              <label class="form-label searchbar-label">Interest Amount</label>
              <h3 class="declared-amount" *ngIf="selectedInvestmentItem.InterestIncomeType != 3">
                {{selectedInvestmentItem.TotalInterestAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
              </h3>
              <h3 class="declared-amount" *ngIf="selectedInvestmentItem.InterestIncomeType == 3 ">
                {{selectedInvestmentItem.OtherIncomeAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
              </h3>
            </div>

            <div class="col-md-6">
              <label class="form-label searchbar-label">Interest Income Type </label>
              <h3 class="declared-amount">
                {{getIncomeTypeName(selectedInvestmentItem.InterestIncomeType)}}
              </h3>
            </div>




          </div>
          <div class="row" *ngIf="IsOtherIncomeExists" style="margin-top: 1rem;">
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem.InputsRemarks}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label searchbar-label">Total Approved Amount</label>
              <label class="qcsummarylabel form-text text-muted" *ngIf="selectedInvestmentItem.InterestIncomeType != 3">
                <input class="form-control" type="number" [disabled]="!IsEditable" name="TotalApprovedInterestAmount"
                  onkeypress="return /^[0-9]+$/i.test(event.key)"
                  [(ngModel)]="selectedInvestmentItem.TotalApprovedInterestAmount" placeholder="12000"
                  autocomplete="off">
              </label>
              <label class="qcsummarylabel form-text text-muted" *ngIf="selectedInvestmentItem.InterestIncomeType == 3">
                <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedOtherIncomeAmount"
                  onkeypress="return /^[0-9]+$/i.test(event.key)"
                  [(ngModel)]="selectedInvestmentItem.ApprovedOtherIncomeAmount" placeholder="12000" autocomplete="off">
              </label>
            </div>
          </div>

          <div class="row" *ngIf="IsOtherIncomeExists">

            <div class="col-md-12">
              <div class="form-group">
                <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <textarea class="form-control" rows="2" [disabled]="!IsEditable"
                    [(ngModel)]="selectedInvestmentItem.ApproverRemarks" spellcheck="false"
                    placeholder="Type your message here..." id="approverejectremarks"></textarea>
                </label>

              </div>
            </div>
          </div>

          <div class="row" *ngIf="!IsHRAExists && !IsHPExists && !IsOtherIncomeExists">
            <div class="col-md-6">
              <label class="form-label searchbar-label">Invested Amount</label>

              <h3 class="declared-amount">
                {{selectedInvestmentItem.Amount | currency:'INR':'symbol-narrow':'1.2-2'}}
              </h3>

            </div>

            <div class="col-md-6" *ngIf="!IsMedicalDependentExists && !IsExemptionExists">

              <div class="form-group">
                <label class="form-label searchbar-label">Total Approved Amount</label>
                <label class="qcsummarylabel form-text text-muted">
                  <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedAmount"
                    onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="selectedInvestmentItem.ApprovedAmount"
                    placeholder="12000" autocomplete="off">
                </label>
              </div>

            </div>

            <div class="col-md-6" *ngIf="IsMedicalDependentExists || IsExemptionExists">

              <div class="form-group">
                <label class="form-label searchbar-label">Total Approved Amount</label>
                <h3 class="declared-amount">
                  {{selectedInvestmentItem.ApprovedAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
                </h3>

              </div>

            </div>

            <div class="col-md-6" *ngIf="!IsExemptionExists">
              <div class="form-group">
                <label class="form-label searchbar-label">Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem.InputsRemarks}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <textarea class="form-control" rows="2" [disabled]="!IsEditable"
                    [(ngModel)]="selectedInvestmentItem.ApproverRemarks" spellcheck="false"
                    placeholder="Type your message here..." id="approverejectremarks"></textarea>
                </label>

              </div>
            </div>

          </div>

          <div class="row" style="margin-top: 1rem;margin-bottom: 10px;" *ngIf="IsMedicalDependentExists">
            <div class="col-md-3">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Dependent </p>
            </div>
            <div class="col-md-3"
              *ngIf="getSectionCode('Sec80D') == true || getSectionCode('Sec80D_S') == true || getSectionCode('Sec80D_P') == true">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Dependent Type
              </p>
            </div>
            <div class="col-md-3" *ngIf="getSectionCode('Sec80DD') == true">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Disability
                Percentage *</p>
            </div>
            <div class="col-md-2">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Amount (₹)</p>
            </div>
            <div class="col-md-2">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Approved Amount</p>
            </div>
            <!-- <div class="col-md-2 text-center" *ngIf="IsEditable">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Action</p>
            </div> -->
          </div>
          <ng-container *ngIf="IsMedicalDependentExists">
            <div class="row" *ngFor="let medical of selectedInvestmentItem.LstEmpInvDepDetails; let j =index" style="margin-top: 10px;
      margin-bottom: 10px;">
              <ng-container>
                <div class="col-md-3">
                  <b>{{medical.DependentName}}</b>
                  <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;">
                    {{getRelationShipName(medical.Relationship)}} - {{medical.DependentDateOfBirth | date}}</p>
                </div>
                <div class="col-md-3"
                  *ngIf="getSectionCode('Sec80D') == true || getSectionCode('Sec80D_S') == true || getSectionCode('Sec80D_P') == true">
                  <p style="font-weight: 500;font-size: 12px;line-height: 18px;color: #7B8193;margin-top: 10px;">
                    {{getDependentTypeName(medical.DependentType)}}</p>
                </div>
                <div class="col-md-3" *ngIf="getSectionCode('Sec80DD')  == true">
                  <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;">
                    {{getDisabilityPercentageName(medical.DisabilityPercentage)}}</p>
                </div>
                <div class="col-md-2" style="margin-top: 14px;">
                  <h3
                    style="font-size: 12px;margin-bottom: 0px;white-space: nowrap;overflow: hidden; text-overflow: ellipsis;">
                    {{medical.Amount | currency:'INR':'symbol-narrow':'1.2-2'}}

                  </h3>
                </div>
                <div class="col-md-2" style="margin-top: -8px;">
                  <p style="font-weight: 500;font-size: 12px;line-height: 18px;color: #7B8193;margin-top: 10px;">
                    <input class="form-control" type="text" name="amount" [disabled]="!IsEditable"
                      onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="medical.ApprovedAmount"
                      placeholder="Approving Amount" autocomplete="off">
                  </p>
                </div>
                <!-- <div class="col-md-2 text-center" style="margin-top: 10px;" *ngIf="IsEditable">

                  <div class="" (click)="approverejectMedicalBills(medical,i, true)" class="approve-reject-btn"
                    matTooltip="Approve">
                    <i class="mdi mdi-check-circle-outline approve-btn-i"></i>
                  </div>

                  <div class="" (click)="approverejectMedicalBills(medical,i, false)" class="approve-reject-btn"
                    matTooltip="Reject">
                    <i class="mdi mdi-close-circle-outline reject-btn-i"></i>
                  </div>

                </div> -->

              </ng-container>
            </div>
          </ng-container>


          <div class="row" style="margin-top: 1rem;margin-bottom: 10px;" *ngIf="IsExemptionExists && !IsHRAExists">
            <div class="col-md-5">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">
                {{IsLTAExemption ? 'Invoice/Ticket/Boarding Amount - Date' : 'Bill Amount - Date'}} </p>
            </div>
            <div class="col-md-4">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Approved Amt
              </p>
            </div>
            <!-- <div class="col-md-2 text-center">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Bill Remarks</p>
            </div> -->
            <div class="col-md-1 text-center">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Status</p>
            </div>
            <div class="col-md-2 text-center" *ngIf="IsEditable">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Action</p>
            </div>
          </div>
          <ng-container *ngIf="!IsHRAExists && IsExemptionExists">
            <div class="row"
              *ngFor="let exemption of selectedInvestmentItem.LstEmployeeExemptionBillDetails; let j =index" style="margin-top: 10px;
        margin-bottom: 10px;border: 1px solid #d3d3d3; padding-top: 15px;
    padding-bottom: 15px;">
              <div class="col-md-8 text-left" *ngIf="IsLTAExemption && exemption.EmployeeTaxExemptionId > 0">
                <p class="labelforp">Journey Start and End Date :
                  <b
                    style="background: #5c9ee9;    color: #fff;    border-radius: 2px;    display: inline;    padding: 4px;">
                    {{exemption.EmployeeJourneyDetails.TravelStartDate | date}} -
                    {{exemption.EmployeeJourneyDetails.TravelEndDate | date}}</b>
                </p>
              </div>
              <div class="col-md-4 text-right" *ngIf="IsLTAExemption && exemption.EmployeeTaxExemptionId > 0 && exemption.EmployeeJourneyDetails != null
                && exemption.EmployeeJourneyDetails.LstTravellerDetails != null
                && exemption.EmployeeJourneyDetails.LstTravellerDetails.length> 0">
                <span 
                  matTooltip="to view traveller details"
                  style="border: 1px solid;    padding: 3px;    border-radius: 5px;    font-size: 11px;    cursor: pointer;  font-weight: 600;"
                  (click)="viewDependents(exemption.EmployeeJourneyDetails, j,dependentDetailsModal)">Family/Travellers
                  details</span>
              </div>
              <ng-container>
                <div class="col-md-5">
                  <b>{{exemption.BillAmount | currency:'INR':'symbol-narrow':'1.2-2'}}</b>
                  <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;"> {{exemption.BillDate
                    | date}}
                  </p>


                  <p class="labelforp"> {{ IsLTAExemption ? 'Invoice/Ticket/Boarding #' : 'Bill Number' }} : <b>
                      {{exemption.BillNumber}}
                    </b>
                  </p>

                </div>
                <div class="col-md-4">
                  <p style="font-weight: 500;font-size: 12px;line-height: 18px;color: #7B8193;margin-top: 10px;">
                    <input class="form-control" type="text" name="amount" [disabled]="!IsEditable"
                      onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="exemption.ApprovedAmount"
                      placeholder="Approved Amount" autocomplete="off">
                  </p>
                </div>
                <!-- <div class="col-md-2 text-center">
                  <p style="font-weight: 500;font-size: 16px;line-height: 18px;color: #7B8193;margin-top: 22px;">
                    <i class="mdi mdi-message-alert-outline" style="cursor: pointer;"
                      matTooltip="{{exemption.Remarks}}"></i>
                  </p>
                </div> -->
                <div class="col-md-1 text-center" style="margin-top: 20px;">

                  <div class="" (click)="doViewFile(exemption,i)" class="approve-reject-btn" matTooltip="view Document">
                    <i class="mdi mdi-eye-circle-outline approve-btn-i" style="color:#2882cf"></i>
                  </div>

                </div>

                <div class="col-md-2 text-center" style="margin-top: 20px;" *ngIf="IsEditable">

                  <div class="" (click)="approverejectExemptionBills(exemption,i, true)" class="approve-reject-btn"
                    matTooltip="Approve">
                    <i class="mdi mdi-check-circle-outline approve-btn-i"></i>
                  </div>

                  <div class="" (click)="approverejectExemptionBills(exemption,i, false)" class="approve-reject-btn"
                    matTooltip="Reject">
                    <i class="mdi mdi-close-circle-outline reject-btn-i"></i>
                  </div>

                </div>
                <div class="col-md-12" *ngIf="IsLTAExemption && exemption.EmployeeTaxExemptionId > 0 && exemption.EmployeeJourneyDetails
!= null
">
                  <ng-container *ngFor="let chd of exemption.LstTravellerDetails">
                    <div class="row">
                      <div class="col-lg-4">
                        <p class="labelforp"> Travel From City : <b> {{chd.TravelFromCity}}</b>
                        </p>
                      </div>
                      <div class="col-lg-4">
                        <p class="labelforp"> Travel To City : <b> {{chd.TravelToCity}}</b>
                        </p>
                      </div>
                      <div class="col-lg-4">
                        <p class="labelforp"> Transport Mode : <b> {{getTransportMode(chd.TravelType)}}</b>
                        </p>
                      </div>

                    </div>

                  </ng-container>
                </div>
                <div class="col-md-12">
                  <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;padding-top: 10px;
                  padding-bottom: 10px;">
                    <span class="badge badge-warning1" *ngIf="exemption.Status == 0">
                      Pending
                    </span>
                    <span class="badge badge-danger1" *ngIf="exemption.Status == 2">
                      Rejected
                    </span>
                    <span class="badge badge-success1" *ngIf="exemption.Status == 1">
                      Approved
                    </span>
                    <span> <span style="color: #000;"> Bill Remarks : </span> {{exemption.Remarks}} </span>
                  </p>
                </div>

                <div class="col-md-12">
                  <textarea class="form-control" [disabled]="!IsEditable" [(ngModel)]="exemption.RejectedRemarks"
                    rows="2" spellcheck="false" placeholder="Type your rejection message here..." id="remarks">
                  </textarea>
                </div>

              </ng-container>
            </div>
          </ng-container>

          <!-- --- HP ---  -->
          <div class="row" *ngIf="IsHPExists">

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Occupancy Type - Ownership (%)</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="!selectedInvestmentItem.LetOut">
                    Self-Occupied - {{selectedInvestmentItem.OwnershipPercentage}}
                  </h3>
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="selectedInvestmentItem.LetOut">
                    Rented Out - {{selectedInvestmentItem.OwnershipPercentage}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">First-Time Homeowner (Yes/No)</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="!selectedInvestmentItem.FirstTimeHomeOwner">
                    No
                  </h3>
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="selectedInvestmentItem.FirstTimeHomeOwner">
                    Yes
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Loan Availed Date - Property Possession Date</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.LoanDate | date: 'dd-MM-yyyy'}} - {{selectedInvestmentItem?.PossessionDate
                    | date: 'dd-MM-yyyy'}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Principal Amount - Interest Paid</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.PrincipalAmount}} - {{selectedInvestmentItem?.InterestAmount}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6" *ngIf="selectedInvestmentItem.LetOut">
              <div class="form-group">
                <label class="form-label searchbar-label"> Annual Rent</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.GrossAnnualValue}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label"> Municipal Taxes Paid</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.MunicipalTax}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Pre-Construction Interest - No of Installment</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.PreConstructionInterestAmount}} |
                    {{selectedInvestmentItem?.InstallmentNumber}}
                  </h3>
                </label>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Lender Name - PAN</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.NameOfLender}} - {{selectedInvestmentItem?.LenderPANNO}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Address of Property</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.AddressDetails}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Address of Lender</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem?.AddressOfLender}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group" *ngIf="ExsitingChildProduct != null">
                <label class="form-label searchbar-label">Additional Interest Amount - <b>
                    {{getAdditionInvestmentSection(ExsitingChildProduct, 'SectionName')}} </b> </label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{getAdditionInvestmentSection(ExsitingChildProduct, 'SectionDeclaredAmount')}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group" *ngIf="Existing80CChildProduct != null">
                <label class="form-label searchbar-label"> Stamp Duty Fee </label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{getAdditionInvestment80CSection(Existing80CChildProduct, 'SectionDeclaredAmount')}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6" *ngIf="selectedInvestmentItem.LetOut">

              <div class="form-group">
                <label class="form-label searchbar-label">Approved Annual Rent</label>
                <label class="qcsummarylabel form-text text-muted">
                  <input class="form-control" type="number" [disabled]="!IsEditable"
                    name="GrossAnnualValueApprovedAmount" onkeypress="return /^[0-9]+$/i.test(event.key)"
                    [(ngModel)]="selectedInvestmentItem.GrossAnnualValueApprovedAmount" placeholder="12000"
                    autocomplete="off">
                </label>
              </div>
            </div>

            <div class="col-md-6">

              <div class="form-group">
                <label class="form-label searchbar-label">Municipal Tax Approved Amount</label>
                <label class="qcsummarylabel form-text text-muted">
                  <input class="form-control" type="number" [disabled]="!IsEditable" name="MunicipalTaxApprovedAmount"
                    onkeypress="return /^[0-9]+$/i.test(event.key)"
                    [(ngModel)]="selectedInvestmentItem.MunicipalTaxApprovedAmount" placeholder="12000"
                    autocomplete="off">
                </label>
              </div>
            </div>

            <div class="col-md-6">

              <div class="form-group">
                <label class="form-label searchbar-label">Interest Approved Amount</label>
                <label class="qcsummarylabel form-text text-muted">
                  <input class="form-control" type="number" [disabled]="!IsEditable" name="InterestAmountApprovedAmount"
                    onkeypress="return /^[0-9]+$/i.test(event.key)"
                    [(ngModel)]="selectedInvestmentItem.InterestAmountApprovedAmount" placeholder="12000"
                    autocomplete="off">
                </label>
              </div>
            </div>

            <div class="col-md-6">

              <div class="form-group">
                <label class="form-label searchbar-label">Pre Construction Interest Approved Amount</label>
                <label class="qcsummarylabel form-text text-muted">
                  <input class="form-control" type="number" [disabled]="!IsEditable"
                    name="PreConstructionInterestApprovedAmount"
                    [(ngModel)]="selectedInvestmentItem.PreConstructionInterestApprovedAmount" placeholder="12000"
                    onkeypress="return /^[0-9]+$/i.test(event.key)" autocomplete="off">
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <textarea class="form-control" rows="2" [disabled]="!IsEditable"
                    [(ngModel)]="selectedInvestmentItem.ApproverRemarks" spellcheck="false"
                    placeholder="Type your message here..." id="approverejectremarks"></textarea>
                </label>

              </div>
            </div>

          </div>

          <!-- --- HRA -- -->

          <div class="row" style="margin-top: 1rem;margin-bottom: 10px;" *ngIf="IsHRAExists">
            <div class="col-md-4">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Start - End Date</p>
            </div>
            <div class="col-md-3">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Rental Amount
              </p>
            </div>
            <div class="col-md-2 text-center">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Approved Amount</p>
            </div>
            <div class="col-md-1 text-center">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Landlord Details</p>
            </div>
            <div class="col-md-2 text-center" *ngIf="IsEditable">
              <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #000;">Action</p>
            </div>
          </div>
          <ng-container *ngIf="IsHRAExists">
            <div class="row" *ngFor="let hra of selectedInvestmentItem; let j =index"
              style="margin-top: 10px;margin-bottom: 10px;">
              <ng-container>
                <div class="col-md-4">
                  <p style="font-weight: 500;font-size: 12px;line-height: 14px;color: #7B8193;margin-bottom: 10px;">
                    {{hra.StartDate | date}} - {{hra.EndDate | date}}
                  </p>
                  <span class="badge badge-warning1" *ngIf="getStatusName(hra.LstEmployeeInvestmentDocuments,0) > 0">
                    Pending ({{getStatusName(hra.LstEmployeeInvestmentDocuments,0)}}) </span>
                  <span class="badge badge-danger1" *ngIf="getStatusName(hra.LstEmployeeInvestmentDocuments,2) > 0">
                    Rejected ({{getStatusName(hra.LstEmployeeInvestmentDocuments,2)}})</span>
                  <span class="badge badge-success1" *ngIf="getStatusName(hra.LstEmployeeInvestmentDocuments,1) > 0">
                    Approved ({{getStatusName(hra.LstEmployeeInvestmentDocuments,1)}}) </span>
                </div>
                <div class="col-md-2">
                  <p style="font-weight: 500;
                  font-size: 12px;
                  line-height: 18px;
                  color: #000000;
                  margin-top: 12px;">
                    <!-- {{hra.LandLordDetails.Name}} -->
                    {{hra.RentAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
                  </p>
                </div>
                <div class="col-md-3 text-center">
                  <p style="font-weight: 500;font-size: 12px;line-height: 18px;color: #7B8193;margin-top: 10px;">
                    <input class="form-control" type="text" name="amount" [disabled]="!IsEditable"
                      onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="hra.ApprovedAmount"
                      placeholder="Approved Amount" autocomplete="off">
                  </p>
                </div>
                <div class="col-md-1 text-center" style="margin-top: 20px;">
                  <div class="" (click)="doViewLandlordDetails(hra,i,longContent)" class="approve-reject-btn"
                    matTooltip="view Landlord Details">
                    <i class="mdi mdi-eye-circle-outline approve-btn-i" style="color:#2882cf"></i>
                  </div>

                </div>

                <div class="col-md-2 text-center" style="margin-top: 20px;" *ngIf="IsEditable">

                  <div class="" (click)="approverejectHRABills(hra,i, true)" class="approve-reject-btn"
                    matTooltip="Approve">
                    <i class="mdi mdi-check-circle-outline approve-btn-i"></i>
                  </div>

                  <div class="" (click)="approverejectHRABills(hra,i, false)" class="approve-reject-btn"
                    matTooltip="Reject">
                    <i class="mdi mdi-close-circle-outline reject-btn-i"></i>
                  </div>

                </div>
              </ng-container>
            </div>
          </ng-container>

          <!-- <div class="row" *ngIf="IsHRAExists">

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Start - End Date</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem.StartDate | date}} - {{selectedInvestmentItem.EndDate | date}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">City</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="selectedInvestmentItem.IsMetro">
                    {{getCityName(selectedInvestmentItem)}}
                  </h3>
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="!selectedInvestmentItem.IsMetro">

                    {{getHRAAddressDetails(selectedInvestmentItem,'NameofCity')}}

                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Name of Landlord </label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem.LandLordDetails.Name}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Address of Landlord </label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{getHRAAddressDetails(selectedInvestmentItem,'LandlordAddress')}}

                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Rental House Address </label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{getHRAAddressDetails(selectedInvestmentItem,'RentalHouseAddress')}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6" style="margin-bottom: 2rem;">
              <div class="form-group">
                <label class="form-label searchbar-label">PAN of Landlord</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="selectedInvestmentItem.LandLordDetails.PAN">
                    {{selectedInvestmentItem.LandLordDetails.PAN}}
                  </h3>
                  <h3 style="font-size: 12px;margin-bottom: 0px;"
                    *ngIf="selectedInvestmentItem.LandLordDetails.PAN == null">
                    ---
                  </h3>
                </label>
              </div>
            </div>



            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Declared Amount</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem.RentAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
                  </h3>
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <h3 style="font-size: 12px;margin-bottom: 0px;">
                    {{selectedInvestmentItem.InputsRemarks}}
                  </h3>
                </label>
              </div>
            </div>


            <div class="col-md-6">

              <div class="form-group">
                <label class="form-label searchbar-label">Total Approved Amount</label>
                <label class="qcsummarylabel form-text text-muted">
                  <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedAmount"
                    [(ngModel)]="selectedInvestmentItem.ApprovedAmount" placeholder="12000" autocomplete="off">
                </label>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
                <label class="qcsummarylabel form-text text-muted">
                  <textarea class="form-control" rows="2" [disabled]="!IsEditable"
                    [(ngModel)]="selectedInvestmentItem.ApproverRemarks" spellcheck="false"
                    placeholder="Type your message here..." id="approverejectremarks"></textarea>
                </label>

              </div>
            </div>

          </div> -->






          <div class="card" style="background: #FFFFFF;
          box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);
          border-radius: 4px;border:none">
            <div class="card-body" *ngIf="!IsExemptionExists && !IsHRAExists && !IsOtherIncomeExists">



              <div class="row" style="margin-right: 15px;margin-bottom: 10px;">
                <div class="col-md-12 text-center">

                  <!-- <div class="container">
                <a href="javascript:;" class="btn in" *ngFor="let photo of selectedInvestmentItem.LstEmployeeInvestmentDocuments">
                  <i class="fa fa-eye">
                    {{photo.FileName}}
                  </i>
                </a>
              </div> -->
                  <ng-container *ngFor="let photo of selectedInvestmentItem.LstEmployeeInvestmentDocuments">
                    <span style="font-size: 10px;
                    border: 1px solid #e4e4e4;
                    font-weight: 600;
                    display: inline-block;
                    padding: 4px;
                    border-radius: 4px;
                    background: #c1c1c1;
                    color: white;
                    cursor: pointer;" (click)="showImage(photo, 'NonExemptions')">
                      <i class="mdi mdi-download" (click)="downloadImage(photo, 'NonExemptions')" matTooltip="Download"
                        style="padding: 0px;
                      margin-bottom: 7px;
                      float: right;
                      font-size: 15px;"></i>
                      <img src="assets/Images/icons/{{getImageType(photo.FileName)}}.png" class="" style="    width: 20px;
                      display: block;
                      margin: 0 auto;
                      margin-top: 8px;
                      margin-left: 38px;
                      margin-bottom: 2px;
              ">

                      <div class="upload-info">
                        <svg t="1581822650945" class="clip" viewBox="0 0 1024 1024" version="1.1"
                          xmlns="http://www.w3.org/2000/svg" p-id="3250" width="20" height="20">
                          <path
                            d="M645.51621918 141.21142578c21.36236596 0 41.79528808 4.04901123 61.4025879 12.06298852a159.71594214 159.71594214 0 0 1 54.26367236 35.87255836c15.84503198 16.07739258 27.76959252 34.13726783 35.78356909 54.13513184 7.86071778 19.30572486 11.76635766 39.80291724 11.76635767 61.53607177 0 21.68371583-3.90563989 42.22045875-11.76635767 61.54101586-8.01397729 19.99291992-19.95831275 38.02807617-35.78356909 54.08569313l-301.39672877 302.0839231c-9.21038818 9.22027564-20.15112281 16.48278832-32.74310277 21.77270508-12.29040503 4.81036401-24.54125953 7.19329834-36.82177783 7.19329834-12.29040503 0-24.56103516-2.38293433-36.85638427-7.19329834-12.63647461-5.28991675-23.53271461-12.55737281-32.7381587-21.77270508-9.55151367-9.58117675-16.69042992-20.44775367-21.50573731-32.57995583-4.7856443-11.61804223-7.15869117-23.91339135-7.15869188-36.9255979 0-13.14074708 2.37304688-25.55474854 7.16363524-37.19256639 4.81036401-11.94927954 11.94927954-22.78619408 21.50079395-32.55029274l278.11614966-278.46221923c6.45172119-6.51104737 14.22344971-9.75421118 23.27563501-9.75421119 8.8692627 0 16.54705787 3.24316383 23.03338622 9.75421119 6.47644019 6.49127173 9.73937964 14.18389916 9.73937964 23.08282495 0 9.0521853-3.26293945 16.81896972-9.73937964 23.32012891L366.97489888 629.73773218c-6.32812477 6.2935183-9.48724342 14.08007836-9.48724415 23.30529736 0 9.06701684 3.15417457 16.75964356 9.48724414 23.08776904 6.80273414 6.50610328 14.55963111 9.75915528 23.26574683 9.75915527 8.67150855 0 16.43334961-3.253052 23.27563501-9.76409935l301.37695313-302.04931665c18.93988037-18.96459937 28.40734887-42.04742432 28.40734814-69.25836158 0-27.16149926-9.4674685-50.26409912-28.40734815-69.22869849-19.44415283-19.13269043-42.55664086-28.72375464-69.31274438-28.72375536-26.97363258 0-49.99218727 9.59106422-69.1001587 28.72375536L274.3370815 536.89227319a159.99774146 159.99774146 0 0 0-35.80828883 54.33288526c-8.0337522 19.65179443-12.04321289 40.2824707-12.04321289 61.79809618 0 21.20910645 4.00451661 41.81011963 12.04321289 61.79809547 8.17218018 20.34393287 20.10168481 38.36920166 35.80828883 54.08569312 16.225708 16.06256104 34.30535888 28.13049292 54.23400854 36.15930176 19.91381813 8.0337522 40.47033667 12.06793189 61.64978002 12.0679326 21.13989281 0 41.70135474-4.03417969 61.63000513-12.0679326 19.91876221-8.02386474 38.01818872-20.09674073 54.2241211-36.15435768l300.86773656-301.53515601c6.47644019-6.50115991 14.23828125-9.76904273 23.28057912-9.76904344 8.88903833 0 16.56188941 3.26293945 23.04821776 9.76904344 6.48632836 6.48632836 9.7245481 14.17895508 9.7245481 23.06799269 0 9.09667992-3.23822046 16.8535769-9.7245481 23.37451172L552.40379244 815.35449242c-22.00012231 22.01989722-47.32745362 38.88336158-75.986938 50.49151564C449.10209565 877.14270043 420.37834101 882.78857422 390.21592671 882.78857422c-30.01904297 0-58.74279761-5.64587378-86.20587183-16.94256616-28.6842041-11.60815406-54.00659203-28.47161842-76.00671362-50.49151564a226.19586182 226.19586182 0 0 1-50.13061524-75.90289354A226.86328125 226.86328125 0 0 1 160.9697104 653.04797364c0-30.08331323 5.62115479-58.88122559 16.90795899-86.38385035 11.40545654-28.37768578 28.11566138-53.75939917 50.13061523-76.15997313h0.24719287L530.14164643 189.20135474c15.69177247-15.731323 33.68737817-27.70037818 53.98681641-35.89727735C604.09666377 145.26043701 624.55430562 141.23120141 645.51127583 141.23120141V141.21142578z"
                            p-id="3251"></path>
                        </svg>
                        <span class="upload-filename drop-text" matTooltip="{{photo.FileName}}" style="white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        width: 75px;">{{photo.FileName}}</span>
                      </div>
                    </span>
                  </ng-container>
                </div>
              </div>

              <div class="iframe-container" *ngIf="isCallingS3Bucket && documentURL == null" style="text-align: center;
          margin-top: 3rem;">
                <!-- <img src="assets/Images/logo_menu.png" style="opacity: .5;width: 25px;"> -->
                <span>
                  <i class="mdi mdi-cached mdi-spin" style="text-align: center;
              font-weight: 500;
              font-size: 14px;
              text-decoration: none;
              text-transform: unset;
              font-style: inherit;">
                    &nbsp; Please wait...</i>
                </span>
              </div>

              <div class="container" *ngIf="documentURL != null && !isCallingS3Bucket">
                <div class="h_iframe" style="height: 40rem;">
                  <iframe [src]="documentURL" frameborder="0" allowfullscreen></iframe>
                </div>
              </div>

            </div>
          </div>



          <div class="card" style="background: #FFFFFF;
          box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);
          border-radius: 4px;border:none">
            <div class="card-body" *ngIf="IsOtherIncomeExists">



              <div class="row" style="margin-right: 15px;margin-bottom: 10px;">
                <div class="col-md-12 text-center">

                  <!-- <div class="container">
                <a href="javascript:;" class="btn in" *ngFor="let photo of selectedInvestmentItem.LstEmployeeInvestmentDocuments">
                  <i class="fa fa-eye">
                    {{photo.FileName}}
                  </i>
                </a>
              </div> -->
                  <ng-container *ngIf="selectedInvestmentItem.DocumentId > 0">
                    <span style="font-size: 10px;
                    border: 1px solid #e4e4e4;
                    font-weight: 600;
                    display: inline-block;
                    padding: 4px;
                    border-radius: 4px;
                    background: #c1c1c1;
                    color: white;
                    cursor: pointer;" (click)="showImage(selectedInvestmentItem, 'NonExemptions')">
                      <i class="mdi mdi-download" (click)="downloadImage(selectedInvestmentItem, 'NonExemptions')"
                        matTooltip="Download" style="padding: 0px;
                      margin-bottom: 7px;
                      float: right;
                      font-size: 15px;"></i>
                      <img src="assets/Images/icons/{{getImageType(selectedInvestmentItem.FileName)}}.png" class=""
                        style="    width: 20px;
                      display: block;
                      margin: 0 auto;
                      margin-top: 8px;
                      margin-left: 38px;
                      margin-bottom: 2px;
              ">

                      <div class="upload-info">
                        <svg t="1581822650945" class="clip" viewBox="0 0 1024 1024" version="1.1"
                          xmlns="http://www.w3.org/2000/svg" p-id="3250" width="20" height="20">
                          <path
                            d="M645.51621918 141.21142578c21.36236596 0 41.79528808 4.04901123 61.4025879 12.06298852a159.71594214 159.71594214 0 0 1 54.26367236 35.87255836c15.84503198 16.07739258 27.76959252 34.13726783 35.78356909 54.13513184 7.86071778 19.30572486 11.76635766 39.80291724 11.76635767 61.53607177 0 21.68371583-3.90563989 42.22045875-11.76635767 61.54101586-8.01397729 19.99291992-19.95831275 38.02807617-35.78356909 54.08569313l-301.39672877 302.0839231c-9.21038818 9.22027564-20.15112281 16.48278832-32.74310277 21.77270508-12.29040503 4.81036401-24.54125953 7.19329834-36.82177783 7.19329834-12.29040503 0-24.56103516-2.38293433-36.85638427-7.19329834-12.63647461-5.28991675-23.53271461-12.55737281-32.7381587-21.77270508-9.55151367-9.58117675-16.69042992-20.44775367-21.50573731-32.57995583-4.7856443-11.61804223-7.15869117-23.91339135-7.15869188-36.9255979 0-13.14074708 2.37304688-25.55474854 7.16363524-37.19256639 4.81036401-11.94927954 11.94927954-22.78619408 21.50079395-32.55029274l278.11614966-278.46221923c6.45172119-6.51104737 14.22344971-9.75421118 23.27563501-9.75421119 8.8692627 0 16.54705787 3.24316383 23.03338622 9.75421119 6.47644019 6.49127173 9.73937964 14.18389916 9.73937964 23.08282495 0 9.0521853-3.26293945 16.81896972-9.73937964 23.32012891L366.97489888 629.73773218c-6.32812477 6.2935183-9.48724342 14.08007836-9.48724415 23.30529736 0 9.06701684 3.15417457 16.75964356 9.48724414 23.08776904 6.80273414 6.50610328 14.55963111 9.75915528 23.26574683 9.75915527 8.67150855 0 16.43334961-3.253052 23.27563501-9.76409935l301.37695313-302.04931665c18.93988037-18.96459937 28.40734887-42.04742432 28.40734814-69.25836158 0-27.16149926-9.4674685-50.26409912-28.40734815-69.22869849-19.44415283-19.13269043-42.55664086-28.72375464-69.31274438-28.72375536-26.97363258 0-49.99218727 9.59106422-69.1001587 28.72375536L274.3370815 536.89227319a159.99774146 159.99774146 0 0 0-35.80828883 54.33288526c-8.0337522 19.65179443-12.04321289 40.2824707-12.04321289 61.79809618 0 21.20910645 4.00451661 41.81011963 12.04321289 61.79809547 8.17218018 20.34393287 20.10168481 38.36920166 35.80828883 54.08569312 16.225708 16.06256104 34.30535888 28.13049292 54.23400854 36.15930176 19.91381813 8.0337522 40.47033667 12.06793189 61.64978002 12.0679326 21.13989281 0 41.70135474-4.03417969 61.63000513-12.0679326 19.91876221-8.02386474 38.01818872-20.09674073 54.2241211-36.15435768l300.86773656-301.53515601c6.47644019-6.50115991 14.23828125-9.76904273 23.28057912-9.76904344 8.88903833 0 16.56188941 3.26293945 23.04821776 9.76904344 6.48632836 6.48632836 9.7245481 14.17895508 9.7245481 23.06799269 0 9.09667992-3.23822046 16.8535769-9.7245481 23.37451172L552.40379244 815.35449242c-22.00012231 22.01989722-47.32745362 38.88336158-75.986938 50.49151564C449.10209565 877.14270043 420.37834101 882.78857422 390.21592671 882.78857422c-30.01904297 0-58.74279761-5.64587378-86.20587183-16.94256616-28.6842041-11.60815406-54.00659203-28.47161842-76.00671362-50.49151564a226.19586182 226.19586182 0 0 1-50.13061524-75.90289354A226.86328125 226.86328125 0 0 1 160.9697104 653.04797364c0-30.08331323 5.62115479-58.88122559 16.90795899-86.38385035 11.40545654-28.37768578 28.11566138-53.75939917 50.13061523-76.15997313h0.24719287L530.14164643 189.20135474c15.69177247-15.731323 33.68737817-27.70037818 53.98681641-35.89727735C604.09666377 145.26043701 624.55430562 141.23120141 645.51127583 141.23120141V141.21142578z"
                            p-id="3251"></path>
                        </svg>
                        <span class="upload-filename drop-text" matTooltip="{{selectedInvestmentItem.FileName}}" style="white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        width: 75px;">{{selectedInvestmentItem.FileName}}</span>
                      </div>
                    </span>
                  </ng-container>
                </div>
              </div>

              <div class="iframe-container" *ngIf="isCallingS3Bucket && documentURL == null" style="text-align: center;
          margin-top: 3rem;">
                <!-- <img src="assets/Images/logo_menu.png" style="opacity: .5;width: 25px;"> -->
                <span>
                  <i class="mdi mdi-cached mdi-spin" style="text-align: center;
              font-weight: 500;
              font-size: 14px;
              text-decoration: none;
              text-transform: unset;
              font-style: inherit;">
                    &nbsp; Please wait...</i>
                </span>
              </div>

              <div class="container" *ngIf="documentURL != null && !isCallingS3Bucket">
                <div class="h_iframe" style="height: 40rem;">
                  <iframe [src]="documentURL" frameborder="0" allowfullscreen></iframe>
                </div>
              </div>

            </div>
          </div>



          <br />
          <br />



        </div>
      </div>


      <div class="row" *ngIf="!isReviewing">
        <div class="col-md-12 text-right" style=" position: fixed;
    height: 50px;
    background-color: white;
    bottom: 0px;
    left: 0px;
    right: 0px;
    margin-bottom: 0px;box-shadow: 0px -3px 5px #f1f1f1;">

          <button class="btn btn-link" type="button"
            style="text-decoration: none !important;margin-top: 10px; margin-right: 15px;"
            (click)="cancel_Verification()"> &nbsp; &nbsp; Cancel &nbsp; &nbsp; </button>

          <button class="btn btn-primary" (click)="save_Verification(null)"
            style="background: #146BA2 !important;margin-top: 10px;margin-right: 10px;"> <i
              class="mdi mdi-shape-square-rounded-plus"></i>&nbsp; &nbsp; Save &nbsp; &nbsp;
          </button>

          <button class="btn btn-link" type="button" style=" background: #F96E5F !important;margin-top: 10px; margin-right: 10px;
            color: white;text-decoration: none;" (click)="submit_Verification(false)"> &nbsp; &nbsp; Reject
            &nbsp; &nbsp; </button>

          <button class="btn btn-primary"
            style="background: #27AE60 !important;margin-top: 10px;margin-right: 10px;border: none; "
            (click)="submit_Verification(true)"> <i class="mdi mdi-shape-square-rounded-plus"></i>&nbsp; &nbsp; Approve
            &nbsp; &nbsp;
          </button>
        </div>
      </div>
    </div>

  </div>
</div>


<ng-template #longContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title" style="font-size: 12px;" *ngIf="HRALandlordDetails">{{HRALandlordDetails.StartDate | date}}
      - {{HRALandlordDetails.EndDate | date}}</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="row" *ngIf="HRALandlordDetails">
      <!-- <div class="col-md-12">
        <div class="form-group">
          <label class="form-label searchbar-label">Start - End Date</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{HRALandlordDetails.StartDate | date}} - {{HRALandlordDetails.EndDate | date}}
            </h3>
          </label>
        </div>
      </div> -->
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Name of Landlord </label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{HRALandlordDetails.LandLordDetails.Name}}
            </h3>
          </label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">City</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="HRALandlordDetails.IsMetro">
              {{getCityName(HRALandlordDetails)}}
            </h3>
            <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="!HRALandlordDetails.IsMetro">

              {{getHRAAddressDetails(HRALandlordDetails,'NameofCity')}}

            </h3>
          </label>
        </div>
      </div>



      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Address of Landlord </label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{getHRAAddressDetails(HRALandlordDetails,'LandlordAddress')}}

            </h3>
          </label>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Rental House Address </label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{getHRAAddressDetails(HRALandlordDetails,'RentalHouseAddress')}}
            </h3>
          </label>
        </div>
      </div>

      <div class="col-md-6" style="margin-bottom: 2rem;">
        <div class="form-group">
          <label class="form-label searchbar-label">PAN of Landlord</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="HRALandlordDetails.LandLordDetails.PAN">
              {{HRALandlordDetails.LandLordDetails.PAN}}
            </h3>
            <h3 style="font-size: 12px;margin-bottom: 0px;" *ngIf="HRALandlordDetails.LandLordDetails.PAN == null">
              ---
            </h3>
          </label>
        </div>
      </div>



      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Invested Amount</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{HRALandlordDetails.RentAmount | currency:'INR':'symbol-narrow':'1.2-2'}}
            </h3>
          </label>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Remarks</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{HRALandlordDetails.InputsRemarks}}
            </h3>
          </label>
        </div>
      </div>


      <div class="col-md-6">

        <div class="form-group">
          <label class="form-label searchbar-label">Total Approved Amount</label>
          <label class="qcsummarylabel form-text text-muted">
            <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedAmount"
              onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="HRALandlordDetails.ApprovedAmount"
              placeholder="12000" autocomplete="off">
          </label>
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-group">
          <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
          <label class="qcsummarylabel form-text text-muted">
            <textarea class="form-control" rows="2" [disabled]="!IsEditable"
              [(ngModel)]="HRALandlordDetails.ApproverRemarks" spellcheck="false"
              placeholder="Type your message here..." id="approverejectremarks"></textarea>
          </label>

        </div>
      </div>

    </div>

    <div class="card" style="background: #FFFFFF;
    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);
    border-radius: 4px;border:none">
      <div class="card-body">



        <div class="row" style="margin-right: 15px;margin-bottom: 10px;">
          <div class="col-md-12 text-center">

            <!-- <div class="container">
          <a href="javascript:;" class="btn in" *ngFor="let photo of selectedInvestmentItem.LstEmployeeInvestmentDocuments">
            <i class="fa fa-eye">
              {{photo.FileName}}
            </i>
          </a>
        </div> -->
            <ng-container *ngFor="let photo of HRALandlordDetails.LstEmployeeInvestmentDocuments">
              <span style="font-size: 10px;
              border: 1px solid #e4e4e4;
              font-weight: 600;
              display: inline-block;
              padding: 4px;
              border-radius: 4px;
              background: #c1c1c1;
              color: white;
              cursor: pointer;" (click)="showImage(photo, 'NonExemptions')">
                <i class="mdi mdi-download" (click)="downloadImage(photo, 'NonExemptions')" matTooltip="Download" style="padding: 0px;
                margin-bottom: 7px;
                float: right;
                font-size: 15px;"></i>
                <img src="assets/Images/icons/{{getImageType(photo.FileName)}}.png" class="" style="    width: 20px;
                display: block;
                margin: 0 auto;
                margin-top: 8px;
                margin-left: 38px;
                margin-bottom: 2px;
        ">

                <div class="upload-info">
                  <svg t="1581822650945" class="clip" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="3250" width="20" height="20">
                    <path
                      d="M645.51621918 141.21142578c21.36236596 0 41.79528808 4.04901123 61.4025879 12.06298852a159.71594214 159.71594214 0 0 1 54.26367236 35.87255836c15.84503198 16.07739258 27.76959252 34.13726783 35.78356909 54.13513184 7.86071778 19.30572486 11.76635766 39.80291724 11.76635767 61.53607177 0 21.68371583-3.90563989 42.22045875-11.76635767 61.54101586-8.01397729 19.99291992-19.95831275 38.02807617-35.78356909 54.08569313l-301.39672877 302.0839231c-9.21038818 9.22027564-20.15112281 16.48278832-32.74310277 21.77270508-12.29040503 4.81036401-24.54125953 7.19329834-36.82177783 7.19329834-12.29040503 0-24.56103516-2.38293433-36.85638427-7.19329834-12.63647461-5.28991675-23.53271461-12.55737281-32.7381587-21.77270508-9.55151367-9.58117675-16.69042992-20.44775367-21.50573731-32.57995583-4.7856443-11.61804223-7.15869117-23.91339135-7.15869188-36.9255979 0-13.14074708 2.37304688-25.55474854 7.16363524-37.19256639 4.81036401-11.94927954 11.94927954-22.78619408 21.50079395-32.55029274l278.11614966-278.46221923c6.45172119-6.51104737 14.22344971-9.75421118 23.27563501-9.75421119 8.8692627 0 16.54705787 3.24316383 23.03338622 9.75421119 6.47644019 6.49127173 9.73937964 14.18389916 9.73937964 23.08282495 0 9.0521853-3.26293945 16.81896972-9.73937964 23.32012891L366.97489888 629.73773218c-6.32812477 6.2935183-9.48724342 14.08007836-9.48724415 23.30529736 0 9.06701684 3.15417457 16.75964356 9.48724414 23.08776904 6.80273414 6.50610328 14.55963111 9.75915528 23.26574683 9.75915527 8.67150855 0 16.43334961-3.253052 23.27563501-9.76409935l301.37695313-302.04931665c18.93988037-18.96459937 28.40734887-42.04742432 28.40734814-69.25836158 0-27.16149926-9.4674685-50.26409912-28.40734815-69.22869849-19.44415283-19.13269043-42.55664086-28.72375464-69.31274438-28.72375536-26.97363258 0-49.99218727 9.59106422-69.1001587 28.72375536L274.3370815 536.89227319a159.99774146 159.99774146 0 0 0-35.80828883 54.33288526c-8.0337522 19.65179443-12.04321289 40.2824707-12.04321289 61.79809618 0 21.20910645 4.00451661 41.81011963 12.04321289 61.79809547 8.17218018 20.34393287 20.10168481 38.36920166 35.80828883 54.08569312 16.225708 16.06256104 34.30535888 28.13049292 54.23400854 36.15930176 19.91381813 8.0337522 40.47033667 12.06793189 61.64978002 12.0679326 21.13989281 0 41.70135474-4.03417969 61.63000513-12.0679326 19.91876221-8.02386474 38.01818872-20.09674073 54.2241211-36.15435768l300.86773656-301.53515601c6.47644019-6.50115991 14.23828125-9.76904273 23.28057912-9.76904344 8.88903833 0 16.56188941 3.26293945 23.04821776 9.76904344 6.48632836 6.48632836 9.7245481 14.17895508 9.7245481 23.06799269 0 9.09667992-3.23822046 16.8535769-9.7245481 23.37451172L552.40379244 815.35449242c-22.00012231 22.01989722-47.32745362 38.88336158-75.986938 50.49151564C449.10209565 877.14270043 420.37834101 882.78857422 390.21592671 882.78857422c-30.01904297 0-58.74279761-5.64587378-86.20587183-16.94256616-28.6842041-11.60815406-54.00659203-28.47161842-76.00671362-50.49151564a226.19586182 226.19586182 0 0 1-50.13061524-75.90289354A226.86328125 226.86328125 0 0 1 160.9697104 653.04797364c0-30.08331323 5.62115479-58.88122559 16.90795899-86.38385035 11.40545654-28.37768578 28.11566138-53.75939917 50.13061523-76.15997313h0.24719287L530.14164643 189.20135474c15.69177247-15.731323 33.68737817-27.70037818 53.98681641-35.89727735C604.09666377 145.26043701 624.55430562 141.23120141 645.51127583 141.23120141V141.21142578z"
                      p-id="3251"></path>
                  </svg>
                  <span class="upload-filename drop-text" matTooltip="{{photo.FileName}}" style="white-space: nowrap;
                  overflow: hidden;
                  text-overflow: ellipsis;
                  width: 75px;">{{photo.FileName}}</span>
                </div>
              </span>
            </ng-container>
          </div>
        </div>

        <div class="iframe-container" *ngIf="isCallingS3Bucket && documentURL == null" style="text-align: center;
    margin-top: 3rem;">
          <span>
            <i class="mdi mdi-cached mdi-spin" style="text-align: center;
        font-weight: 500;
        font-size: 14px;
        text-decoration: none;
        text-transform: unset;
        font-style: inherit;">
              &nbsp; Please wait...</i>
          </span>
        </div>

        <div class="container" *ngIf="documentURL != null && !isCallingS3Bucket">
          <div class="h_iframe">
            <iframe [src]="documentURL" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>

      </div>
    </div>


  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>






<ng-template #previousEmploymentContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title" style="font-size: 12px;" *ngIf="previousEmploymentDetails">
      {{previousEmploymentDetails.CompanyName}} | {{previousEmploymentDetails.StartDate | date }} -
      {{previousEmploymentDetails.EndDate | date}}
    </h4>


    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="row" *ngIf="previousEmploymentDetails">

      <div class="col-md-12 text-right">
        <app-filedownload [documentId]="previousEmploymentDetails.DocumentId">
        </app-filedownload>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Gross Salary</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{previousEmploymentDetails.GrossSalary | number : '1.2-2'}}
            </h3>
          </label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label"> Previous PT</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{previousEmploymentDetails.PreviousPT | number : '1.2-2'}}
            </h3>

          </label>
        </div>
      </div>



      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Previous PF </label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{previousEmploymentDetails.PreviousPF | number : '1.2-2'}}
            </h3>
          </label>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Tax Deducted </label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{previousEmploymentDetails.TaxDeducted | number : '1.2-2'}}
            </h3>
          </label>
        </div>
      </div>



      <div class="col-md-12">

        <div class="form-group">
          <label class="form-label searchbar-label">Approved Gross Salary</label>
          <label class="qcsummarylabel form-text text-muted">
            <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedGrossSalary"
              onkeypress="return /^[0-9]+$/i.test(event.key)"
              [(ngModel)]="previousEmploymentDetails.ApprovedGrossSalary" placeholder="12000" autocomplete="off">
          </label>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label class="form-label searchbar-label">Approved Previous PF</label>
          <label class="qcsummarylabel form-text text-muted">
            <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedPreviousPF"
              onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="previousEmploymentDetails.ApprovedPreviousPF"
              placeholder="12000" autocomplete="off">
          </label>
        </div>
      </div>
      <div class="col-md-6">

        <div class="form-group">
          <label class="form-label searchbar-label">Approved Tax Deducted</label>
          <label class="qcsummarylabel form-text text-muted">
            <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedTaxDeducted"
              onkeypress="return /^[0-9]+$/i.test(event.key)"
              [(ngModel)]="previousEmploymentDetails.ApprovedTaxDeducted" placeholder="12000" autocomplete="off">
          </label>
        </div>
      </div>
     
      <div class="col-md-6">

        <div class="form-group">
          <label class="form-label searchbar-label">Approved Previous PT</label>
          <label class="qcsummarylabel form-text text-muted">
            <input class="form-control" type="number" [disabled]="!IsEditable" name="ApprovedPreviousPT"
              onkeypress="return /^[0-9]+$/i.test(event.key)" [(ngModel)]="previousEmploymentDetails.ApprovedPreviousPT"
              placeholder="12000" autocomplete="off">
          </label>
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-group">
          <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
          <label class="qcsummarylabel form-text text-muted">
            <textarea class="form-control" rows="2" [disabled]="!IsEditable"
              [(ngModel)]="previousEmploymentDetails.ApproverRemarks" spellcheck="false"
              placeholder="Type your message here..." id="approverejectremarks"></textarea>
          </label>

        </div>
      </div>

    </div>

    <div class="card" style="background: #FFFFFF;
    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);
    border-radius: 4px;border:none">
      <div class="card-body">

        <div class="iframe-container" *ngIf="isCallingS3Bucket && documentURL == null" style="text-align: center;
    margin-top: 3rem;">
          <span>
            <i class="mdi mdi-cached mdi-spin" style="text-align: center;
        font-weight: 500;
        font-size: 14px;
        text-decoration: none;
        text-transform: unset;
        font-style: inherit;">
              &nbsp; Please wait...</i>
          </span>
        </div>

        <div class="container" *ngIf="documentURL != null && !isCallingS3Bucket">
          <div class="h_iframe">
            <iframe [src]="documentURL" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>

      </div>
    </div>


  </div>
  <div class="modal-footer">
    <button class="btn btn-link" *ngIf="IsEditable" type="button" style="background: #F96E5F !important;text-decoration: none !important;margin-top: 10px; margin-right: 15px;border: none;width: 100px;
              height: 36px;
                color: white;" (click)="approvereject_employment(previousEmploymentDetails,false, 'Popup')"> &nbsp;
      &nbsp; Reject
      &nbsp; &nbsp; </button>

    <button class="btn btn-primary" *ngIf="IsEditable" style="background: #27AE60 !important;margin-top: 10px;border: none;width: 100px;
              height: 36px;" (click)="approvereject_employment(previousEmploymentDetails,true,'Popup')"> <i
        class="mdi mdi-shape-square-rounded-plus"></i>&nbsp; &nbsp; Approve &nbsp; &nbsp;
    </button>


    <button type="button" *ngIf="!IsEditable" class="btn btn-light" (click)="edit_Verification_prev()">Edit</button>
    <button type="button" class="btn btn-light"
      (click)="close_prev_verification(previousEmploymentDetails)">Close</button>
  </div>
</ng-template>



<ng-template #PerquisitesContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title" style="font-size: 12px;" *ngIf="perquisitesDetail">
      {{getPerqProductName(perquisitesDetail.ProductId)}} | {{getPerqProductDescription(perquisitesDetail.ProductId)}}
    </h4>


    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="row" *ngIf="perquisitesDetail">

      <div class="col-md-12 text-right">
        <app-filedownload [documentId]="perquisitesDetail.DocumentId">
        </app-filedownload>
      </div>

      <div class="col-md-12">
        <div class="form-group">
          <label class="form-label searchbar-label">Approved Amount</label>
          <label class="qcsummarylabel form-text text-muted">
            <h3 style="font-size: 12px;margin-bottom: 0px;">
              {{perquisitesDetail.ApprovedAmount | number : '1.2-2'}}
            </h3>
          </label>
        </div>
      </div>


      <div class="col-md-12">
        <div class="form-group">
          <label class="form-label searchbar-label">Approval / Rejection Remarks</label>
          <label class="qcsummarylabel form-text text-muted">
            <textarea class="form-control" rows="2" [disabled]="!IsEditable" disabled
              [(ngModel)]="perquisitesDetail.ApproverRemarks" spellcheck="false" placeholder="Type your message here..."
              id="approverejectremarks"></textarea>
          </label>

        </div>
      </div>

    </div>

    <div class="card" style="background: #FFFFFF;
    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.16);
    border-radius: 4px;border:none">
      <div class="card-body">

        <div class="iframe-container" *ngIf="isCallingS3Bucket && documentURL == null" style="text-align: center;
    margin-top: 3rem;">
          <span>
            <i class="mdi mdi-cached mdi-spin" style="text-align: center;
        font-weight: 500;
        font-size: 14px;
        text-decoration: none;
        text-transform: unset;
        font-style: inherit;">
              &nbsp; Please wait...</i>
          </span>
        </div>

        <div class="container" *ngIf="documentURL != null && !isCallingS3Bucket">
          <div class="h_iframe">
            <iframe [src]="documentURL" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>

      </div>
    </div>


  </div>
  <div class="modal-footer">
    <!-- <button class="btn btn-link" *ngIf="IsEditable" type="button" style="background: #F96E5F !important;text-decoration: none !important;margin-top: 10px; margin-right: 15px;border: none;width: 100px;
              height: 36px;
                color: white;" (click)="approvereject_perquisites(perquisitesDetail,false, 'Popup')"> &nbsp;
      &nbsp; Reject
      &nbsp; &nbsp; </button>

    <button class="btn btn-primary" *ngIf="IsEditable" style="background: #27AE60 !important;margin-top: 10px;border: none;width: 100px;
              height: 36px;" (click)="approvereject_perquisites(perquisitesDetail,true,'Popup')"> <i
        class="mdi mdi-shape-square-rounded-plus"></i>&nbsp; &nbsp; Approve &nbsp; &nbsp;
    </button> -->


    <!-- <button type="button" *ngIf="!IsEditable" class="btn btn-light" (click)="edit_Verification_prev()">Edit</button> -->
    <button type="button" class="btn btn-light"
      (click)="close_perquisites_verification(perquisitesDetail)">Close</button>
  </div>
</ng-template>


<ng-template #dependentDetailsModal let-modal>

  <div class="modal-header">
    <h4 class="modal-title" style="font-size: 15px; font-weight: 600;">FamilyTravellers details</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')">Close</button>
  </div>

  <div class="modal-body">
    <div class="row" *ngIf="LstTravellerDetails.length > 0">
      <div class="card col-lg-6" *ngFor="let dependent of LstTravellerDetails; let i = index"
        style="border: 1px solid #ece9e9 !important; box-shadow: 0px 3px 3px 2px #d5dadf59; margin: 15px; padding: 10px;">

        <h6 style="font-weight: 600; color: black;"> <strong>Traveller Name:</strong>{{ dependent.TravellerName }}
        </h6>
        <span><strong>Relationship:</strong> {{getRelationShipName1(dependent.RelationshipType)}}</span>
        <span><strong>Date of Birth:</strong> {{ dependent.DateOfBirth | date }}</span>
      </div>
    </div>
  </div>

</ng-template>