<div class="page-wrapper">
  <div class="page-content">
    <!-- <app-loading-screen></app-loading-screen> -->
    <div class="text-center ma-5" *ngIf="spinner">
      <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
        <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status" aria-hidden="true"></span>
        Please wait...
      </button>
    </div>
    <div class="w-100" *ngIf="!spinner">
      <div class="row">
        <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
          style="margin-bottom:0px;">
          <div class="text-right">
            <ul class="list-inline">
              <li class="list-inline-item">
                <button type="button" class="btn upgrade-btn cursor-pointer" 
                  [disabled]="!isLoading || !enableAddDeductionBtn"  (click)="openDediuctionSlider()"> 
                  <i class="mdi mdi-database-plus  m-r-xs"></i> Add Deduction
                </button>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <br>
      <div class="row tablerow">
        <div class="col-md-12 col-sm-12 col-12">
          <angular-slickgrid gridId="deductionGrid" [columnDefinitions]="columnDefinitions_Deduc" 
            (onAngularGridCreated)="angularGridReady_Deduction($event)"
            [gridOptions]="gridOptions_Deduction" [dataset]="LstDeductions" gridWidth="100%">
          </angular-slickgrid>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <app-loading-screen></app-loading-screen> -->

<!-- <app-alert-screen [invalidItems]="invaid_fields" *ngIf="invaid_fields.length > 0"></app-alert-screen> -->

<!-- <div class="content m-b report-content">
      <div class="row">
        <div class="col-lg-6">
          <ul class="list-inline" *ngIf="!isESSLogin">
            <li class="list-inline-item">
              <h5 class="mt-0 p-l-5">Employee Details</h5>
            </li>
          </ul>
        </div>
        <div class="col-lg-6 text-right">
          <div class="text-right">
            <ul class="list-inline" *ngIf="!spinner">
              <li class="list-inline-item"
                *ngIf="isESSLogin && activenavtab !== 'paymentInformation' && activenavtab != 'currentEmployment' && shouldhide && isESSEditCancel">
                <button class="btn btn-sm btn-default" (click)="enableEdit()" tooltip-placement="bottom"
                  data-original-title="" title="">
                  <i class="font-size-md"
                    [ngClass]="{'mdi mdi-close' : enableEditTxt == 'Cancel', 'fa fa-pencil-square-o' : enableEditTxt == 'Edit'}"></i>
                  {{enableEditTxt}}
                </button>
              </li>
              <li class="list-inline-item" *ngIf="enableEditTxt == 'Cancel' "><button *ngIf="isESSEditCancel"
                  type="button" class="btn btn-primary" (click)="doSaveOrSubmit()"> <i
                    class="mdi mdi-content-save  m-r-xs"></i> Save
                </button>
              </li>
              <li class="list-inline-item" *ngIf="enableEditTxt == 'Cancel' && TaxDeclaration != '1'">
                <button *ngIf="isESSEditCancel && !isInvestmentUnderQC  && activenavtab == 'investmentInformation'"
                  type="button" class="btn btn-primary" (click)="doSaveOrSubmit(true)"> <i
                    class="mdi mdi-content-save  m-r-xs"></i> Save and Submit
                </button>
              </li>
              <li class="list-inline-item" *ngIf="!isESSLogin && !isInvestmentUnderQC && TaxDeclaration != '1'"><button
                  *ngIf="isSave" type="button" class="btn btn-primary" (click)="doSaveOrSubmit(true)">
                  <i class="mdi mdi-content-save  m-r-xs"></i> Save and Submit
                </button>
              </li>
              <li class="list-inline-item" *ngIf="!isESSLogin"><button *ngIf="isSave" type="button"
                  class="btn btn-primary" (click)="doSaveOrSubmit(false)"> <i class="mdi mdi-content-save  m-r-xs"></i>
                  Save
                </button>
              </li>
              <li class="list-inline-item" *ngIf="!isESSLogin">
                <button class="btn btn-sm btn-default" tooltip="Close" *ngIf="isClose" (click)="confirmExit()"
                  tooltip-placement="bottom" data-original-title="" title="">
                  <i class="mdi mdi-close font-size-md"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <form [formGroup]="employeeForm">
        <div class="row">
          <div class="col-12 col-sm-12">

            <div class="headerbar-right">
              <div class="media" style="width: 5% !important;">
                <div class="media-body">
                  <label>Employee Name</label>
                  <h6 *ngIf="_EmployeeName == null"> --- </h6>
                  <h6>{{_EmployeeName}}</h6>
                </div>
              </div>
              <div class="media">
                <div class="media-body" style="width: 25% !important;">
                  <label>Employee Code</label>
                  <h6 *ngIf="_EmployeeCode == null"> --- </h6>

                  <h6>{{_EmployeeCode}}</h6>
                </div>
              </div>
              <div class="media">
                <div class="media-body" style="width: 25% !important;">
                  <label>Designation</label>
                  <h6 *ngIf="_Designation == null || _Designation == 'NULL'"> --- </h6>

                  <h6 *ngIf="_Designation != null && _Designation != 'NULL'">{{_Designation}}</h6>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br>

        <div class="text-center ma-5" *ngIf="spinner">
          <button class="btn btn-default p-l-30 p-r-30" type="button" disabled style="font-size: 12px;">
            <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status" aria-hidden="true"></span>
            Please wait...
          </button>
        </div>
        <div *ngIf="!spinner">

          <ngb-tabset (tabChange)="loadData($event)" [(activeId)]="activeTabName">
            <ngb-tab id="General" *ngIf="!isESSLogin || activenavtab == 'profile' ">
              <ng-template ngbTabTitle><i class="fa fa-get-pocket" aria-hidden="true"></i>&nbsp;&nbsp;General
              </ng-template>
              <ng-template ngbTabContent>

                <div class="col-12 col-md-12 col-sm-12" *ngIf="!spinner">
                  <div class="clearfix">
                    <div class="row" style="margin-top: 15px;">
                      <div class="col-12 col-sm-8">
                        <div class="row">
                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.Name">
                            <label class="form-label">Name <span class="required">* </span>
                              <span class="help-text m-l-5">(as per Aadhaar Card)</span>
                              <span class="form__length"> {{ Name.value?.length
                                }}/50</span>
                            </label>
                            <input class="form-control" type="text" spellcheck="false"
                              onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" name="Name" maxlength="50" #Name
                              formControlName="Name" [ngClass]="{ 'is-invalid': submitted && g.Name.errors }"
                              placeholder=" Name" autocomplete="none|false|no" onpaste="return false;">
                            <div *ngIf="submitted && g.Name.errors" class="invalid-feedback">
                              <div *ngIf="g.Name.errors.required">Name is required
                              </div>
                            </div>
                          </div>
                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.mobile">
                            <label class="form-label">Mobile No. <span class="required">*
                              </span></label>
                            <div class="input-group" style="margin-top: 0px;">
                              <div class="input-group-prepend">
                                <button disabled tabindex="-1" class="btn btn-outline-secondary dropdown-toggle"
                                  style="color: #fff; width: 90px;background-color: #6c757d;border-color: #6c757d;"
                                  type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+
                                  {{countryCode}}</button>
                                <div class="dropdown-menu" style="height: 200px;overflow-y: auto; border-radius: 0px;">
                                  <a class="dropdown-item" (click)="theFunction(item)"
                                    *ngFor="let item of LstcountryCode">{{item.name}}</a>
                                </div>
                              </div>
                              <input class="form-control" minlength="10"
                                style="border-top-left-radius: 0 !important;border-bottom-left-radius: 0 !important;"
                                type="text" maxlength="10" onkeypress="return /^[0-9]+$/i.test(event.key)" name="mobile"
                                formControlName="mobile" [ngClass]="{'is-invalid': submitted && g.mobile.errors }"
                                placeholder="9876543210" autocomplete="none|false|no" onpaste="return false;">
                            </div>
                            <div *ngIf="employeeForm.get('mobile').errors && employeeForm.get('mobile').touched "
                              class="help-block">
                              <div *ngIf="g.mobile.errors">Mobile no is required
                              </div>
                              <span *ngIf="employeeForm.get('mobile').errors.minlength">
                                Mobile No should be minimum 10 characters
                              </span>
                            </div>
                          </div>


                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.gender">
                            <label class="form-label">Gender <span class="required">*
                              </span></label>
                            <ng-select [items]="gender" placeholder="-- select Gender --" formControlName="gender"
                              [ngClass]="{'ng-touched': submitted && g.gender.invalid }" bindLabel="name"
                              bindValue="id">
                            </ng-select>

                            <div *ngIf="submitted && g.gender.invalid" class="help-block">
                              <div *ngIf="g.gender.errors.required">Gender is required
                              </div>
                            </div>
                          </div>
                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.dateOfBirth">
                            <label class="form-label">Date of Birth <span class="required">*
                              </span> <i class="mdi mdi-information-outline" placement="right" style="cursor: pointer;"
                                ngbTooltip="Please Specify as per aadhaar, if DOB not available in aadhaar, Please specify as per PAN card."></i>
                              <span class="help-text m-l-5">(Please specify as per Aadhaar
                                -
                                DD-MM-YYYY)</span> </label>
                            <input type="text" class="form-control" bsDatepicker placement="top" [maxDate]="DOBmaxDate"
                              (bsValueChange)="onChangeDOB($event)"
                              [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY',containerClass:'theme-default' }"
                              name="dateOfBirth" formControlName="dateOfBirth"
                              [ngClass]="{'is-invalid': submitted && g.dateOfBirth.errors }" placeholder="12-12-1990"
                              autocomplete="none|false|no">
                            <div *ngIf="submitted && g.dateOfBirth.errors" class="invalid-feedback">
                              <div *ngIf="g.dateOfBirth.errors.required">DOB is required
                              </div>
                            </div>
                          </div>

                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.email">
                            <label class="form-label">Email <span class="required">*
                              </span></label>
                            <input class="form-control" type="email" name="email"
                              pattern="^\S+@(([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6})$"
                              formControlName="email" [ngClass]="{'is-invalid': submitted && g.email.errors}"
                              placeholder="example@domain.com" autocomplete="none|false|no">

                            <div *ngIf="employeeForm.get('email').errors && employeeForm.get('email').touched "
                              class="help-block">
                              <div *ngIf="g.email.errors">E-Mail is required
                              </div>
                              <span *ngIf="employeeForm.get('email').errors.pattern">
                                Please
                                enter
                                valid email (pattern mismatch)
                              </span>
                            </div>
                          </div>

                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.email">
                            <label class="form-label">Official Email </label>

                            <input class="form-control" type="email" name="officialEmail"
                              pattern="^\S+@(([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6})$"
                              formControlName="officialEmail"
                              [ngClass]="{'is-invalid': submitted && g.officialEmail.errors}"
                              placeholder="example@domain.com" autocomplete="none|false|no">

                            <div
                              *ngIf="employeeForm.get('officialEmail').errors && employeeForm.get('officialEmail').touched "
                              class="help-block">
                              <div *ngIf="g.officialEmail.errors">E-Mail is required
                              </div>
                              <span *ngIf="employeeForm.get('officialEmail').errors.pattern">
                                Please
                                enter
                                valid email (pattern mismatch)
                              </span>
                            </div>
                          </div>




                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.fatherName">
                            <label class="form-label">Father's Name <span class="required">*
                              </span> <span class="help-text m-l-5">(Please specify as per
                                Aadhaar)</span>
                              <span class="form__length">
                                {{ fatherName.value?.length }}/50</span>
                            </label>
                            <input class="form-control" spellcheck="false"
                              onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" name="fatherName" maxlength="50"
                              #fatherName formControlName="fatherName"
                              [ngClass]="{'is-invalid': submitted && g.fatherName.errors }" placeholder="Father's Name"
                              autocomplete="none|false|no" onpaste="return false;">
                            <div *ngIf="submitted && g.fatherName.errors" class="invalid-feedback">
                              <div *ngIf="g.fatherName.errors.required">Father's Name is
                                required
                              </div>
                            </div>
                          </div>

                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.adhaarnumber">
                            <label class="form-label">Aadhaar Number </label>

                            <div class="input-group mb-3">
                              <input type="text" class="form-control" placeholder="4444 5555 6666"
                                formControlName="adhaarnumber"
                                [ngClass]="{ 'ng-touched': submitted && g.adhaarnumber.invalid }"
                                (keyup)="onChangeAadhaarNumber($event)" autocomplte="off" pattern="^([0-9X]){12}?$"
                                onkeypress="return /^[0-9]+$/i.test(event.key)" maxlength="12"
                                [attr.disabled]="isAadhaarNotEditable? true : null">
                              <div class="input-group-append" (click)="icontogglechange()" style="cursor: pointer;">
                                <span class="input-group-text" id="basic-addon2"><i class="fa fa-eye-slash"
                                    [ngClass]="{'fa-eye-slash': icontoggle, 'fa-eye': !icontoggle}"
                                    aria-hidden="true"></i> </span>
                              </div>
                            </div>

                            <div *ngIf="submitted && g.adhaarnumber.invalid" class="help-block">
                              <div *ngIf="g.adhaarnumber.errors.required">Aadhaar Number
                                is
                                required</div>
                            </div>
                            <div
                              *ngIf="employeeForm.get('adhaarnumber').errors && employeeForm.get('adhaarnumber').touched"
                              class="help-block">

                              <span *ngIf="employeeForm.get('adhaarnumber').errors.pattern">
                                Please match the
                                requested format. (Ex: 1012 3456 7891)
                              </span>
                            </div>
                          </div>

                          <div class="form-group form-group-vertical col-xs-12 col-sm-6"
                            *ngIf="this.employeeForm.controls.PANNO">
                            <label class="form-label">PAN No
                            </label>
                            <div class="input-group mb-3">
                              <input class="form-control uppercase" type="text"
                                pattern="^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$" maxlength="10" name="PANNO"
                                formControlName="PANNO" [ngClass]="{ 'ng-touched': submitted && g.PANNO.invalid }"
                                (keyup)="onChangePanNo($event)" placeholder="ABCDE1234F" autocomplete="none|false|no"
                                style="text-transform: uppercase;" [attr.disabled]="isPANNotEditable? true : null">

                            </div>

                            <div *ngIf="submitted && g.PANNO.invalid" class="help-block">
                              <div *ngIf="g.PANNO.errors.required">PAN no is required
                              </div>
                            </div>

                            <div *ngIf="employeeForm.get('PANNO').errors && employeeForm.get('PANNO').touched"
                              class="help-block">
                              <span *ngIf="employeeForm.get('PANNO').errors.pattern">
                                Please
                                match
                                the requested format. (Ex: ABCDE1234F)
                              </span>
                            </div>
                          </div>

                          <div class="form-group form-group-vertical col-xs-12 col-sm-6">
                            <label class="form-label">UAN No
                            </label>
                            <input class="form-control" type="text" pattern="^([1-9]){1}([0-9]){11}?$"
                              onkeypress="return /^[0-9]+$/i.test(event.key)" maxlength="12" name="UAN"
                              formControlName="UAN" placeholder="1012 3456 7891"
                              [ngClass]="{'is-invalid': submitted && g.UAN.errors  }" autocomplete="none|false|no">
                            <div *ngIf="submitted && g.UAN.errors" class="invalid-feedback">
                              <div *ngIf="g.UAN.errors.required">UAN is required
                              </div>
                            </div>
                            <div *ngIf="employeeForm.get('UAN').errors && employeeForm.get('UAN').touched"
                              class="help-block">

                              <span *ngIf="employeeForm.get('UAN').errors.pattern"> Please
                                match the
                                requested format. (Ex: 1012 3456 7891) | Number must be
                                start with
                                greater than 0.
                              </span>
                            </div>
                          </div>

                          <div class="form-group form-group-vertical col-xs-12 col-sm-6">
                            <label class="form-label">ESIC No
                            </label>
                            <input class="form-control" type="text" onkeypress="return /^[0-9]+$/i.test(event.key)"
                              maxlength="10" name="ESIC" formControlName="ESIC" placeholder="31-53-******"
                              [ngClass]="{'is-invalid': submitted && g.ESIC.errors  }" autocomplete="none|false|no">
                            <div *ngIf="submitted && g.ESIC.errors" class="invalid-feedback">
                              <div *ngIf="g.ESIC.errors.required">ESIC is required
                              </div>
                            </div>

                          </div>
                          <div class="form-group form-group-vertical col-xs-12 col-sm-6">
                            <label class="form-label">PF No
                            </label>
                            <input class="form-control" type="text" name="PFNumber" formControlName="PFNumber"
                              [ngClass]="{'is-invalid': submitted && g.PFNumber.errors  }" autocomplete="none|false|no">
                            <div *ngIf="submitted && g.PFNumber.errors" class="invalid-feedback">
                              <div *ngIf="g.PFNumber.errors.required">PF NO is required
                              </div>
                            </div>
                            <div *ngIf="employeeForm.get('PFNumber').errors && employeeForm.get('PFNumber').touched"
                              class="help-block">

                              <span *ngIf="employeeForm.get('PFNumber').errors.pattern">
                                Please
                                match the
                                requested format.
                              </span>
                            </div>
                          </div>



                          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-4 col-sm-6"
                            *ngIf="!isESSLogin">
                            <label class="form-label"> Is ESS Login Required </label>
                            <div class="p-t-10">
                              <label class="el-switch el-switch-green">
                                <input type="checkbox" name="switch" value="yes" formControlName="IsESSRequired">
                                <span class="el-switch-style"></span>
                              </label>
                            </div>
                          </div>


                        </div>
                      </div>

                      <div class="col-12 col-sm-4">
                        <p class="small mb-0" style="font-size: 16px;float:right" *ngIf="isActiveEmployee == 0">
                          <span class="text-danger" style="font-size: 16px;">●</span> <b>
                            In-Active</b>
                        </p>
                        <p class="small mb-0" style="font-size: 16px;float:right" *ngIf="isActiveEmployee == 1">
                          <span class="text-success" style="font-size: 16px;">●</span> <b>
                            Active</b>
                        </p>
                        <div class="row">
                          <div class="avatar-upload">
                            <div class="avatar-edit">
                              <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg"
                                (change)="readURL($event)" />
                              <label for="imageUpload"></label>
                            </div>
                            <div class="avatar-preview">
                              <div id="imagePreview" *ngIf="contentmodalurl != null">
                                <img [src]="contentmodalurl" style="width: 100%;
                                                          height: 100%;
                                                          border-radius: 100%;
                                                          background-size: contain;
                                                          background-repeat: no-repeat;
                                                          background-position: center;">
                              </div>
                              <div id="imagePreview" *ngIf="contentmodalurl == null"
                                style="background-image: url(https://user.gadjian.com/static/images/personnel_boy.png);">
                              </div>


                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>



                <div class="row" *ngIf="!spinner && ELCTransactions.length > 0">
                  <div class="col-lg-12">
                    <div class="card" style="margin: 15px;">
                      <div class="card-body">

                        <div class="hori-timeline" dir="ltr">
                          <h6>Employee Life Cycle Transaction</h6>
                          <ul class="list-inline events" style="margin-top: 45px;">
                            <li class="list-inline-item event-list" style="margin-bottom: 2rem;"
                              *ngFor="let item of ELCTransactions;let i = index">
                              <div class="px-4">
                                <div class="event-date bg-soft-primary text-primary">
                                  {{item.CreatedOn | date:'d MMMM,y'}}</div>
                                <h5 class="font-size-16">{{item.Designation}}</h5>
                                <p class="text-muted" *ngIf="item.EmployeeRatesets.length > 0">
                                  {{item.EmployeeRatesets[0].EffectiveDate |
                                  date:'dd-MM-yyyy'}}</p>
                                <p class="text-muted" *ngIf="item.EmployeeRatesets.length == 0"> --
                                </p>
                                <div>
                                  <p (click)="ViewRateset(item)"> <b style="color: cornflowerblue;">
                                      View CTC
                                    </b>
                                  </p>
                                </div>
                              </div>
                            </li>


                          </ul>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab id="EmployementDetails" *ngIf="!isESSLogin || activenavtab === 'currentEmployment'">
              <ng-template ngbTabTitle><i class="fa fa-briefcase" aria-hidden="true"></i>&nbsp;&nbsp;Official
                Information
              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <div class="col-12 col-md-12 col-sm-12" *ngIf="!spinner">
                  <div class="clearfix">
                    <div class="row" style="margin-top: 15px;">

                      <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                        *ngIf="this.employeeForm.controls.employername">
                        <label class="form-label">Employer Name <span class="required"> *
                          </span></label>

                        <input type="text" disabled class="form-control" placeholder="Employee Name"
                          formControlName="employername"
                          [ngClass]="{ 'is-invalid': submitted && g.employername.invalid }" autocomplte="off">

                        <div *ngIf="submitted && g.employername.invalid" class="help-block">
                          <div *ngIf="g.employername.errors.required">Employee Name is
                            required
                          </div>
                        </div>

                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.employeecode">
                          <label class="form-label">Employee Code <span class="required"> *
                            </span></label>

                          <input type="test" disabled class="form-control" placeholder="Employee Code"
                            formControlName="employeecode"
                            [ngClass]="{ 'is-invalid': submitted && g.employeecode.invalid }" autocomplte="off">

                          <div *ngIf="submitted && g.employeecode.invalid" class="help-block">
                            <div *ngIf="g.employeecode.errors.required">Employee Code is
                              required
                            </div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.clientname  && BusinessType == '3'">
                          <label class="form-label">Client Name <span class="required"> *
                            </span></label>
                          <ng-select [items]="ClientList" [searchable]="true"
                            placeholder="-- select a client contract --" bindValue="Id" bindLabel="Name"
                            formControlName="clientname" [ngClass]="{'ng-touched': submitted && g.clientname.errors }">
                          </ng-select>
                          <div *ngIf="submitted && g.clientname.invalid" class="help-block">
                            <div *ngIf="g.clientname.errors.required">Client Name is required
                            </div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.contractname  && BusinessType == '3'">
                          <label class="form-label">Contract Name <span class="required"> *
                            </span></label>
                          <ng-select [items]="ClientContractList" [searchable]="true"
                            placeholder="-- select a client contract --" bindValue="Id" bindLabel="Name"
                            formControlName="contractname"
                            [ngClass]="{'ng-touched': submitted && g.contractname.errors }">
                          </ng-select>
                          <div *ngIf="submitted && g.contractname.invalid" class="help-block">
                            <div *ngIf="g.contractname.errors.required">Contract Name is
                              required
                            </div>
                          </div>
                        </div>

                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12">
                          <label class="form-label ">Employment Type</label>

                          <ng-select [items]="EmploymentTypeList" placeholder="-- select on option --"
                            formControlName="employmentType"
                            [ngClass]="{'ng-touched': submitted && g.employmentType.errors }" bindLabel="Name"
                            bindValue="Id">
                          </ng-select>

                          <div *ngIf="submitted && g.employmentType.invalid" class="help-block">
                            <div *ngIf="g.employmentType.errors.required">Employment Type is
                              required
                            </div>
                          </div>
                        </div>

                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.teamname">
                          <label class="form-label">Team Name <span class="required"> *
                            </span></label>
                          <ng-select [items]="TeamList" placeholder="-- select an option --"
                            (change)="onChangeTeam($event ,'DOM')" formControlName="teamname"
                            [ngClass]="{'ng-touched': submitted && g.teamname.errors }" bindLabel="code" bindValue="Id">
                          </ng-select>
                          <div *ngIf="submitted && g.teamname.invalid" class="help-block">
                            <div *ngIf="g.teamname.errors.required">Team Name is required</div>
                          </div>
                        </div>

                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.reportingmanager">
                          <label class="form-label">Reporting Manager </label>
                          <ng-select [items]="ManagerList" placeholder="-- select an option --"
                            formControlName="reportingmanager"
                            [ngClass]="{'ng-touched': submitted && g.reportingmanager.errors }" bindLabel="ManagerName"
                            bindValue="ManagerId">
                          </ng-select>

                          <div *ngIf="submitted && g.reportingmanager.invalid" class="help-block">
                            <div *ngIf="g.reportingmanager.errors.required">Reporting Manager is
                              required</div>
                          </div>
                        </div>


                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.employementstartdate">
                          <label class="form-label">Employment Start Date <span class="required">
                              *
                            </span></label>
                          <input type="text" class="form-control" bsDatepicker placement="top" [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY',
                    containerClass:'theme-default' ,showClearButton: true, clearPosition: 'right'}"
                            name="EmployementStartDate" formControlName="employementstartdate"
                            [ngClass]="{ 'is-invalid': submitted && g.employementstartdate.invalid }"
                            placeholder="Employement Start Date" autocomplte="off">
                          <div *ngIf="submitted && g.employementstartdate.invalid" class="help-block">
                            <div *ngIf="g.employementstartdate.errors.required">Employment
                              Start
                              Date is required</div>
                          </div>
                        </div>

                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.employementenddate  && BusinessType == '3'">
                          <label class="form-label">Employment End Date </label>

                          <input type="text" class="form-control" bsDatepicker placement="top" [bsConfig]="{ isAnimated: true, dateInputFormat:'DD-MM-YYYY',
                    containerClass:'theme-default' }" name="EmployementEndDate" formControlName="employementenddate"
                            [ngClass]="{ 'is-invalid': submitted && g.employementenddate.invalid }"
                            placeholder="Employement End Date" autocomplte="off" disabled>
                          <div *ngIf="submitted && g.employementenddate.invalid" class="help-block">
                            <div *ngIf="g.employementenddate.errors.required">Employment End
                              Date
                              is required</div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.Designation">
                          <label class="form-label">Designation<span class="required"> *
                            </span></label>
                          <input type="text" class="form-control" placeholder="Designation"
                            formControlName="Designation"
                            [ngClass]="{ 'is-invalid': submitted && g.Designation.invalid }" autocomplte="off">

                          <div *ngIf="submitted && g.Designation.invalid" class="help-block">
                            <div *ngIf="g.Designation.errors.required">Designation is required
                            </div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.Department">
                          <label class="form-label">Department </label>
                          <input type="text" class="form-control" placeholder="Department" formControlName="Department"
                            [ngClass]="{ 'is-invalid': submitted && g.Department.invalid }" autocomplte="off">

                          <div *ngIf="submitted && g.Department.invalid" class="help-block">
                            <div *ngIf="g.Department.errors.required">Department is required
                            </div>
                          </div>
                        </div>

                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.Location">
                          <label class="form-label">Location<span class="required"> *
                            </span></label>
                          <ng-select [items]="ClientLocationList" placeholder="-- select location --"
                            formControlName="Location" [ngClass]="{'ng-touched':submitted &&  g.Location.errors }"
                            bindLabel="LocationName" bindValue="Id">
                          </ng-select>

                          <div *ngIf="submitted && g.Location.invalid" class="help-block">
                            <div *ngIf="g.Location.errors.required">Location is required</div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.Country">
                          <label class="form-label">Country<span class="required"> *
                            </span></label>
                          <ng-select [items]="CountryList" (change)="onchangecountry($event)"
                            placeholder="-- select an option --" formControlName="Country"
                            [ngClass]="{'ng-touched': submitted && g.Country.errors }" bindLabel="Name" bindValue="Id">
                          </ng-select>
                          <div *ngIf="submitted && g.Country.invalid" class="help-block">
                            <div *ngIf="g.Country.errors.required">Country is required</div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.statename">
                          <label class="form-label">State Name<span class="required"> *
                            </span></label>
                          <ng-select [items]="StateList2" placeholder="-- select an option --"
                            formControlName="statename" [ngClass]="{'ng-touched': submitted && g.statename.errors }"
                            bindLabel="Name" bindValue="Id">
                          </ng-select>
                          <div *ngIf="submitted && g.statename.invalid" class="help-block">
                            <div *ngIf="g.statename.errors.required">State Name is required
                            </div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12"
                          *ngIf="this.employeeForm.controls.costcode  && BusinessType == '3'">
                          <label class="form-label">Cost Code </label>
                          <ng-select [items]="CostCodeList" placeholder="-- select an option --"
                            formControlName="costcode" [ngClass]="{'ng-touched': submitted && g.costcode.errors }"
                            bindLabel="CostCodeName" bindValue="Id">
                          </ng-select>
                          <div *ngIf="submitted && g.costcode.invalid" class="help-block">
                            <div *ngIf="g.costcode.errors.required">Cost Code is required</div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12 col-md-4 col-lg-4 col-sm-12">
                          <label class="form-label">Last Working Day(LWD)</label>
                          <input type="text" class="form-control" placeholder="LWD" formControlName="LWD"
                            [ngClass]="{ 'is-invalid': submitted && g.LWD.invalid }" autocomplte="off" disabled>

                          <div *ngIf="submitted && g.LWD.invalid" class="help-block">
                            <div *ngIf="g.LWD.errors.required">LWD is required</div>
                          </div>
                        </div>

                        <div class="col-xs-12 col-sm-12"
                          *ngIf="isEmptyObject(DynamicFieldDetails) != true && isEmptyObject(this.DynamicFieldDetails) != null">
                          <app-dynamicfieldform #validateChildComponentForm [col_span_size]="4" [RoleCode]="RoleCode"
                            [dynamicFieldDetails]="getDynamicAccordionFields('isOfferInfo')">
                          </app-dynamicfieldform>
                        </div>

                      </div>
                    </div>
                  </div>
                  <br>
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    *ngIf="!spinner">
                    <div class="text-center">
                      <ul class="list-inline">
                        <li class="list-inline-item">
                          <button class="btn btn-default" type="button" (click)="currentCTC()"> <i
                              class="mdi mdi-credit-card-scan" aria-hidden="true"></i> &nbsp;
                            View
                            Current CTC </button>
                        </li>
                      </ul>
                    </div>

                  </div>
                  <br>
              </ng-template>
            </ngb-tab>

            <ngb-tab id="isCommunicationdetails" *ngIf="!isESSLogin || activenavtab === 'profile'">
              <ng-template ngbTabTitle><i class="fa fa-address-book-o" aria-hidden="true"></i>&nbsp;&nbsp;Communication
              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <div class="col-12 col-md-12 col-sm-12" *ngIf="!spinner">
                  <div class="clearfix">
                    <div class="row" style="margin-top: 15px;">
                      <div class="col-xs-12  col-sm-6">
                      </div>
                      <div class="col-xs-12  col-sm-6">
                        <div class="row" style="margin: 0px;  margin-top: 15px; margin-bottom: 19px;">
                          <div class="col-xs-12">
                            <div class="pretty p-svg p-curve">
                              <input type="checkbox" value="yes" #isSameAddress id="isSameAddress"
                                (change)="onSameAddressPresentChanged(isSameAddress.checked)" />
                              <div class="state p-success">

                                <svg class="svg svg-icon" viewBox="0 0 20 20">
                                  <path
                                    d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z"
                                    style="stroke: white;fill:white;"></path>
                                </svg>
                                <label>Permanent Address is same as Present
                                  Address</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12  col-sm-6 borderright">
                        <div class="form-group form-group-vertical col-xs-12"
                          *ngIf="this.employeeForm.controls.presentAddressdetails">
                          <label class="form-label">Present Address Line 1
                            <span class="required">*</span>
                            <span class="form__length">
                              {{ presentAddressdetails.value?.length }}/50</span>
                          </label>
                          <input class="form-control" name="presentAddressdetails" #presentAddressdetails maxlength="50"
                            formControlName="presentAddressdetails"
                            [ngClass]="{'is-invalid': submitted && g.presentAddressdetails.errors }"
                            placeholder="Falt/Building/Door No" spellcheck="off">
                          <div *ngIf="submitted && g.presentAddressdetails.errors" class="invalid-feedback">
                            <div *ngIf="g.presentAddressdetails.errors.required">Present
                              Address
                              details is required
                            </div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12"
                          *ngIf="this.employeeForm.controls.presentAddressdetails1">
                          <label class="form-label">Present Address Line 2 </label>
                          <input class="form-control" name="presentAddressdetails1"
                            formControlName="presentAddressdetails1" placeholder="Street/Area/Locality"
                            spellcheck="off">
                        </div>
                        <div class="form-group form-group-vertical col-xs-12"
                          *ngIf="this.employeeForm.controls.presentAddressdetails2">
                          <label class="form-label">Present Address Line 3 </label>
                          <input class="form-control" rows="5" cols="40" name="presentAddressdetails2"
                            formControlName="presentAddressdetails2" placeholder="City/Town" spellcheck="off">
                        </div>
                        <div class="row">
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.presentCountryName">
                              <label class="form-label">Country Name <span class="required">*</span></label>
                              <ng-select [items]="CountryList" (change)="onChangeStateByCountryId($event)"
                                placeholder="-- select an option --" formControlName="presentCountryName"
                                [ngClass]="{'ng-touched': submitted && g.presentCountryName.errors }" bindLabel="Name"
                                bindValue="Id">
                              </ng-select>
                              <div *ngIf="submitted && g.presentCountryName.invalid" class="help-block">
                                <div *ngIf="g.presentCountryName.errors.required">
                                  Country is
                                  required
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.presentStateName">
                              <label class="form-label">State Name <span class="required">*</span></label>
                              <ng-select [items]="StateList" placeholder="-- select an option --"
                                formControlName="presentStateName"
                                [ngClass]="{'ng-touched': submitted && g.presentStateName.errors }" bindLabel="Name"
                                bindValue="Id">
                              </ng-select>
                              <div *ngIf="submitted && g.presentStateName.invalid" class="help-block">
                                <div *ngIf="g.presentStateName.errors.required">State
                                  Name
                                  is required
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.presentCity">
                              <label class="form-label">City
                                <span class="required">*</span>

                              </label>
                              <input class="form-control" type="text" name="presentCity" formControlName="presentCity"
                                [ngClass]="{'is-invalid': submitted && g.presentCity.errors }" placeholder="Bangalore"
                                autocomplete="none|false|no">
                              <div *ngIf="submitted && g.presentCity.errors" class="invalid-feedback">
                                <div *ngIf="g.presentCity.errors.required">City is
                                  required
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.presentPincode">
                              <label class="form-label">Pincode
                                <span class="required">*</span>
                                <span class="form__length">
                                  {{ presentPincode.value?.length }}/6</span>
                              </label>
                              <input class="form-control" type="text" minlength="6"
                                onkeypress="return /^[0-9]+$/i.test(event.key)" name="presentPincode" #presentPincode
                                maxlength="6" formControlName="presentPincode"
                                [ngClass]="{'is-invalid': submitted && g.presentPincode.errors }" placeholder="560001"
                                autocomplete="none|false|no" onpaste="return false;">

                              <div *ngIf="submitted && g.presentPincode.invalid" class="help-block">
                                <div *ngIf="g.presentPincode.errors.required">Pincode is
                                  required
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12  col-sm-6">
                        <div class="form-group form-group-vertical col-xs-12"
                          *ngIf="this.employeeForm.controls.permanentAddressdetails">
                          <label class="form-label">Permanent Address Line 1 <span class="required">*</span>
                            <span class="form__length">
                              {{ permanentAddressdetails.value?.length
                              }}/50</span></label>
                          <input class="form-control" name="permanentAddressdetails"
                            formControlName="permanentAddressdetails" #permanentAddressdetails maxlength="50"
                            [ngClass]="{'is-invalid': submitted && g.permanentAddressdetails.errors }"
                            placeholder="Falt/Building/Door No" spellcheck="off">
                          <div *ngIf="submitted && g.permanentAddressdetails.errors" class="invalid-feedback">
                            <div *ngIf="g.permanentAddressdetails.errors.required">Permanent
                              Address details is required
                            </div>
                          </div>
                        </div>
                        <div class="form-group form-group-vertical col-xs-12"
                          *ngIf="this.employeeForm.controls.permanentAddressdetails1">
                          <label class="form-label">Permanent Address Line 2 </label>
                          <input class="form-control" name="permanentAddressdetails1"
                            formControlName="permanentAddressdetails1" placeholder="Street/Area/Locality"
                            spellcheck="off">
                        </div>

                        <div class="form-group form-group-vertical col-xs-12"
                          *ngIf="this.employeeForm.controls.permanentAddressdetails2">
                          <label class="form-label">Permanent Address Line 3 </label>
                          <input class="form-control" rows="5" cols="40" name="permanentAddressdetails2"
                            formControlName="permanentAddressdetails2" placeholder="City/Town" spellcheck="off">

                        </div>
                        <div class="row">
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.permanentCountryName">
                              <label class="form-label">Country Name <span class="required">*</span></label>

                              <ng-select [items]="CountryList" (change)="onChangeStateByCountryId1($event)"
                                placeholder="-- select an option --" formControlName="permanentCountryName"
                                [ngClass]="{'ng-touched': submitted && g.permanentCountryName.errors }" bindLabel="Name"
                                bindValue="Id">
                              </ng-select>
                              <div *ngIf="submitted && g.permanentCountryName.invalid" class="help-block">
                                <div *ngIf="g.permanentCountryName.errors.required">
                                  Country
                                  is required
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.permanentStateName">
                              <label class="form-label">State Name <span class="required">*</span></label>
                              <ng-select [items]="StateList1" placeholder="-- select an option --"
                                formControlName="permanentStateName"
                                [ngClass]="{'ng-touched': submitted && g.permanentStateName.errors }" bindLabel="Name"
                                bindValue="Id">
                              </ng-select>
                              <div *ngIf="submitted && g.permanentStateName.invalid" class="help-block">
                                <div *ngIf="g.permanentStateName.errors.required">State
                                  Name
                                  is required
                                </div>
                              </div>
                            </div>


                          </div>

                        </div>



                        <div class="row">
                          <div class="col-12 col-md-6">

                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.presentCity">
                              <label class="form-label">City <span class="required">*</span>

                              </label>
                              <input class="form-control" type="text" name="permanentCity"
                                formControlName="permanentCity"
                                [ngClass]="{'is-invalid': submitted && g.permanentCity.errors }" placeholder="Bangalore"
                                autocomplete="none|false|no">
                              <div *ngIf="submitted && g.permanentCity.errors" class="invalid-feedback">
                                <div *ngIf="g.permanentCity.errors.required">City is
                                  required
                                </div>
                              </div>
                            </div>


                          </div>
                          <div class="col-12 col-md-6">
                            <div class="form-group form-group-vertical col-xs-12"
                              *ngIf="this.employeeForm.controls.permanentPincode">
                              <label class="form-label">Pincode <span class="required">*</span>
                                <span class="form__length">
                                  {{ permanentPincode.value?.length }}/6</span>
                              </label>
                              <input class="form-control" type="text" minlength="6"
                                onkeypress="return /^[0-9]+$/i.test(event.key)" maxlength="6" #permanentPincode
                                name="permanentPincode" formControlName="permanentPincode"
                                [ngClass]="{'is-invalid': submitted && g.permanentPincode.errors }" placeholder="560001"
                                autocomplete="none|false|no" onpaste="return false;">


                              <div *ngIf="submitted && g.permanentPincode.invalid" class="help-block">
                                <div *ngIf="g.permanentPincode.errors.required">Pincode
                                  is
                                  required
                                </div>
                              </div>



                            </div>
                          </div>
                        </div>

                      </div>



                    </div>


                  </div>

                </div>


              </ng-template>
            </ngb-tab>

            <ngb-tab id="isBankInfo" *ngIf="!isESSLogin || activenavtab === 'bankInformation'">
              <ng-template ngbTabTitle><i class="fa fa-university" aria-hidden="true"></i>&nbsp;&nbsp;Bank
                Info
              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <br>
                <div class="row" *ngIf="!spinner && isBankUnderQC">
                  <br />
                  <div class="col-lg-12">
                    <span class="text-center">Bank Document verification is underway. Please wait
                      until
                      it is completed. </span>
                  </div>
                </div>
                <div class="row" *ngIf="!spinner && !isBankUnderQC">
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    style="margin-bottom:0px;">
                    <div class="text-right">
                      <ul class="list-inline">

                        <li class="list-inline-item"><button *ngIf="isEnbleBankBtn" type="button"
                            [disabled]="!isLoading" class="btn upgrade-btn" (click)="openBankSlider()"> <i
                              class="mdi mdi-database-plus  m-r-xs"></i> Add Bank
                          </button></li>

                      </ul>
                    </div>

                  </div>

                </div>
                <br>
                <div class="row tablerow" *ngIf="!spinner && !isBankUnderQC">
                  <div class="col-md-12 col-sm-12 col-12">
                    <angular-slickgrid gridId="grid_Bank" [data]="ruleGrid" [columnDefinitions]="columnDefinitions_Bank"
                      [gridOptions]="gridOptions_Bank" [dataset]="LstBank" gridWidth="100%"
                      (onAngularGridCreated)="angularGridReady_Bank($event)">
                    </angular-slickgrid>
                  </div>



              </ng-template>
            </ngb-tab>

            <ngb-tab id="isFamilydetails" *ngIf="!isESSLogin || activenavtab === 'nomineeInformaton'">
              <ng-template ngbTabTitle><i class="fa fa-users" aria-hidden="true"></i>&nbsp;&nbsp;Nominee

              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>


                <div class="row" *ngIf="!spinner">
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    style="margin-bottom:0px;">
                    <div class="text-right">
                      <ul class="list-inline">

                        <li class="list-inline-item"><button type="button" [disabled]="!isLoading"
                            class="btn upgrade-btn" (click)="openNomineeSlider()"> <i
                              class="mdi mdi-database-plus  m-r-xs"></i> Add Nominee
                          </button></li>

                      </ul>
                    </div>

                  </div>

                </div>
                <br>
                <div class="row tablerow">

                  <div class="col-md-12 col-sm-12 col-12">

                    <angular-slickgrid gridId="grid_Nominee" [data]="ruleGrid" [columnDefinitions]="columnDefinitions"
                      [gridOptions]="gridOptions" [dataset]="LstNominees" gridWidth="100%"
                      (onAngularGridCreated)="angularGridReady($event)">
                    </angular-slickgrid>

                  </div>
                </div>




              </ng-template>
            </ngb-tab>






            <ngb-tab id="isAcademicInfo" *ngIf="!isESSLogin || activenavtab === 'academicInformaton'">
              <ng-template ngbTabTitle><i class="fa fa-graduation-cap" aria-hidden="true"></i>&nbsp;&nbsp;Academic
                Details

              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <div class="row" *ngIf="!spinner">
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    style="margin-bottom:0px;">
                    <div class="text-right">
                      <ul class="list-inline">
                        <li class="list-inline-item"><button type="button" [disabled]="!isLoading"
                            class="btn upgrade-btn" (click)="addEducation()"> <i class="mdi mdi-plus  m-r-xs"></i>
                            Add Education
                          </button></li>
                      </ul>
                    </div>
                  </div>
                </div>
                <br>
                <div class="row tablerow" *ngIf="!spinner">
                  <div class="col-md-12 col-sm-12 col-12">
                    <angular-slickgrid gridId="grid_Education" [data]="ruleGrid"
                      [columnDefinitions]="columnDefinitions_Education" [gridOptions]="gridOptions_Education"
                      [dataset]="LstEducation" gridWidth="100%"
                      (onAngularGridCreated)="angularGridReady_Education($event)">
                    </angular-slickgrid>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>


            <ngb-tab id="isEmploymentInfo" *ngIf="!isESSLogin || activenavtab === 'experienceInformaton'">
              <ng-template ngbTabTitle><i class="fa fa-building" aria-hidden="true"></i>&nbsp;&nbsp;Work
                Experience

              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <div class="row" *ngIf="!spinner">
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    style="margin-bottom:0px;">
                    <div class="text-right">
                      <ul class="list-inline">
                        <li class="list-inline-item"><button type="button" [disabled]="!isLoading"
                            class="btn upgrade-btn" (click)="addExperience()"> <i class="mdi mdi-plus  m-r-xs"></i>
                            Add Experience
                          </button></li>
                      </ul>
                    </div>
                  </div>
                </div>
                <br>
                <div class="row tablerow" *ngIf="!spinner">
                  <div class="col-md-12 col-sm-12 col-12">
                    <angular-slickgrid gridId="grid_Experience" [data]="ruleGrid"
                      [columnDefinitions]="columnDefinitions_Experience" [gridOptions]="gridOptions_Experience"
                      [dataset]="LstExperience" gridWidth="100%"
                      (onAngularGridCreated)="angularGridReady_Experience($event)">
                    </angular-slickgrid>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

















            <ngb-tab id="isInvestmentInfo" *ngIf="!isESSLogin || activenavtab === 'investmentInformation'">
              <ng-template ngbTabTitle><i class="fa fa-credit-card-alt" aria-hidden="true"></i>&nbsp;&nbsp;
                Tax Investment(s)
              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>

                <div class="row" *ngIf="!spinner && isInvestmentUnderQC">
                  <br />
                  <div class="col-lg-12" style="TEXT-ALIGN: CENTER;">
                    <span class="text-center">Your Investment Proof verification is underway. Please
                      wait until it is completed. </span>
                  </div>
                </div>
                <div class="row" *ngIf="!spinner && !isInvestmentUnderQC && isInvestmentQcRejected">
                  <br />
                  <div class="col-lg-12" style="TEXT-ALIGN: CENTER;
                              COLOR: RED;" *ngIf="employeedetails&&employeedetails.EmployeeInvestmentMaster.Remarks">
                    <span class="text-center"> Rejection Remarks :
                      {{this.employeedetails.EmployeeInvestmentMaster.Remarks}} </span>
                  </div>
                </div>

                <div class="row" *ngIf="indicateSubmissionSlotEnddate && !isInvestmentUnderQC">
                  <div class="col-lg-12 text-center">
                    <ngb-alert [dismissible]="false">
                      <strong> The investment submission date will close on {{InvestmentClosedDate
                        | date:'dd-MM-yyyy'}} </strong>
                    </ngb-alert>
                  </div>
                </div>



                <div class="col-12 col-md-12 col-sm-12" *ngIf="!spinner && !isInvestmentUnderQC">
                  <div class="clearfix">

                    <br>
                    <div class="row">
                      <div class="col-xs-12  col-sm-4  p-r-50">
                        <div class="col-12 col-md-12" style="margin-top: 3rem;">
                          <div class="form-group form-group-vertical col-xs-12">


                            <div class="row">
                              <div class="col-lg-6 col-md-6"> <small
                                  style="color: #666;font-size: 1.2rem!important;font-weight: 500;margin-right: 14px;">
                                  Financial Year </small></div>
                              <div class="col-lg-6 col-md-6">
                                <select class="form-control" id="financialYear" name="financialYear"
                                  formControlName="financialYear" placeholder="Select an option" disabled>
                                  <option *ngFor="let year of FicalYearList" [value]="year.Id" class="ng-star-inserted"
                                    disabled>
                                    {{year.code}}</option>

                                </select>
                              </div>
                            </div>

                          </div>
                          <div class="form-group form-group-vertical col-xs-12">
                            <small style="color: #666;font-size: 1.2rem!important;font-weight: 500;margin-right: 14px;">
                              Mode </small>
                            <input type="checkbox" [checked]="TaxDeclaration == '1' ? false : true" class="toggle"
                              disabled id="toggle" />
                            <label for="toggle" style=" float: right;">
                              <span class="on">Proof</span>
                              <span class="off">Declarations</span>
                            </label>


                          </div>

                          <div class="form-group form-group-vertical col-xs-12">

                            <small style="color: #666;font-size: 1.2rem!important;font-weight: 500;margin-right: 14px;">
                              New Tax Regime </small>
                            <input type="checkbox" class="toggle1" id="toggle1" (change)="onChangeTaxRegime()"
                              name="IsNewTaxRegimeOpted" formControlName="IsNewTaxRegimeOpted" />
                            <label for="toggle1" style=" float: right;">
                              <span class="on">Yes</span>
                              <span class="off">No</span>
                            </label>


                          </div>
                        </div>

                        <img src="assets/Images/tax.jpg" style="position: absolute;
                                          bottom: 0px;
                                          height: auto;
                                          width: 100%;
                                          text-align: center;">


                      </div>
                      <div class="col-xs-12 col-sm-8 p-l-50">
                        <div *ngIf="isSummary_panel" class="animated fadeInRight">
                          <div class="header-body">
                            <h6 class="header-pretitle" style="font-size: .625rem;margin-bottom: 0px;">
                              Overview
                            </h6>

                          </div>
                          <div class="request-loader" style="cursor: pointer;">
                            <span>👋</span>
                          </div>


                          <div class="row">
                            <div class="col-12 col-xl-12">


                              <div class="card">
                                <div class="card-header">


                                  <h4 class="card-header-title">
                                    Investments
                                  </h4>


                                  <a href="javascript:;" class="btn btn-sm btn-white" *ngIf="!isESSLogin"
                                    (click)="addInvestmentCategory()">
                                    <i class="mdi mdi-link-variant"></i> Add
                                  </a>
                                  <a href="javascript:;" class="btn btn-sm btn-white"
                                    *ngIf="isESSLogin && enableEditTxt == 'Cancel'" (click)="addInvestmentCategory()">
                                    <i class="mdi mdi-link-variant"></i> Add
                                  </a>

                                </div>
                                <div class="card-body">


                                  <div class="list-group list-group-flush my-n3">
                                    <p class="norecord_text"
                                      *ngIf="dynamicPFInvestments.length == 0 && Lstinvestment.length == 0">
                                      No records!
                                    </p>



                                    <div class="list-group-item" *ngFor="let investment of dynamicPFInvestments">
                                      <div class="row align-items-center" style="cursor: pointer;"
                                        *ngIf="investment.AmtInvested > 0">
                                        <div class="col-auto">
                                          <a href="javascript:;" class="avatar">
                                            <img src="assets/Images/accounting.png" alt="..." class="avatar-img rounded"
                                              style="width:40px">
                                          </a>
                                        </div>
                                        <div class="col ml-n2">
                                          <h4 class="font-weight-normal mb-1">
                                            <a href="javascript:;"
                                              style="color: #5c5c5c; font-weight: 600 !important;">{{investment.Name}}</a>
                                          </h4>
                                          <small class="text-muted" style="letter-spacing: 1px;">
                                            Amt Declared :
                                            <b> ₹
                                              {{investment.AmtInvested}}</b>
                                            <span *ngIf="TaxDeclaration != 1">
                                              |
                                              Amt Approved :
                                              <b> ₹
                                                {{investment.AmtInvested}}</b>
                                            </span>

                                          </small>
                                        </div>
                                        <div class="col-auto">
                                          <div class="media-right">


                                          </div>
                                          <div class="vertical-align-middle link-to-details"
                                            style="margin-top: 2.5rem;">


                                          </div>

                                        </div>
                                      </div>
                                    </div>

                                    <div class="list-group-item" *ngFor="let investment of Lstinvestment">
                                      <div class="row align-items-center" style="cursor: pointer;">
                                        <div class="col-auto">


                                          <a href="javascript:;" class="avatar">
                                            <img src="assets/Images/accountinghome.png" alt="..."
                                              class="avatar-img rounded" style="width:40px">
                                          </a>

                                        </div>
                                        <div class="col ml-n2">

                                          <h4 class="font-weight-normal mb-1">
                                            <a href="javascript:;"
                                              style="color: #5c5c5c;
                                                                      font-weight: 600 !important;">{{getLetterSpace(investment.Name)}}</a>

                                          </h4>


                                          <small class="text-muted" style="letter-spacing: 1px;">
                                            Amt Invested :
                                            <b> ₹
                                              {{investment.AmtInvested}}</b>
                                            <span *ngIf="TaxDeclaration != 1">
                                              |
                                              Amt Approved :
                                              <b> ₹
                                                {{investment.AmtApproved}}</b>
                                            </span>
                                          </small>

                                        </div>
                                        <div class="col-auto">
                                          <div class="media-right">

                                            <a href="javascript:;" *ngIf="TaxDeclaration != 1"
                                              class="btn action-edit pull-right" style="margin-right: 5px">
                                              <i class="fa fa-eye" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;" [ngbPopover]="popContent"
                                                [popoverTitle]="popTitle" placement="left"></i>
                                            </a>



                                            <a href="javascript:;" *ngIf="!isESSLogin"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="deleteInvestment(investment)">
                                              <i class="fa fa-trash" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>

                                            <a href="javascript:;" *ngIf="!isESSLogin"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="editInvestment(investment)">
                                              <i class="fa fa-pencil" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>



                                            <div *ngIf="investment.Name != 'PF'">
                                              <a href="javascript:;" *ngIf="isESSLogin && enableEditTxt == 'Cancel'"
                                                class="btn action-edit pull-right" style="margin-right: 5px"
                                                (click)="deleteInvestment(investment)">
                                                <i class="fa fa-trash" aria-hidden="true"
                                                  style="font-size: 16px;color: #838383;"></i>
                                              </a>

                                              <a href="javascript:;" *ngIf="isESSLogin && enableEditTxt == 'Cancel'"
                                                class="btn action-edit pull-right" style="margin-right: 5px"
                                                (click)="editInvestment(investment)">
                                                <i class="fa fa-pencil" aria-hidden="true"
                                                  style="font-size: 16px;color: #838383;"></i>
                                              </a>
                                            </div>


                                          </div>

                                          <div class="vertical-align-middle link-to-details"
                                            style="margin-top: 2.5rem;">

                                            <span class="badge badge-warning"
                                              *ngIf="getStatusCount(investment.DocumentDetails,0) > 0"
                                              style="display: inline;color:white !important;">
                                              Pending
                                              ({{getStatusCount(investment.DocumentDetails,0)}})

                                            </span>
                                            <span class="badge badge-danger"
                                              *ngIf="getStatusCount(investment.DocumentDetails,2) > 0"
                                              style="display: inline;color:white !important;">
                                              Rejected
                                              ({{getStatusCount(investment.DocumentDetails,2)}})
                                            </span>
                                            <span class="badge badge-success"
                                              *ngIf="getStatusCount(investment.DocumentDetails,1) > 0"
                                              style="display: inline;color:white !important;">

                                              Approved
                                              ({{getStatusCount(investment.DocumentDetails,1)}})
                                            </span>


                                          </div>

                                          <ng-template #popContent>
                                            <div class="row" *ngFor="let i of investment.DocumentDetails"
                                              style="padding-bottom: 5px;">
                                              <div class="col-lg-6">
                                                {{i.FileName}}
                                              </div>
                                              <div class="col-lg-6 text-right">
                                                <button class="btn btn-default btn-sm m-r-sm "
                                                  style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                                  (click)="document_file_view(i, 'Documents')"><i
                                                    class="fa fa-eye m-r-xs"></i>
                                                  View </button>

                                              </div>
                                            </div>


                                          </ng-template>
                                          <ng-template #popTitle> Preview
                                            <span style="color: transparent;">dummay
                                              text for content</span>
                                            Document
                                            Details
                                          </ng-template>

                                        </div>
                                      </div>


                                    </div>


                                  </div>

                                </div>
                              </div>

                              <div class="card">
                                <div class="card-header">


                                  <h4 class="card-header-title">
                                    Deductions
                                  </h4>



                                  <a href="javascript:;" class="btn btn-sm btn-white" *ngIf="!isESSLogin"
                                    (click)="addDeductionCategory()">
                                    <i class="mdi mdi-link-variant"></i> Add
                                  </a>
                                  <a href="javascript:;" class="btn btn-sm btn-white"
                                    *ngIf="isESSLogin && enableEditTxt == 'Cancel'" (click)="addDeductionCategory()">
                                    <i class="mdi mdi-link-variant"></i> Add
                                  </a>
                                </div>
                                <div class="card-body">


                                  <div class="list-group list-group-flush my-n3">
                                    <p class="norecord_text" *ngIf="Lstdeduction_Exemption.length == 0">
                                      No
                                      records!</p>
                                    <div class="list-group-item" *ngFor="let deducExemp of Lstdeduction_Exemption">
                                      <div class="row align-items-center">
                                        <div class="col-auto">



                                          <a href="javascript:;" class="avatar">
                                            <img src="assets/Images/accountinghome.png" alt=""
                                              class="avatar-img rounded" style="width:40px">
                                          </a>

                                        </div>
                                        <div class="col ml-n2">


                                          <h4 class="font-weight-normal mb-1">
                                            <a href="javascript:;"
                                              style="color: #5c5c5c;
                                                                      font-weight: 600 !important;">{{getLetterSpace(deducExemp.Name)}}</a>

                                          </h4>


                                          <small class="text-muted" style="letter-spacing: 1px;">
                                            Amt Declared :
                                            <b> ₹
                                              {{deducExemp.AmtInvested}}</b>
                                            <span *ngIf="TaxDeclaration != 1">
                                              |
                                              Amt Approved :
                                              <b> ₹
                                                {{deducExemp.AmtApproved}}</b>
                                            </span>
                                          </small>

                                        </div>
                                        <div class="col-auto">
                                          <div class="media-right">
                                            <a href="javascript:;" *ngIf="TaxDeclaration != 1"
                                              class="btn action-edit pull-right" style="margin-right: 5px">
                                              <i class="fa fa-eye" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;" [ngbPopover]="popContent"
                                                [popoverTitle]="popTitle" placement="left"></i>
                                            </a>


                                            <a href="javascript:;" *ngIf="!isESSLogin"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="deleteDeduction(deducExemp)">
                                              <i class="fa fa-trash" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>

                                            <a href="javascript:;" *ngIf="!isESSLogin"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="editDeduction(deducExemp)">
                                              <i class="fa fa-pencil" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>

                                            <a href="javascript:;" *ngIf="isESSLogin && enableEditTxt == 'Cancel'"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="deleteDeduction(deducExemp)">
                                              <i class="fa fa-trash" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>

                                            <a href="javascript:;" *ngIf="isESSLogin && enableEditTxt == 'Cancel'"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="editDeduction(deducExemp)">
                                              <i class="fa fa-pencil" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>
                                          </div>

                                          <div class="vertical-align-middle link-to-details"
                                            style="margin-top: 2.5rem;">
                                            <div class="vertical-align-middle link-to-details"
                                              style="margin-top: 2.5rem;">

                                              <span class="badge badge-warning"
                                                *ngIf="getStatusCount(deducExemp.DocumentDetails,0) > 0"
                                                style="display: inline;color:white !important;cursor: pointer;">
                                                Pending
                                                ({{getStatusCount(deducExemp.DocumentDetails,0)}})

                                              </span>
                                              <span class="badge badge-danger"
                                                *ngIf="getStatusCount(deducExemp.DocumentDetails,2) > 0"
                                                style="display: inline;color:white !important;cursor: pointer;">
                                                Rejected
                                                ({{getStatusCount(deducExemp.DocumentDetails,2)}})
                                              </span>
                                              <span class="badge badge-success"
                                                *ngIf="getStatusCount(deducExemp.DocumentDetails,1) > 0"
                                                style="display: inline;color:white !important;cursor: pointer;">

                                                Approved
                                                ({{getStatusCount(deducExemp.DocumentDetails,1)}})
                                              </span>


                                            </div>
                                          </div>
                                          <ng-template #popContent>
                                            <div class="row" *ngFor="let i of deducExemp.DocumentDetails"
                                              style="padding-bottom: 5px;">
                                              <div class="col-lg-6">
                                                {{i.FileName}}
                                              </div>
                                              <div class="col-lg-6 text-right">
                                                <button class="btn btn-default btn-sm m-r-sm "
                                                  style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                                  (click)="document_file_view(i, 'Documents')"><i
                                                    class="fa fa-eye m-r-xs"></i>
                                                  View </button>

                                              </div>
                                            </div>


                                          </ng-template>
                                          <ng-template #popTitle> Preview
                                            <span style="color: transparent;">dummay
                                              text for content</span>
                                            Document
                                            Details
                                          </ng-template>

                                        </div>
                                      </div>
                                    </div>


                                  </div>

                                </div>
                              </div>

                              <div class="card">
                                <div class="card-header">


                                  <h4 class="card-header-title">
                                    Exemptions
                                  </h4>


                                  <a href="javascript:;" class="btn btn-sm btn-white" *ngIf="!isESSLogin"
                                    (click)="addExceptionCategory()">
                                    <i class="mdi mdi-file-document-outline"></i>
                                    Add Bill
                                  </a>
                                  <a href="javascript:;" class="btn btn-sm btn-white"
                                    *ngIf="isESSLogin && enableEditTxt == 'Cancel'" (click)="addExceptionCategory()">
                                    <i class="mdi mdi-file-document-outline"></i>
                                    Add Bill
                                  </a>
                                </div>
                                <div class="card-body">


                                  <div class="list-group list-group-flush my-n3">
                                    <p class="norecord_text" *ngIf="dynamicExeptions.length == 0">
                                      No
                                      records!</p>
                                    <div class="list-group-item" *ngFor="let deducExemp of dynamicExeptions">
                                      <div class="row align-items-center">
                                        <div class="col-auto">



                                          <a href="javascript:;" class="avatar">
                                            <img src="assets/Images/accountinghome.png" alt="..."
                                              class="avatar-img rounded" style="width:40px">
                                          </a>

                                        </div>
                                        <div class="col ml-n2">


                                          <h4 class="font-weight-normal mb-1">
                                            <a href="javascript:;"
                                              style="color: #5c5c5c;
                                                                      font-weight: 600 !important;">{{getLetterSpace(deducExemp.ProductName)}}</a>

                                          </h4>


                                          <small class="text-muted" style="letter-spacing: 1px;">
                                            Submitted Bill Amt. :
                                            <b> ₹
                                              {{deducExemp.Amount}}</b>
                                            <span *ngIf="TaxDeclaration != 1">
                                              |
                                              Amt Approved :
                                              <b> ₹
                                                {{deducExemp.ApprovedAmount}}</b>
                                            </span>
                                          </small>

                                        </div>
                                        <div class="col-auto">
                                          <div class="media-right">

                                            <a href="javascript:;" *ngIf="TaxDeclaration != 1"
                                              class="btn action-edit pull-right" style="margin-right: 5px">
                                              <i class="fa fa-eye" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;" [ngbPopover]="popContent1"
                                                [popoverTitle]="popTitle" placement="left"></i>
                                            </a>



                                            <a href="javascript:;" *ngIf="!isESSLogin"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="chooseCategory(deducExemp,'exemption')">
                                              <i class="fa fa-pencil" matTooltip="View Bills" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>



                                            <a href="javascript:" *ngIf="isESSLogin && enableEditTxt == 'Cancel'"
                                              class="btn action-edit pull-right" style="margin-right: 5px"
                                              (click)="chooseCategory(deducExemp,'exemption')">
                                              <i class="fa fa-pencil" matTooltip="View Bills" aria-hidden="true"
                                                style="font-size: 16px;color: #838383;"></i>
                                            </a>
                                          </div>

                                          <div class="vertical-align-middle link-to-details"
                                            style="margin-top: 2.5rem;">
                                            <div class="vertical-align-middle link-to-details"
                                              style="margin-top: 2.5rem;">

                                              <span class="badge badge-warning"
                                                *ngIf="getStatusCount1(deducExemp.LstEmployeeExemptionBillDetails,0) > 0"
                                                style="display: inline;color:white !important;cursor: pointer;">
                                                Pending
                                                ({{getStatusCount1(deducExemp.LstEmployeeExemptionBillDetails,0)}})

                                              </span>
                                              <span class="badge badge-danger"
                                                *ngIf="getStatusCount1(deducExemp.LstEmployeeExemptionBillDetails,2) > 0"
                                                style="display: inline;color:white !important;cursor: pointer;">
                                                Rejected
                                                ({{getStatusCount1(deducExemp.LstEmployeeExemptionBillDetails,2)}})
                                              </span>
                                              <span class="badge badge-success"
                                                *ngIf="getStatusCount1(deducExemp.LstEmployeeExemptionBillDetails,1) > 0"
                                                style="display: inline;color:white !important;cursor: pointer;">

                                                Approved
                                                ({{getStatusCount1(deducExemp.LstEmployeeExemptionBillDetails,1)}})
                                              </span>


                                            </div>
                                          </div>
                                          <ng-template #popContent1>
                                            <div class="row"
                                              *ngFor="let i of deducExemp.LstEmployeeExemptionBillDetails"
                                              style="padding-bottom: 5px;">
                                              <div class="col-lg-6">
                                                {{i.FileName}}
                                              </div>
                                              <div class="col-lg-6 text-right">
                                                <button class="btn btn-default btn-sm m-r-sm "
                                                  style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                                  (click)="document_file_view1(i, 'Documents')"><i
                                                    class="fa fa-eye m-r-xs"></i>
                                                  View </button>

                                              </div>
                                            </div>


                                          </ng-template>
                                          <ng-template #popTitle> Preview
                                            <span style="color: transparent;">dummay
                                              text for content</span>
                                            Document
                                            Details
                                          </ng-template>

                                        </div>
                                      </div>
                                    </div>


                                  </div>

                                </div>
                              </div>


                              <div class="card">
                                <div class="card-body">
                                  <div class="row align-items-center">
                                    <div class="col-12 col-lg-4 order-lg-2">


                                      <div class="text-center">
                                        <img src="https://dashkit.goodthemes.co/assets/img/illustrations/happiness.svg"
                                          alt="..." class="img-fluid mt-n5 mt-lg-0 mb-4 mr-md-n5"
                                          style="max-width: 272px;">
                                      </div>

                                    </div>
                                    <div class="col-12 col-lg-8 px-4 py-3 order-lg-1">

                                      <div class="row">
                                        <div class="col-md-6">
                                          <div class="form-group">
                                            <label class="form-label searchbar-label">Tax
                                              Liability</label>
                                            <label class="qcsummarylabel form-text text-muted">
                                              0.00 /-

                                            </label>
                                          </div>
                                        </div>

                                        <div class="col-md-6">
                                          <div class="form-group">
                                            <label class="form-label searchbar-label">Tax
                                              Saved</label>
                                            <label class="qcsummarylabel form-text text-muted">
                                              0.00 /-


                                            </label>
                                          </div>
                                        </div>
                                      </div>



                                      <p class="text-muted">
                                        This is a true story and totally not
                                        made
                                        up. This is going to be better in the
                                        long
                                        run but for now this is the way it is.
                                      </p>


                                      <a href="javascript:;" class="btn btn-primary lift"
                                        onclick="alert('Coming Soon...')">
                                        Tax Calculator
                                      </a>

                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>



                          </div>

                        </div>

                        <div *ngIf="isInvestment_panel" class="animated fadeInRight">
                          <div class="row">


                            <div class="col-12" style="padding: 0px;">
                              <div class="pull-left left-margin-btn">
                                <span><b>House Rent Allowance</b></span>
                              </div>
                              <div class="pull-right">




                                <button class="btn btn-default m-r-sm" type="Submit" name="btnSubmit" id="btnSubmit"
                                  (click)="addInvestmentCategory()">
                                  <div class="pos-rlt sm-btn-component">
                                    <span> <i class="mdi mdi-vector-union"></i>
                                      &nbsp;
                                      View Previous Year Data </span>
                                  </div>
                                </button>
                              </div>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group text-center">
                                <label class="form-label searchbar-label">Investment
                                  Name</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  House Rent Allowance
                                </label>
                              </div>
                            </div>


                            <div class="col-md-6">
                              <div class="form-group text-center">
                                <label class="form-label searchbar-label">Qualifying
                                  Limit</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  1,50,000
                                </label>
                              </div>
                            </div>



                          </div>
                          <hr>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Amount</label>
                                <label class="qcsummarylabel form-text text-muted">
                                  <input class="form-control" type="text" onkeypress="return /[0-9]/i.test(event.key)"
                                    name="amount" placeholder="1,50,000" autocomplete="none|false|no">


                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="row">

                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Remarks</label>
                                <label class="qcsummarylabel form-text text-muted">
                                  <textarea class="form-control" rows="2" spellcheck="false" id="Remarks"></textarea>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Attachment
                                  <span class="help-text m-l-5">(Max file size
                                    2MB)</span></label>
                                <label class="qcsummarylabel form-text text-muted">
                                  <label class="upload control" style="width: 50%; float: left;" *ngIf="!FileName">
                                    <div class="upload-draggable is-primary">
                                      <section class="section">
                                        <div class="has-text-centered">
                                          <span class="icon is-large">
                                            <span style="padding-left: 10px;">
                                              <i class="fa fa fa-cloud-upload" style="color: #9ba7ca;"></i>
                                              &nbsp; Upload </span>
                                          </span>
                                        </div>
                                      </section>
                                    </div>
                                    <input type="file" accept="application/msword,  application/pdf, image/*"
                                      (change)="onFileUpload($event)" id="sTest-uploadFile-candidateAddResume">
                                  </label>

                                  <p class="control" *ngIf="FileName">
                                    <span class="file-name">
                                      <button class="btn btn-danger c-btn" (click)="doDeleteFile()"><a
                                          ngbTooltip="Trash Attachment" id="sTest-deleteFile-candidateAddResume"
                                          style="padding-left: 10px;font-size: 15px;cursor: pointer;display: block   ;margin-top: -5px;"><i
                                            class="fa fa-trash-o"></i></a>
                                      </button>

                                      <a target="blank" class="ahref" style="padding: 2px;">
                                        {{FileName}}
                                      </a>
                                    </span>
                                  </p>
                                </label>
                              </div>
                            </div>

                          </div>

                          <div class="row">
                            <div class="col-lg-6">
                              <ul class="list-inline">

                              </ul>
                            </div>
                            <div class="col-lg-6 text-right">
                              <div class="text-right">
                                <ul class="list-inline">

                                  <li class="list-inline-item"> <button class="btn btn-default" type="button"
                                      (click)="savebutton_investment()"> <i class="fa fa-ban" aria-hidden="true"></i>
                                      &nbsp;
                                      Cancel</button>
                                  </li>
                                  <li class="list-inline-item"> <button class="btn  btn-primary " type="Submit"
                                      name="btnSubmit" id="btnSubmit" (click)="savebutton_investment()">
                                      <div class="pos-rlt sm-btn-component">
                                        <span> <i class="fa fa-hdd-o" aria-hidden="true"></i> &nbsp;
                                          Save
                                        </span>
                                      </div>
                                    </button></li>

                                </ul>
                              </div>
                            </div>
                          </div>


                        </div>

                        <div *ngIf="isDeduction_panel" class="animated fadeInRight">
                          <div class="row">
                            <div class="col-12" style="padding: 0px;">
                              <div class="pull-left left-margin-btn">
                                <span><b>House Rent Allowance</b></span>
                              </div>
                              <div class="pull-right">
                                <button class="btn btn-default m-r-sm" type="Submit" name="btnSubmit" id="btnSubmit"
                                  (click)="addInvestmentCategory()">
                                  <div class="pos-rlt sm-btn-component">
                                    <span> <i class="mdi mdi-vector-union"></i>
                                      &nbsp;
                                      View Previous Year Data </span>
                                  </div>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-12">
                              <div class="pull-left">
                              </div>
                              <div class="pull-right">
                                <div class="blob"><i class="mdi mdi-information-outline blob_center_i"></i>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Exemption
                                  Name</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  House Rent Allowance
                                </label>
                              </div>
                            </div>


                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Annual
                                  Basic</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  1,50,000
                                </label>
                              </div>
                            </div>

                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Annual
                                  HRA</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  1,50,000
                                </label>
                              </div>
                            </div>

                          </div>

                          <hr>
                          <div class="row">
                            <div class="col-md-12">
                              <div class="" style="margin-bottom:0px;">
                                <div class="text-right" style="margin-bottom: 5px;">
                                  <ul class="list-inline">
                                    <li class="list-inline-item"><button type="button" class="btn upgrade-btn"
                                        (click)="addHRA()">
                                        <i class="mdi mdi-database-plus  m-r-xs"></i>
                                        Add
                                      </button></li>
                                  </ul>
                                </div>

                              </div>

                              <table class="table table-bordered table-container responsive">
                                <thead>
                                  <tr class="document_table_tr">
                                    <th scope="col" style="width: 20%; text-align: left!important">
                                      From Date </th>
                                    <th scope="col" style="width: 20%;text-align: center">To
                                      Date
                                    </th>

                                    <th scope="col" style="width: 20%;text-align: center">
                                      City
                                    </th>
                                    <th scope="col" style="width: 20%;text-align: center">
                                      Rent
                                      Amount</th>
                                    <th scope="col" style="width: 20%;text-align: center">
                                      Action
                                    </th>
                                  </tr>
                                </thead>

                                <tbody style="font-size: 13px;">
                                  <tr>
                                    <td class="table-td-center" style="padding: 8px !important;">
                                      <span class="productName_span">
                                        12-12-2012</span>
                                    </td>
                                    <td class="txt-align document_table_validFrom table-td-center">
                                      <span class="productName_span">
                                        12-12-2012</span>>
                                    </td>
                                    <td class="table-td-center" style="padding: 8px !important;">
                                      <span class="productName_span">
                                        Bangalore</span>
                                    </td>
                                    <td class="txt-align document_table_validFrom table-td-center">
                                      123123
                                    </td>
                                    <td class="txt-align document_table_validFrom table-td-center">

                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Entry
                                  Type</label>
                                <label class="qcsummarylabel form-text text-muted">
                                  <ng-select #select [items]="EntryTypeList" bindValue="Id" bindLabel="Name"
                                    placeholder="Select an option">
                                  </ng-select>
                                </label>
                              </div>
                            </div>
                          </div>


                          <div class="row">

                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Remarks</label>
                                <label class="qcsummarylabel form-text text-muted">
                                  <textarea class="form-control" rows="2" spellcheck="false" id="Remarks"></textarea>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Attachment
                                  <span class="help-text m-l-5">(Max file size
                                    2MB)</span></label>
                                <label class="qcsummarylabel form-text text-muted">
                                  <label class="upload control" style="width: 50%; float: left;" *ngIf="!FileName">
                                    <div class="upload-draggable is-primary">
                                      <section class="section">
                                        <div class="has-text-centered">
                                          <span class="icon is-large">
                                            <span style="padding-left: 10px;">
                                              <i class="fa fa fa-cloud-upload" style="color: #9ba7ca;"></i>
                                              &nbsp; Upload </span>
                                          </span>
                                        </div>
                                      </section>
                                    </div>
                                    <input type="file" accept="application/msword,  application/pdf, image/*"
                                      (change)="onFileUpload($event)" id="sTest-uploadFile-candidateAddResume">
                                  </label>

                                  <p class="control" *ngIf="FileName">
                                    <span class="file-name">
                                      <button class="btn btn-danger c-btn" (click)="doDeleteFile()"><a
                                          ngbTooltip="Trash Attachment" id="sTest-deleteFile-candidateAddResume"
                                          style="padding-left: 10px;font-size: 15px;cursor: pointer;display: block   ;margin-top: -5px;"><i
                                            class="fa fa-trash-o"></i></a>
                                      </button>

                                      <a target="blank" class="ahref" style="padding: 2px;">
                                        {{FileName}}
                                      </a>
                                    </span>
                                  </p>
                                </label>
                              </div>
                            </div>

                          </div>

                          <div class="row">
                            <div class="col-lg-6">
                              <ul class="list-inline">

                              </ul>
                            </div>
                            <div class="col-lg-6 text-right">
                              <div class="text-right">
                                <ul class="list-inline">

                                  <li class="list-inline-item"> <button class="btn btn-default" type="button"
                                      (click)="savebutton_deduction()"> <i class="fa fa-ban" aria-hidden="true"></i>
                                      &nbsp;
                                      Cancel</button>
                                  </li>
                                  <li class="list-inline-item"> <button class="btn  btn-primary " type="Submit"
                                      name="btnSubmit" id="btnSubmit" (click)="savebutton_deduction()">
                                      <div class="pos-rlt sm-btn-component">
                                        <span> <i class="fa fa-hdd-o" aria-hidden="true"></i> &nbsp;
                                          Save
                                        </span>
                                      </div>
                                    </button></li>

                                </ul>
                              </div>
                            </div>
                          </div>


                        </div>

                        <div *ngIf="isAdditional_panel" class="animated fadeInRight">
                          <div class="row">
                            <div class="col-12" style="padding: 0px;">
                              <div class="pull-left left-margin-btn">
                                <span><b>Loss from House Property</b></span>
                              </div>
                              <div class="pull-right">

                                <button class="btn btn-default m-r-sm" type="Submit" name="btnSubmit" id="btnSubmit"
                                  (click)="addInvestmentCategory()">
                                  <div class="pos-rlt sm-btn-component">
                                    <span> <i class="mdi mdi-vector-union"></i>
                                      &nbsp;
                                      Add Another Property </span>
                                  </div>
                                </button>

                                <button class="btn btn-default m-r-sm" type="Submit" name="btnSubmit" id="btnSubmit"
                                  (click)="addInvestmentCategory()">
                                  <div class="pos-rlt sm-btn-component">
                                    <span> <i class="mdi mdi-vector-union"></i>
                                      &nbsp;
                                      View Previous Year Data </span>
                                  </div>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-12">
                              <div class="pull-left">
                              </div>
                              <div class="pull-right">
                                <div class="blob"><i class="mdi mdi-information-outline blob_center_i"></i>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="form-label searchbar-label">First-Time
                                  Homeowner (Yes/No)</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  House Rent Allowance
                                </label>
                              </div>
                            </div>


                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Annual
                                  Basic</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  1,50,000
                                </label>
                              </div>
                            </div>

                            <div class="col-md-4">
                              <div class="form-group">
                                <label class="form-label searchbar-label">Annual
                                  HRA</label>
                                <label class="qcsummarylabel form-text text-muted"
                                  style="font-size: 14px;font-weight: 600;">
                                  1,50,000
                                </label>
                              </div>
                            </div>

                          </div>

                          <hr>





                          <div class="row">
                            <div class="col-lg-6">
                              <ul class="list-inline">

                              </ul>
                            </div>
                            <div class="col-lg-6 text-right">
                              <div class="text-right">
                                <ul class="list-inline">

                                  <li class="list-inline-item"> <button class="btn btn-default" type="button"
                                      (click)="savebutton_additional()"> <i class="fa fa-ban" aria-hidden="true"></i>
                                      &nbsp;
                                      Cancel</button>
                                  </li>
                                  <li class="list-inline-item"> <button class="btn  btn-primary " type="Submit"
                                      name="btnSubmit" id="btnSubmit" (click)="savebutton_additional()">
                                      <div class="pos-rlt sm-btn-component">
                                        <span> <i class="fa fa-hdd-o" aria-hidden="true"></i> &nbsp;
                                          Save
                                        </span>
                                      </div>
                                    </button></li>

                                </ul>
                              </div>
                            </div>
                          </div>


                        </div>

                      </div>
                    </div>

                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab id="isPreviousEmployment" *ngIf="!isESSLogin || activenavtab === 'employmentInformation'">
              <ng-template ngbTabTitle><i class="fa fa-handshake-o" aria-hidden="true"></i>&nbsp;&nbsp;
                Previous Employment
              </ng-template>
              <ng-template ngbTabContent>
                <br>
                <br>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>

                <div class="row" *ngIf="!spinner">
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    style="margin-bottom:0px;">
                    <div class="text-right">
                      <ul class="list-inline">
                        <li class="list-inline-item">
                          <button *ngIf="isEnbleBankBtn" type="button" [disabled]="!isLoading" class="btn upgrade-btn"
                            (click)="addPreviousEmployment()"> <i class="mdi mdi-database-plus  m-r-xs"></i> Add New
                          </button>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <br>
                <div class="row"
                  *ngIf="!spinner && LstemploymentDetails.length == undefined || LstemploymentDetails.length == 0">
                  <div class="col-12"><b class="text-center" style="display: block;">No records
                      found!</b>
                  </div>
                </div>
                <div class="row" *ngIf="!spinner">
                  <div class="col-lg-6" *ngFor="let item of LstemploymentDetails ">
                    <div class="card card2" style="padding: 10px;">
                      <div class="row">
                        <div class="col-md-12" style="padding-left: 30px; margin-bottom: 10px;">
                          <h6 class="city"
                            style="    font-weight: 700;letter-spacing: 1px;margin-bottom: 5px !important;">
                            <span style="font-size: 12px;
                                                      border: 1px solid #d3d3d3;
                                                      border-radius: 5px;
                                                      padding: 4px;
                                                      letter-spacing: 0px;
                                                      background: #f6f6f6;
                                                    
                                                      margin-right: 15px;"> {{item.FinancialYearName}} </span>
                            {{item.CompanyName}}
                          </h6>
                          <span class="description" style="font-size: 12px; font-weight: 600;letter-spacing: 1px;">
                            {{item.StartDate | date : 'dd-MM-yyyy'}} -
                            {{item.EndDate | date : 'dd-MM-yyyy'}} </span>
                          <div class="media-right" style="margin-top: -20px;">
                            <a href="javascript:;" class="btn action-edit pull-right" style="margin-right: 5px"
                              (click)="editPreviousEmployment(item)">
                              <i class="fa fa-pencil" aria-hidden="true" style="font-size: 16px;color: #838383;"></i>
                            </a>
                          </div>

                        </div>


                      </div>
                      <div class="row">
                        <div class="col-md-3">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">Gross Salary <span class="required"></span></label>
                            <p class="date">{{item.GrossSalary | number : '1.2-2'}}</p>

                          </div>

                        </div>
                        <div class="col-md-3">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">Previous PF<span class="required"></span></label>
                            <p class="date">{{item.PreviousPF | number : '1.2-2'}}</p>

                          </div>

                        </div>
                        <div class="col-md-3">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">Previous PT<span class="required"></span></label>
                            <p class="date">{{item.PreviousPT | number : '1.2-2'}}</p>

                          </div>

                        </div>
                        <div class="col-md-3">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">Tax Deducted<span class="required"></span></label>
                            <p class="date">{{item.TaxDeducted | number : '1.2-2'}}</p>

                          </div>

                        </div>

                        <hr>

                      </div>
                    </div>
                  </div>
                </div>

              </ng-template>
            </ngb-tab>

            <ngb-tab id="isPaymentHistory" *ngIf="!isESSLogin || activenavtab === 'paymentInformation'">
              <ng-template ngbTabTitle><i class="fa fa-tag" aria-hidden="true"></i>&nbsp;&nbsp;
                Payment History
              </ng-template>
              <ng-template ngbTabContent>


                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <div class="row" *ngIf="!spinner && LstPaymentHistory.length > 0">


                  <div style="z-index: 1000 !important" class="form-group-vertical col-xs-12 col-sm-3 col-md-3">
                    <label class="form-label searchbar-label">Payment Type</label>
                    <div class="form-group m-t-m5">
                      <div class="input-group">
                        <ng-select [items]="processCategoryList" placeholder="-- select an option --"
                          [(ngModel)]="selctedProcesscategoryId" [ngModelOptions]="{standalone: true}" bindLabel="name"
                          bindValue="id" (change)="onChangeProcessCategory($event)"
                          style="border-radius: 3px 0px 0px 3px !important;width: 100% !important">
                        </ng-select>


                      </div>
                    </div>
                  </div>
                  <div style="z-index: 1000 !important" class="form-group-vertical col-xs-12 col-sm-3 col-md-3">
                    <label class="form-label searchbar-label">Year</label>
                    <div class="form-group m-t-m5">
                      <div class="input-group">
                        <ng-select [items]="yearrangeList" [searchable]="true" [(ngModel)]="selectedyear"
                          [ngModelOptions]="{standalone: true}" placeholder="Year" bindLabel="label" bindValue="value"
                          (change)="onChangeYearOfPayment($event)"
                          style="border-radius: 3px 0px 0px 3px !important;width: 100% !important">
                        </ng-select>
                      </div>
                    </div>

                  </div>

                </div>
                <br />

                <div class="row" *ngIf="!spinner && paginateData_PaymentHistory.length == 0">
                  <div class="col-lg-12 text-center"><b class="text-center">No records found!</b>
                  </div>
                </div>


                <div class="row" *ngIf="!spinner && paginateData_PaymentHistory.length > 0">
                  <div class="col-lg-6" *ngFor="let item of paginateData_PaymentHistory">
                    <div class="card card2" style="padding: 10px;">

                      <div class="row">

                        <div class="col-md-12" style="padding-left: 30px; margin-bottom: 10px;">

                          <h6 class="city"
                            style="    font-weight: 700;letter-spacing: 1px;margin-bottom: 0px !important;display: inline-block;">
                            {{item.PayPeriodName}} </h6>

                          <br>
                          <span class="description" style="font-size: 12px; font-weight: 600;letter-spacing: 1px;">
                            ₹ {{item.NetPay | number : '1.2-2'}} &nbsp; - &nbsp; Payment
                            Date :
                            {{item.PaymentDate}} </span>


                          <button (click)="downloadPaySlip(item)" type="button" *ngIf="item.ProcessCategoryId == 1"
                            class="ant-btn d-inline-flex align-items-center m-1 ant-btn-sm"
                            style="font-size: 10px;color: #40a9ff;border-color: #40a9ff;float: right;margin-top: -22px !important;"><span><i
                                class="fa fa-download" aria-hidden="true" style="padding-right: 5px;"></i>Download
                              Payslip</span></button>
                        </div>

                      </div>
                      <div class="row">


                        <div class="col-md-4">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">Bank Name<span class="required"></span></label>
                            <p class="date">{{item.BankName }}</p>

                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">IFSC Code<span class="required"></span></label>
                            <p class="date">{{item.IFSCcode}}</p>

                          </div>
                        </div>
                        <div class="col-md-4">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">Account Number<span class="required"></span></label>
                            <p class="date">{{item.AccountNumber}}</p>

                          </div>
                        </div>



                      </div>
                      <div class="row">
                        <div class="col-md-4">
                          <div class="form-group form-group-vertical col-xs-12  col-sm-12">
                            <label class="form-label">UTR<span class="required"></span></label>
                            <p class="date"
                              *ngIf="item.AcknowledgmentDetail != null && item.AcknowledgmentDetail != ''">
                              {{item.AcknowledgmentDetail}}</p>
                            <p class="date"
                              *ngIf="item.AcknowledgmentDetail == null || item.AcknowledgmentDetail == ''">
                              ---</p>

                          </div>
                        </div>
                        <hr>
                      </div>
                    </div>
                  </div>

                </div>

              </ng-template>
            </ngb-tab>

            <ngb-tab id="isDocumentInfo" *ngIf="!isESSLogin">
              <ng-template ngbTabTitle><i class="fa fa-file-text" aria-hidden="true"></i>&nbsp;&nbsp;
                Documents
              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <br>


                <ngb-tabset style="width: 100%;" *ngIf="!spinner">
                  <ngb-tab id="personal">
                    <ng-template ngbTabTitle><i class="fa fa-window-maximize" aria-hidden="true"></i>&nbsp;&nbsp;
                      Personal
                    </ng-template>
                    <ng-template ngbTabContent>
                      <div class="row" style="width: 100%;">
                        <div class="col-12" *ngIf="documentTbl?.length > 0">
                          <table class="table table-bordered table-container">
                            <thead>
                              <tr class="document_table_tr">
                                <th scope="col" style="width:30%;font-weight: 500 !important;">
                                  Document Name</th>
                                <th scope="col" style="width:18%;font-weight: 500;">
                                  Document
                                  no
                                </th>
                                <th scope="col" style="width:5%;font-weight: 500;">
                                  Status
                                </th>
                                <th scope="col" style="width:20%;font-weight: 500;">
                                  Category
                                  Type
                                </th>
                                <th scope="col" style="width:22%;font-weight: 500;">
                                  Action
                                </th>
                              </tr>
                            </thead>

                            <tbody>
                              <tr *ngFor="let item of documentTbl; let i = index" id="{{item.DocumentName}}_border">

                                <td class="document_table_docName table-vertical-align">
                                  <b> {{item.DocumentName}} <span class="help-text-c"
                                      *ngIf="item.IsMandatory == 'True'">
                                      *</span></b>
                                </td>
                                <td class="txt-align table-vertical-align">
                                  <span style="font-family: cursive;">{{item.DocumentNumber}}
                                  </span>
                                </td>
                                <td class="txt-align table-vertical-align">
                                  <label *ngIf="item.Status == null"> - </label>
                                  <span class="badge badge-warning" *ngIf="item.Status == 0">Pending</span>
                                  <span class="badge badge-danger" *ngIf="item.Status == 2">Rejected</span>
                                  <span class="badge badge-success" *ngIf="item.Status == 1">Approved</span>
                                </td>

                                <td class="txt-align table-vertical-align">
                                  <label *ngIf="item.CategoryType == null"> - </label>

                                  <label *ngIf="item.CategoryType != null">

                                    <small *ngFor="let i of item.CategoryType">
                                      <label *ngIf="i.isChecked" class="font-12">
                                        {{i.Code}}, </label>
                                    </small>
                                  </label>
                                </td>
                                <td class="document_table_docName " style="text-align: center">

                                  <button *ngIf="item.FileName == null" class="btn btn-default btn-sm m-r-sm "
                                    style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                    (click)="document_file_upload(item)"><i class="fa fa-upload m-r-xs"></i> Upload
                                  </button>
                                  <button *ngIf="item.FileName != null" class="btn btn-default btn-sm m-r-sm "
                                    style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                    (click)="document_file_edit(item)" [disabled]="item.Status == 1 ? true : null"><i
                                      class="fa fa-pencil-square-o m-r-xs"></i>
                                    Edit
                                  </button>
                                  <button *ngIf="item.FileName != null" class="btn btn-default btn-sm m-r-sm "
                                    style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                    (click)="document_file_delete(item)" [disabled]="item.Status == 1 ? true : null"><i
                                      class="fa fa-trash-o m-r-xs"></i> Delete
                                  </button>
                                  <button *ngIf="item.FileName != null" class="btn btn-default btn-sm m-r-sm "
                                    style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                    (click)="document_file_view(item, 'Documents')"><i class="fa fa-eye m-r-xs"></i>
                                    View </button>

                                </td>
                              </tr>
                            </tbody>
                          </table>

                        </div>
                      </div>
                    </ng-template>
                  </ngb-tab>
                  <ngb-tab id="official">
                    <ng-template ngbTabTitle><i class="fa fa-window-maximize" aria-hidden="true"></i>&nbsp;&nbsp;
                      Official
                    </ng-template>
                    <ng-template ngbTabContent>

                      <div class="row" *ngIf="employeeLetterTransactions.length == 0">
                        <div class="col-lg-12">
                          <p class="text-center">No letter transactions found!</p>
                        </div>
                      </div>
                      <div *ngFor="let item of employeeLetterTransactions">
                        <div *ngIf="item.Status == 1">
                          <h6 class="header-pretitle" style="font-size: .625rem;margin-bottom: 10px;margin-top: 10px;">
                            {{item.CreatedOn | date:'dd MMM, yyyy'}}
                          </h6>
                          <div class="list-group-item list-group_shadow m-b-05">
                            <div class="row align-items-center">
                              <div class="col-auto">
                                <a href="javascript:;" class="avatar">
                                  <img src="assets/Images/{{clientLogoLink}}" alt="..." class="avatar-img rounded"
                                    style="width:40px">
                                </a>
                              </div>
                              <div class="col ml-n2">
                                <h4 class="font-h4 mb-1">{{item.TemplateCategroyCode}}
                                </h4>
                                <small class="text-muted">
                                  {{item.TemplateCategroyDescription}} </small>
                              </div>
                              <div class="col-auto">
                                <div class="media-right">
                                  <button class="btn btn-default btn-sm m-r-sm"
                                    style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                    (click)="downloadDocs(item)"> Download </button>
                                  <button class="btn btn-default btn-sm m-r-sm"
                                    style="padding: 2px 12px; font-size: 11px; border: 1px solid #d8d9dd;"
                                    (click)="viewDocs(item, 'official')"> View
                                  </button>

                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                    </ng-template>
                  </ngb-tab>
                </ngb-tabset>



              </ng-template>
            </ngb-tab>

            <ngb-tab id="isDeductionInfo" *ngIf="!isESSLogin">
              <ng-template ngbTabTitle><i class="fa fa-file-text" aria-hidden="true"></i>&nbsp;&nbsp;
                Deductions
              </ng-template>
              <ng-template ngbTabContent>
                <div class="text-center ma-5" *ngIf="spinner">
                  <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                    <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                      aria-hidden="true"></span>
                    Please wait...
                  </button>
                </div>
                <div class="row" *ngIf="!spinner">
                  <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12"
                    style="margin-bottom:0px;">
                    <div class="text-right">
                      <ul class="list-inline">

                        <li class="list-inline-item"><button type="button" [disabled]="!isLoading"
                            class="btn upgrade-btn" (click)="openDediuctionSlider()"> <i
                              class="mdi mdi-database-plus  m-r-xs"></i> Add Deduction
                          </button></li>

                      </ul>
                    </div>

                  </div>

                </div>
                <br>
                <div class="row tablerow" *ngIf="!spinner">
                  <div class="col-md-12 col-sm-12 col-12">
                    <angular-slickgrid gridId="grid_Deduction" [data]="ruleGrid"
                      [columnDefinitions]="columnDefinitions_Deduc" [gridOptions]="gridOptions_Deduction"
                      [dataset]="LstDeductions" gridWidth="100%"
                      (onAngularGridCreated)="angularGridReady_Deduction($event)">
                    </angular-slickgrid>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>
          </ngb-tabset>
        </div>
      </form>
    </div> -->







<div id="popup_currentCTC" class="modal fade" tabindex="1" role="dialog" data-backdrop="static" data-keyboard="false"
  aria-labelledby="popup_currentCTC" aria-hidden="true">
  <div style="display: block;" class="modal fade show animated fadeInDownBig">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
            <small class="header-pretitle"><b>Current Pay Structure</b></small>
            <h6 class="modal-title subheader_h6" id="popup_release_AL">{{employeedetails.FirstName}} |
              {{EffectiveDate_POP | date : 'dd-MM-yyyy'}} | &#8377;{{AnnualSalary_POP | number : '1.2-2'}}
            </h6>
          </div>
          <div class="modal-close" (click)="modal_dismiss()" style="margin-top: 5px;"><span
              class="mdi mdi-close pull-left"></span>
          </div>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-12">
              <div class="table-responsive-sm table-responsive-xs table-responsive-xxs">
                <table class="table table-bordered table-container responsive">
                  <thead>
                    <tr class="document_table_tr">
                      <th scope="col" style="width: 40%; text-align: left!important">Product Code
                      </th>
                      <th scope="col" style="width: 20%;text-align: center">Monthly</th>
                      <th scope="col" style="width: 20%;text-align: center">Annually</th>
                    </tr>
                  </thead>
                  <tbody style="font-size: 13px;">
                    <tr *ngFor="let item of Current_RateSetList; let i = index"
                      [ngStyle]="{'font-weight': item.ProductTypeCode =='Earning' || item.ProductTypeCode =='Deductions' || item.ProductTypeCode =='Total' ? '600' : '400' }">

                      <td class="table-td-center" style="padding: 8px !important;" *ngIf="item.Value > 0">
                        <span class="productName_span"> {{item.DisplayName}} </span>
                      </td>
                      <td class="txt-align document_table_validFrom table-td-center" *ngIf="item.Value > 0">
                        <label class="text-right" style="font-size: 13px;padding: 6px;font-size: 12px;">
                          {{item.Value | number : '1.2-2'}}
                        </label>
                      </td>
                      <td class="txt-align document_table_validFrom table-td-center" *ngIf="item.Value > 0">
                        <label class="text-right" style="font-size: 13px;padding: 6px;font-size: 12px;">
                          {{item.Value * 12 | number : '1.2-2'}}
                        </label>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="pull-left left-margin-btn">
            <button class="btn  btn-primary " type="Submit" name="btnSubmit" id="btnSubmit" (click)="viewHistory()">
              <div class="pos-rlt sm-btn-component"> <span> <i class="mdi mdi-av-timer"></i> View History
                </span>
              </div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div id="popup_chooseCategory_investment" class="modal fade" tabindex="1" role="dialog" data-backdrop="static"
  data-keyboard="false" aria-labelledby="popup_chooseCategoryDeduction" aria-hidden="true">
  <div style="display: block;" class="modal fade show animated fadeInDownBig">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
            <small class="header-pretitle"><b>Investments - Category</b></small>
            <h6 class="modal-title subheader_h6" id="popup_release_AL">{{employeedetails.FirstName}} <span>
                - </span>
              {{employeedetails.Code}} </h6>
          </div>
          <div class="modal-close" (click)="modal_dismiss2('investment')" style="margin-top: 5px;"><span
              class="mdi mdi-close pull-left"></span>
          </div>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-xs-12  col-sm-4  p-r-50">
              <img src="assets/Images/designer-life.svg" style="position: absolute; /* bottom: 0px; */
                          height: auto;
                          width: 100%;
                          text-align: center;padding: 55px;">
            </div>
            <div class="col-xs-12  col-sm-8  p-r-50">
              <h5 style="text-transform: uppercase;font-size: 14px;margin-bottom: 10px;">Commonly Used
              </h5>
              <div class="row">
                <div class="col-md-3 col-xs-6 mb10 mt10" *ngFor="let category of TaxationCategory_Investment"
                  style="margin-bottom:10px" (click)="chooseCategory(category,'investment')">
                  <a href="javascript:;" style="text-decoration: none !important;">
                    <div style="box-shadow: rgba(0, 0, 0, 0.117647) 0 1px 2px, rgba(0, 0, 0, 0.117647) 0 1px 2px; padding: 3px; height: 137px;text-decoration: none;
                                  border-radius: 10px;
                                  border: 1px solid #f3f2f2;">
                      <img class="aligncenter size-full wp-image-25227 img-responsive" alt="80C" width="50" height="50"
                        src="assets/Images/accounting.png">
                      <p class="mb0 pt5" style="font-size: 11px;margin-bottom: 5px;
                                  color: #4C5656;
                                  margin-top: 5px;
                                  z-index: 1000;
                                  transition: color 0.3s ease-out;
                                  font-weight: 500;
                                  text-align: center;"><b>{{getLetterSpace(category.ProductName)}}</b></p>
                      <p class="mb0 pt5" style="text-align: center; font-size: 10px;" *ngFor="let child of category.b">
                        {{child.Code}}</p>
                    </div>
                  </a>
                </div>
                <p class="center_text" *ngIf="TaxationCategory_Investment.length == 0">No records found!
                </p>
              </div>
              <br>
              <br>
              <h5 style="font-size: 14px;text-transform: uppercase;margin-bottom: 10px;">Other Investments
              </h5>
              <br>
              <div class="row">
                <div class="col-md-3 col-xs-6 mb10 mt10" *ngFor="let othercategory of TaxationOtherCategory_Investment"
                  (click)="chooseCategory(othercategory,'investment')" style="margin-bottom:10px">
                  <a href="javascript:;" style="text-decoration: none !important;">
                    <div style="box-shadow: rgba(0, 0, 0, 0.117647) 0 1px 2px, rgba(0, 0, 0, 0.117647) 0 1px 2px; padding: 3px; height: 137px;text-decoration: none;
                                  border-radius: 10px;
                                  border: 1px solid #f3f2f2;">
                      <img class="aligncenter size-full wp-image-25227 img-responsive" alt="80C" width="50" height="50"
                        src="assets/Images/accounting.png">
                      <p class="mb0 pt5" style="font-size: 11px;margin-bottom: 5px;
                                  color: #4C5656;
                                  margin-top: 5px;
                                  z-index: 1000;
                                  transition: color 0.3s ease-out;
                                  font-weight: 500;
                                  text-align: center;"><b>{{getLetterSpace(othercategory.ProductName)}}</b></p>
                      <p class="mb0 pt5" style="text-align: center; font-size: 10px;"
                        *ngFor="let child of othercategory.b">
                        {{child.Code}}</p>
                    </div>
                  </a>
                </div>
              </div>
              <p class="center_text" *ngIf="TaxationOtherCategory_Investment.length == 0">No records
                found!</p>

            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="pull-left left-margin-btn">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div id="popup_chooseCategoryDeduction" class="modal fade" tabindex="1" role="dialog" data-backdrop="static"
  data-keyboard="false" aria-labelledby="popup_chooseCategoryDeduction" aria-hidden="true">
  <div style="display: block;" class="modal fade show animated fadeInDownBig">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
            <small class="header-pretitle"><b> Deductions </b></small>
            <h6 class="modal-title subheader_h6" id="popup_release_AL">{{employeedetails.FirstName}} <span>
                - </span>
              {{employeedetails.Code}} </h6>
          </div>
          <div class="modal-close" (click)="modal_dismiss2('deduction')" style="margin-top: 5px;"><span
              class="mdi mdi-close pull-left"></span>
          </div>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-xs-12  col-sm-4  p-r-50">
              <img src="assets/Images/designer-life.svg" style="position: absolute;
                          /* bottom: 0px; */
                          height: auto;
                          width: 100%;
                          text-align: center;padding: 55px;">
            </div>
            <div class="col-xs-12  col-sm-8  p-r-50">
              <h5 style="
                          text-transform: uppercase;font-size: 14px;
                          margin-bottom: 10px;">Commonly Used</h5>
              <div class="row">

                <div class="col-md-3 col-xs-6 mb10 mt10" *ngFor="let category of TaxationCategory"
                  style="margin-bottom:10px" (click)="chooseCategory(category,'duduction')">
                  <a href="javascript:;" style="text-decoration: none !important;">
                    <div style="box-shadow: rgba(0, 0, 0, 0.117647) 0 1px 2px, rgba(0, 0, 0, 0.117647) 0 1px 2px; padding: 3px; height: 137px;text-decoration: none;
                                  border-radius: 10px;
                                  border: 1px solid #f3f2f2;">
                      <img class="aligncenter size-full wp-image-25227 img-responsive" alt="80C" width="50" height="50"
                        src="assets/Images/tax.png">
                      <p class="mb0 pt5" style="font-size: 11px;margin-bottom: 5px;
                                  color: #4C5656;
                                  margin-top: 5px;
                                  z-index: 1000;
                                  transition: color 0.3s ease-out;
                                  font-weight: 500;
                                  text-align: center;"><b>{{getLetterSpace(category.ProductName)}}</b></p>
                      <p class="mb0 pt5" style="text-align: center; font-size: 10px;" *ngFor="let child of category.b">
                        {{child.Code}}</p>
                    </div>
                  </a>
                </div>
              </div>
              <br>
              <br>
              <h5 style="font-size: 14px;
                  text-transform: uppercase;
                  margin-bottom: 16px;">Other Deductions </h5>
              <br>
              <div class="row">
                <div class="col-md-3 col-xs-6 mb10 mt10" *ngFor="let othercategory of TaxationOtherCategory"
                  style="margin-bottom:10px" (click)="chooseCategory(othercategory,'duduction')">
                  <a href="javascript:;" style="text-decoration: none !important;">
                    <div style="box-shadow: rgba(0, 0, 0, 0.117647) 0 1px 2px, rgba(0, 0, 0, 0.117647) 0 1px 2px; padding: 3px; height: 137px;text-decoration: none;
                                  border-radius: 10px;
                                  border: 1px solid #f3f2f2;">
                      <img class="aligncenter size-full wp-image-25227 img-responsive" alt="80C" width="50" height="50"
                        src="assets/Images/tax.png">
                      <p class="mb0 pt5" style="font-size: 11px;margin-bottom: 5px;
                                  color: #4C5656;
                                  margin-top: 5px;
                                  z-index: 1000;
                                  transition: color 0.3s ease-out;
                                  font-weight: 500;
                                  text-align: center;"><b>{{getLetterSpace(othercategory.ProductName)}}</b></p>
                      <p class="mb0 pt5" style="text-align: center; font-size: 10px;"
                        *ngFor="let child of othercategory.b">
                        {{child.Code}}</p>
                    </div>
                  </a>
                </div>
              </div>
              <p class="center_text" *ngIf="TaxationOtherCategory.length == 0">No records found!</p>

            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="pull-left left-margin-btn">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<nz-drawer [nzVisible]="visible1" [nzWidth]="840" nzTitle="Employee Life Cycle Transaction" (nzOnClose)="close1()">
  <div class="row">
    <div class="col-12">
      <div class="table-responsive-sm table-responsive-xs table-responsive-xxs">
        <table class="table table-bordered table-container responsive">
          <thead>
            <tr class="document_table_tr">
              <th scope="col" style="width: 40%; text-align: left!important">Product Code
              </th>
              <th scope="col" style="width: 20%;text-align: center">Monthly</th>
              <th scope="col" style="width: 20%;text-align: center">Annually</th>
            </tr>
          </thead>
          <tbody style="font-size: 13px;">
            <tr *ngFor="let item of Current_RateSetList; let i = index"
              [ngStyle]="{'font-weight': item.ProductTypeCode =='Earning' || item.ProductTypeCode =='Deductions' || item.ProductTypeCode =='Total' ? '600' : '400' }">
              <td class="table-td-center" style="padding: 8px !important;" *ngIf="item.Value > 0">
                <span class="productName_span"> {{item.DisplayName}} </span>
              </td>
              <td class="txt-align document_table_validFrom table-td-center" *ngIf="item.Value > 0">
                <label class="text-right" style="
                  font-size: 13px;padding: 6px;
font-size: 12px;">
                  {{item.Value | number : '1.2-2'}}
                </label>
              </td>
              <td class="txt-align document_table_validFrom table-td-center" *ngIf="item.Value > 0">
                <label class="text-right" style="
                  font-size: 13px;padding: 6px;
font-size: 12px;">
                  {{item.Value * 12 | number : '1.2-2'}}
                </label>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</nz-drawer>

<nz-drawer [nzVisible]="nominee_sliderVisible" [nzWidth]="840" nzTitle="Nominee Details" (nzOnClose)="close_nominee()">
  <form [formGroup]="employeeForm">
    <div class="col-12 col-md-12 col-sm-12">
      <div class="clearfix">
        <div class="row" style="margin-top: 15px;">
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.nomineeName">
            <label class="form-label">Nominee Name <span class="required">*</span> <span class="form__length">
                {{nomineeName.value?.length}}/25</span></label>
            <input class="form-control" type="text" spellcheck="false"
              onkeypress="return /^[a-zA-Z \s]+$/i.test(event.key)" maxlength="25" #nomineeName name="nomineeName"
              formControlName="nomineeName" [ngClass]="{ 'is-invalid': g.nomineeName.errors }" placeholder="Ar Ma"
              autocomplete="none|false|no">
            <div *ngIf="g.nomineeName.errors" class="invalid-feedback">
              Nominee Name is required
            </div>
          </div>
          <div class="form-group form-group-vertical col-xs-12  col-sm-6"
            *ngIf="this.employeeForm.controls.relationship">
            <label class="form-label">Relationship <span class="required">*</span></label>

            <ng-select [items]="relationship" placeholder="-- select an option --" formControlName="relationship"
              [ngClass]="{ 'ng-touched': g.relationship.errors }" bindLabel="name" bindValue="id">
            </ng-select>
            <div *ngIf="g.relationship.errors" class="help-block">
              Relationship is required
            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.DOB">
            <label class="form-label">DOB </label>
            <input class="form-control" type="text" bsDatepicker [maxDate]="maxDate" placement="bottom" readonly
              [bsConfig]="{ isAnimated: true, dateInputFormat: 'DD-MM-YYYY', containerClass:'theme-default' }"
              name="DOB" formControlName="DOB" [ngClass]="{ 'is-invalid': submitted && g.DOB.errors }"
              placeholder="12-12-1990" autocomplete="none|false|no">
            <div *ngIf="submitted && g.DOB.errors" class="invalid-feedback">
              <div *ngIf="g.DOB.errors.required">DOB is required
              </div>
            </div>

          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.idProoftype">
            <label class="form-label">ID Proof type </label>

            <ng-select [items]="FamilyDocumentCategoryList" placeholder="-- select an option --"
              formControlName="idProoftype" [ngClass]="{ 'ng-touched': g.idProoftype.errors }" bindLabel="Name"
              bindValue="DocumentTypeId">
            </ng-select>

            <div *ngIf="g.idProoftype.errors" class="help-block">
              Id Proof type is required

            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.FamilyisEmployed">
            <label class="form-label">Is Employed</label>
            <div class="p-t-10">

              <label class="el-switch el-switch-green">
                <input type="checkbox" name="FamilyisEmployed" formControlName="FamilyisEmployed" />
                <span class="el-switch-style"></span>
              </label>
            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.FamilyPF">
            <label class="form-label">Coverage for PF (%) <span class="required"> *
              </span></label>

            <input class="form-control" type="text" maxlength="3" onkeypress="return /[0-9]/i.test(event.key)"
              name="FamilyPF" formControlName="FamilyPF" [ngClass]="{ 'is-invalid': g.FamilyPF.errors  }"
              placeholder="00" autocomplete="none|false|no">
            <div *ngIf="g.FamilyPF.errors " class="invalid-feedback">
              PF (%) is required
            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.FamilyESIC && isESICapplicable">
            <label class="form-label">Coverage for ESIC (%) </label>

            <input class="form-control" type="text" onkeypress="return /[0-9]/i.test(event.key)" maxlength="3"
              name="FamilyESIC" formControlName="FamilyESIC"
              [ngClass]="{ 'is-invalid': submitted && g.FamilyESIC.errors }" placeholder="45"
              autocomplete="none|false|no">
            <div *ngIf="submitted && g.FamilyESIC.errors" class="invalid-feedback">
              <div *ngIf="g.FamilyESIC.errors.required"> ESIC (%) is required
              </div>
            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.FamilyGratuity">
            <label class="form-label">Coverage for Gratuity (%) <span class="required">*</span></label>

            <input class="form-control" type="text" onkeypress="return /[0-9]/i.test(event.key)" maxlength="3"
              name="FamilyGratuity" formControlName="FamilyGratuity"
              [ngClass]="{ 'is-invalid': g.FamilyGratuity.errors }" placeholder="45" autocomplete="none|false|no">
            <div *ngIf="submitted && g.FamilyGratuity.errors" class="invalid-feedback">
              <div *ngIf="g.FamilyGratuity.errors.required"> Gratuity (%) is required
              </div>
            </div>
            <div *ngIf="g.FamilyGratuity.errors" class="invalid-feedback">
              Gratuity (%) is required
            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="this.employeeForm.controls.mediclaim">
            <label class="form-label">Do you want to insure this member? <span class="help-text m-l-5">(is
                Mediclaim)</span> </label>
            <div class="p-t-10">

              <label class="el-switch el-switch-green">
                <input type="checkbox" name="mediclaim" formControlName="mediclaim" />
                <span class="el-switch-style"></span>
              </label>
            </div>
          </div>
          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6">
            <label class="form-label">Attachment <span class="help-text m-l-5">(Max file
                size 2MB)</span> </label>
            <label class="upload control" style="width: 50%; float: left;" *ngIf="!familyFileName">
              <div class="upload-draggable is-primary">
                <section class="section">
                  <div class="has-text-centered">
                    <span class="icon is-large">
                      <span style="padding-left: 10px;"> <i class="fa fa-upload" style="color: #9ba7ca;"></i> Upload
                      </span>
                    </span>
                  </div>
                </section>
              </div>
              <input type="file" accept="application/msword,  application/pdf, image/*"
                (change)="onfamilyFileUpload($event)" id="sTest-uploadFile-candidateAddResume">
            </label>
            <div *ngIf="submitted && g.familyDocumentId.invalid" class="help-block">
              <div *ngIf="g.familyDocumentId.errors.required">Attachment is required
              </div>
            </div>
            <p class="control" *ngIf="familyFileName">
              <span class="file-name">
                <button class="btn btn-danger c-btn" [disabled]="!isLoading" (click)="doDeleteFamilyFile()"><a
                    ngbTooltip="Trash Attachment" id="sTest-deleteFile-candidateAddResume" style="padding-left: 10px;font-size: 15px;cursor: pointer;
                                         display: block   ;margin-top: -5px;"><i class="fa fa-trash-o"></i></a>
                </button>
                <a target="blank" class="ahref" style="padding: 2px;">
                  {{familyFileName}}
                </a>
              </span>
            </p>
            <div class="d-flex align-items-center" *ngIf="!isLoading">
              <strong class="text-right"> {{spinnerText}}...
                &nbsp;&nbsp;&nbsp;</strong>
              <div class="spinner-border ml-auto"
                style="width: 1rem;height: 1rem;margin-left: 0px !important; font-size: 12px;" role="status"
                aria-hidden="true"></div>
            </div>
          </div>
        </div>

      </div>

    </div>
  </form>
  <div class="row" style="position: absolute;bottom: 10px;width: 100%;">
    <div class="col-lg-12">
      <div class="text-right">
        <ul class="list-inline">
          <li class="list-inline-item"><button *ngIf="isEnbleNomineeBtn" type="button" [disabled]="!isLoading"
              class="btn upgrade-btn" (click)="addNewNominee()"> <i class="mdi mdi-database-plus  m-r-xs"></i> Add
              Nominee
            </button></li>
        </ul>
      </div>
    </div>
  </div>


</nz-drawer>

<nz-drawer [nzVisible]="bank_slidervisible" [nzWidth]="840" nzTitle="Bank Information" (nzOnClose)="close_BankSlider()"
  [disabled]="!isLoading">

  <div class="row" *ngIf="BusinessType != 3">
    <div class="col-lg-12 text-center">
      <b>Alert: This bank information will be marked as Default Account Details.</b>
    </div>
  </div>
  <form [formGroup]="employeeForm">
    <div class="col-12 col-md-12 col-sm-12">
      <div class="clearfix">

        <div class="row" *ngIf="isFailedInitiateProcess">
          <div class="col-lg-12 text-center">
            <ngb-alert [dismissible]="false">
              <strong>{{FailedInitiateProcessMessage}}</strong>
            </ngb-alert>
          </div>
        </div>

        <div class="row" style="margin-top: 15px;">

          <div class="form-group form-group-vertical col-xs-12 col-sm-6" *ngIf="employeedetails != null">
            <label class="form-label">Employee Name

            </label>
            <input class="form-control" type="text" name="Name" maxlength="50" [(ngModel)]="employeedetails.FirstName"
              [ngModelOptions]="{standalone: true}" disabled placeholder=" Name" autocomplete="none|false|no">

          </div>

          <div class="form-group form-group-vertical col-xs-12 col-sm-6 " *ngIf="this.employeeForm.controls.status">
            <label class="form-label ">Status</label>


            <div class="p-t-10">

              <label class="el-switch el-switch-green">
                <input type="checkbox" name="status" [attr.disabled]="true" formControlName="status" />
                <span class="el-switch-style"></span>
              </label>
            </div>


          </div>

          <div class="form-group form-group-vertical col-xs-12  col-sm-6 " *ngIf="this.employeeForm.controls.bankName">
            <label class="form-label ">Bank Name <span class="required">*</span></label>

            <ng-select [items]="BankList" (change)="onChangeBank($event)" placeholder="-- select an option --"
              formControlName="bankName" [ngClass]="{ 'ng-touched': g.bankName.errors }" bindLabel="Name"
              bindValue="Id">
              <ng-template ng-header-tmp *ngIf="is_spinner_ifsc">
                <div class="d-flex justify-content-center">
                  <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                </div>
              </ng-template>
            </ng-select>

            <div *ngIf="g.bankName.errors" class="help-block">
              Bank Name is required
            </div>


          </div>
          <div class="form-group form-group-vertical col-xs-12 col-sm-6 " *ngIf="this.employeeForm.controls.IFSCCode">
            <label class="form-label ">IFSC Code <span class="required">*</span>
            </label>
            <ng-select [items]="BranchList" placeholder="-- select an option --" formControlName="IFSCCode"
              (change)="onChangeIFSC($event)" [ngClass]="{ 'ng-touched': g.IFSCCode.errors }"
              bindLabel="FinancialSystemCode" bindValue="Id" autocomplete="new-password">
              <ng-template ng-header-tmp *ngIf="is_spinner_ifsc">
                <div class="d-flex justify-content-center">
                  <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                </div>
              </ng-template>
            </ng-select>
            <div *ngIf="g.IFSCCode.errors" class="help-block">
              IFSC is required
            </div>

          </div>
          <div class="form-group form-group-vertical col-xs-12  col-sm-6 "
            *ngIf="this.employeeForm.controls.accountNumber">
            <label class="form-label ">Account Number <span class="required">*</span></label>
            <input class="form-control" name="accountNumber" formControlName="accountNumber"
              placeholder="Account Number" onkeypress="return /^[0-9]+$/i.test(event.key)"
              [ngClass]="{ 'is-invalid': g.accountNumber.errors }" type="password" autocomplete="new-password"
              onpaste="return false;" [readonly]="disableSelect">

            <div *ngIf="g.accountNumber.errors" class="help-block">
              Account Number is required
            </div>

          </div>

          <div class="form-group form-group-vertical col-xs-12  col-sm-6 "
            *ngIf="this.employeeForm.controls.confirmAccountNumber">
            <label class="form-label ">Confirm Account Number <span class="required">*</span></label>
            <input class="form-control" name="confirmAccountNumber" formControlName="confirmAccountNumber"
              placeholder="Confirm Account Number" onkeypress="return /^[0-9]+$/i.test(event.key)"
              [ngClass]="{ 'is-invalid': g.confirmAccountNumber.errors }" type="text" autocomplete="new-password"
              onpaste="return false;" [readonly]="disableSelect">

            <div *ngIf="g.confirmAccountNumber.errors" class="help-block">
              Confirm Account Number is required | Confirm Account Number does not match
            </div>


          </div>


          <div class="form-group form-group-vertical col-xs-12 col-sm-6 "
            *ngIf="this.employeeForm.controls.accountHolderName">
            <label class="form-label ">Account Holder Name <span class="required">*</span> <span
                class="help-text m-l-5">(As per bank record)</span> </label>
            <input class="form-control" name="accountHolderName" spellcheck="false" formControlName="accountHolderName"
              placeholder="SBI Customer" [ngClass]="{ 'is-invalid': g.accountHolderName.errors }" type="text"
              autocomplete="none|false|no" [readonly]="disableSelect">

            <div *ngIf="g.accountHolderName.errors" class="help-block">
              Account Holder Name is required
            </div>

            <div *ngIf="IsNameMisMatched" class="invalid-feedback" style="display: block;
                      color: #309cec !important;
                      font-weight: 700 !important;
                      font-size: 14px;"> Name as per Bank : {{NameAsPerBank}}
              <div>
              </div>
            </div>

          </div>

          <div class="form-group form-group-vertical col-xs-12 col-sm-6 " *ngIf="this.employeeForm.controls.allocation">
            <label class="form-label ">Allocation(%) <span class="required">*</span></label>
            <input class="form-control" disabled name="allocation" formControlName="allocation" disabled
              placeholder="100" [ngClass]="{ 'is-invalid': submitted && g.allocation .errors }" value="100"
              type="number" autocomplete="none|false|no">
            <div *ngIf="submitted && g.allocation .errors" class="invalid-feedback">
              <div *ngIf="g.allocation .errors.required">Allocation is required
              </div>
            </div>
          </div>


          <div class="form-group form-group-vertical col-xs-12 col-sm-6 "
            *ngIf="this.employeeForm.controls.proofType  && !IsPennyDropCheckRequired && IsManualModeEnabled">
            <label class="form-label ">Proof Type <span class="required">
                *</span></label>

            <ng-select [items]="BankDocumentCategoryList" placeholder="-- select an option --"
              formControlName="proofType" [ngClass]="{ 'ng-touched': g.proofType.errors }" bindLabel="Name"
              bindValue="DocumentTypeId">

            </ng-select>



            <div *ngIf="g.proofType.errors" class="help-block">
              Proof Type is required
            </div>
          </div>

          <div class="form-group form-group-vertical col-12 col-xs-12 col-lg-6 col-md-6 col-sm-6"
            *ngIf="!IsPennyDropCheckRequired && IsManualModeEnabled">
            <label class="form-label">Attachment <span class="required">*</span> <span class="help-text m-l-5">(Max file
                size 2MB)</span></label>
            <label class="upload control" style="width: 50%; float: left;" *ngIf="!FileName">
              <div class="upload-draggable is-primary">
                <section class="section">
                  <div class="has-text-centered">
                    <span class="icon is-large">
                      <span style="padding-left: 10px;"> <i class="fa fa-upload" style="color: #9ba7ca;"></i> Upload
                      </span>
                    </span>

                  </div>
                </section>
              </div>
              <input type="file" accept="application/msword,  application/pdf, image/*" (change)="onFileUpload($event)"
                id="sTest-uploadFile-candidateAddResume">

            </label>
            <div *ngIf=" g.DocumentId.errors" class="help-block">
              <div>Attachment is required
              </div>
            </div>
            <p class="control" *ngIf="FileName">
              <span class="file-name">
                <button class="btn btn-danger c-btn" (click)="doDeleteFile()" [disabled]="!isLoading"><a
                    ngbTooltip="Trash Attachment" id="sTest-deleteFile-candidateAddResume" style="padding-left: 10px;font-size: 15px;cursor: pointer;
                                                   display: block ;margin-top: -5px;"><i class="fa fa-trash-o"></i></a>
                </button>


                <a target="blank" class="ahref" style="padding: 2px;">
                  {{FileName}}
                </a>

              </span>

            </p>
          </div>






        </div>


        <div class="row">

          <div *ngIf="IsMultipleAttempts"
            class="form-group form-group-vertical col-12 col-xs-12 col-lg-12 col-md-12 col-sm-12">
            <label class="form-label" id='manuallVerification'>Do you want to verify the bank account
              details manually? (Yes/No) </label>

            <div class="p-t-10">

              <label class="el-switch el-switch-green">
                <input type="checkbox" name="switch" value="yes" [(ngModel)]="manuallVerification"
                  (change)='onChangeManual($event)'>
                <span class="el-switch-style"></span>
              </label>
            </div>
          </div>
        </div>


      </div>

    </div>

  </form>



  <div class="row" style="position: absolute;bottom: 10px;width: 100%;">
    <div class="col-lg-12">
      <div class="d-flex align-items-center" *ngIf="pennydropLoading" style="width: 100%;">

        <nz-steps [nzCurrent]="1" nzSize="small" style="width: 100%;">
          <nz-step nzTitle="{{textSpin}}" nzStatus="{{status}}" nzIcon="{{loadingicon}}" nzDescription="{{desciption}}">
          </nz-step>
          <nz-step nzTitle="{{textSpin1}}" nzStatus="{{status1}}" nzIcon="{{loadingicon1}}"
            nzDescription="{{desciption1}}"></nz-step>
          <nz-step nzTitle="{{textSpin2}}" nzStatus="{{status2}}" nzIcon="{{loadingicon2}}"
            nzDescription="{{desciption2}}"></nz-step>
        </nz-steps>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="!pennydropLoading" style="text-align: right;
      display: block;">
    <div class="text-right">
      <div class="col-lg-12" *ngIf="IsPennyDropCheckRequired">
        <div class="text-right">
          <ul class="list-inline">
            <li class="list-inline-item">
              <button class="btn  btn-primary " type="Submit" name="btnSubmit" id="btnSubmit" [disabled]="!isLoading"
                (click)="addnewbankdetails()">
                <div class="pos-rlt sm-btn-component"> <span>
                    <i class="fa fa-check-circle" *ngIf="IsPennyDropCheckRequired && !isFailedInitiateProcess"
                      aria-hidden="true"></i>
                    <i class="fa fa-repeat" *ngIf="IsPennyDropCheckRequired && isFailedInitiateProcess"
                      aria-hidden="true"></i>

                    <span *ngIf="IsPennyDropCheckRequired && !isFailedInitiateProcess"> &nbsp;
                      Verify </span>
                    <span *ngIf="IsPennyDropCheckRequired && isFailedInitiateProcess"> &nbsp;
                      Re-Verify </span>


                  </span></div>
              </button>
            </li>
          </ul>
        </div>
      </div>

      <div class="col-lg-12" *ngIf="!IsPennyDropCheckRequired && IsManualModeEnabled">
        <div class="text-right">
          <ul class="list-inline">
            <li class="list-inline-item"><button type="button" class="btn upgrade-btn" [disabled]="!isLoading"
                (click)="addnewbankdetails()"> <i class="mdi mdi-database-plus  m-r-xs"></i>
                Update Account
              </button></li>
          </ul>
        </div>
      </div>
    </div>
  </div>




</nz-drawer>

<nz-drawer [nzVisible]="previousemployment_slidervisible" [nzWidth]="840" nzTitle="Previous Employment"
  (nzOnClose)="close_preEmploymentSlider()">

  <form [formGroup]="employeeForm">

    <div class="col-12 col-md-12 col-sm-12">
      <div class="clearfix">

        <div class="row">
          <div class="form-group form-group-vertical col-xs-push-12 col-sm-6">
            <label class="form-label">Employee Code <span class="required">*</span> </label>
            <input class="form-control" disabled type="text" name="employeecode" formControlName="employeecode"
              [ngClass]="{ 'is-invalid': submitted && g.employeecode.errors }" placeholder="40001"
              autocomplete="none|false|no">
            <div *ngIf="submitted && g.employeecode.errors" class="invalid-feedback">
              <div *ngIf="g.employeecode.errors.required">Employee Code is required
              </div>
            </div>


          </div>

          <div class="form-group form-group-vertical col-xs-12  col-sm-6 ">
            <label class="form-label ">Financial Year <span class="required">*</span></label>

            <ng-select [items]="FicalYearList" placeholder="-- select an option --"
              formControlName="prevEmpfinancialYear" [ngClass]="{ 'ng-touched': g.prevEmpfinancialYear.errors }"
              bindLabel="code" bindValue="Id">

            </ng-select>

            <div *ngIf="g.prevEmpfinancialYear.errors" class="help-block">
              Financial Year is required
            </div>


          </div>



          <div class="form-group form-group-vertical col-xs-push-12 col-sm-6">
            <label class="form-label">Company Name <span class="required">*</span> </label>
            <input class="form-control" type="text" name="companyName" formControlName="companyName"
              [ngClass]="{ 'is-invalid': submitted && g.companyName.errors }" placeholder="Integrum Technologies"
              autocomplete="none|false|no">
            <div *ngIf="submitted && g.companyName.errors" class="invalid-feedback">
              <div *ngIf="g.companyName.errors.required">Company Name is required
              </div>
            </div>


          </div>

          <div class="form-group form-group-vertical col-xs-12  col-sm-6">
            <label class="form-label">Start Date <span class="required">*</span></label>
            <input class="form-control" name="startdate" formControlName="startdate" bsDatepicker placement="bottom"
              readonly (bsValueChange)="onChangeStartDate($event)"
              [bsConfig]="{ isAnimated: true, dateInputFormat: 'DD-MM-YYYY', containerClass:'theme-default' }"
              placeholder="01-01-2000" [ngClass]="{ 'is-invalid': submitted && g.startdate.errors }" type="text"
              autocomplete="none|false|no">
            <div *ngIf="submitted && g.startdate.errors" class="invalid-feedback">
              <div *ngIf="g.startdate.errors.required">Start Date is required
              </div>
            </div>
          </div>
          <div class="form-group form-group-vertical col-xs-12 col-sm-6">
            <label class="form-label">End Date <span class="required">*</span> </label>
            <input class="form-control" name="enddate" bsDatepicker placement="bottom" readonly
              [bsConfig]="{ isAnimated: true, dateInputFormat: 'DD-MM-YYYY', containerClass:'theme-default' }"
              type="text" formControlName="enddate" placeholder="01-01-2000" [minDate]="EnddateminDate"
              [ngClass]="{ 'is-invalid': submitted && g.enddate.errors }" type="text" autocomplete="none|false|no">
            <div *ngIf="submitted && g.enddate.errors" class="invalid-feedback">
              <div *ngIf="g.enddate.errors.required">End Date is required
              </div>
            </div>
          </div>

          <div class="form-group form-group-vertical col-xs-12  col-sm-6">
            <label class="form-label">Gross Salary<span class="required">*</span></label>
            <input class="form-control" name="grossSalary" formControlName="grossSalary" type="text"
              onkeypress="return /[0-9]/i.test(event.key)" maxlength="12" placeholder="56987"
              [ngClass]="{ 'is-invalid': submitted && g.grossSalary.errors }" autocomplete="none|false|no">
            <div *ngIf="submitted && g.grossSalary.errors" class="invalid-feedback">
              <div *ngIf="g.grossSalary.errors.required">Gross Salary is required
              </div>
            </div>
          </div>
          <div class="form-group form-group-vertical col-xs-12  col-sm-6">
            <label class="form-label">Previous PT<span class="required">*</span></label>
            <input class="form-control" name="previousPT" formControlName="previousPT" type="text"
              onkeypress="return /[0-9]/i.test(event.key)" maxlength="12" placeholder="56987"
              [ngClass]="{ 'is-invalid': submitted && g.previousPT.errors }" autocomplete="none|false|no">
            <div *ngIf="submitted && g.previousPT.errors" class="invalid-feedback">
              <div *ngIf="g.previousPT.errors.required">Previous PT is required
              </div>
            </div>
          </div>
          <div class="form-group form-group-vertical col-xs-12  col-sm-6">
            <label class="form-label">Previous PF<span class="required">*</span></label>
            <input class="form-control" name="previousPF" formControlName="previousPF" type="text"
              onkeypress="return /[0-9]/i.test(event.key)" maxlength="12" placeholder="56987"
              [ngClass]="{ 'is-invalid': submitted && g.previousPF.errors }" autocomplete="none|false|no">
            <div *ngIf="submitted && g.previousPF.errors" class="invalid-feedback">
              <div *ngIf="g.previousPF.errors.required">Previous PF is required
              </div>
            </div>
          </div>
          <div class="form-group form-group-vertical col-xs-12  col-sm-6">
            <label class="form-label">Tax Deducted<span class="required">*</span></label>
            <input class="form-control" name="taxDeducted" formControlName="taxDeducted" type="text"
              onkeypress="return /[0-9]/i.test(event.key)" maxlength="12" placeholder="56987"
              [ngClass]="{ 'is-invalid': submitted && g.taxDeducted.errors }" autocomplete="none|false|no">
            <div *ngIf="submitted && g.taxDeducted.errors" class="invalid-feedback">
              <div *ngIf="g.taxDeducted.errors.required">Tax Deducted is required
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </form>
  <div class="row" style="position: absolute;bottom: 10px;width: 100%;">
    <div class="col-lg-12">
      <div class="text-right">
        <ul class="list-inline">
          <li class="list-inline-item"><button type="button" class="btn upgrade-btn"
              (click)="updatePreviousEmplyment()"> <i class="mdi mdi-database-plus  m-r-xs"></i>
              Update Now
            </button></li>
        </ul>
      </div>
    </div>
  </div>

</nz-drawer>

<nz-drawer [nzVisible]="deduction_sliderVisible" [nzWidth]="840" nzTitle="Deductions" (nzOnClose)="close_deduction()">
  <!-- {{employeedetails.FatherName}} -->
  <div>
    <!-- <app-employeedeductionmodal  [id]="Id" [employeeDetails]="employeedetails" [employeeDeductionDetails]=emplolyeeDeduction></app-employeedeductionmodal> -->
  </div>
</nz-drawer>


<div id="popup_viewDocs1" class="modal fade" tabindex="1" role="dialog" data-backdrop="static" data-keyboard="false"
  aria-labelledby="popup_viewDocs1" aria-hidden="true">
  <div style="display: block;" class="modal fade show ">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">

        <div class="modal-header" style="padding: 15px !important;">

          <div class="col-md-8">
            <small class="header-pretitle" style="float: left;width: 100%;"><b style="float: left;">
                Employee Documents</b></small>
            <h6 class="modal-title subheader_h6 text-left" id="popup_release_AL">Preview
            </h6>
          </div>
          <div class="col-md-4" style="top: 13px;">
            <div class="modal-close" (click)="modal_dismiss_docs()" style="margin-top: -15px;"><span
                class="mdi mdi-close pull-left"></span>
            </div>

            <div style="float: right;margin-right: 45px;margin-top: -3px;">
              <app-filedownload [documentId]="documentURLId">
              </app-filedownload>
            </div>

          </div>


        </div>


        <div class="modal-body">
          <div class="iframe-container" *ngIf="documentURL == null"
            style="  border: 1px solid #d3d3d3 !important; border-radius: 1rem;">
            <img src="assets/Images/logo_menu.png" style="opacity: .5;">
            <span>
              <i class="mdi mdi-cached mdi-spin" style="text-align: center;font-weight: 600;font-size: 16px;">
                &nbsp; Please wait...</i>
              <span class="sr-only">Please wait...</span>
            </span>
          </div>
          <div class="iframe-container" *ngIf="documentURL != null"
            style="  border: 1px solid #d3d3d3 !important; border-radius: 1rem;height: 350px;">

            <iframe [src]="documentURL" frameborder="0" scrolling="yes" height="100%"
              style="width: 100%;height: 100%;"></iframe>
            <img style="top: 0 !important; 
              right: 0px !important;
              position: absolute !important;
              z-index: 9;
              height: 55px !important;
              vertical-align: top;
              opacity: inherit;
              bottom: unset !important;
              left: unset !important;" src="../../../../assets/Images/logo_menu.png">
          </div>
        </div>


      </div>
    </div>
  </div>
</div>


<div id="popup_viewDocs" class="modal fade" tabindex="1" role="dialog" data-backdrop="static" data-keyboard="false"
  aria-labelledby="popup_viewDocs" aria-hidden="true">
  <div style="display: block;" class="modal fade show ">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content" *ngIf="!spinner && employeedetails">

        <div class="modal-header" style="padding: 15px !important;">

          <div class="col-md-8">
            <small class="header-pretitle" style="float: left;width: 100%;"><b style="float: left;">
                {{employeedetails.FirstName}} ~ {{employeedetails.Code}}</b></small>
            <h6 class="modal-title subheader_h6 text-left" id="popup_release_AL">Preview
            </h6>
          </div>
          <div class="col-md-4" style="top: 13px;">
            <div class="modal-close" *ngIf="!shouldRendering" (click)="modal_dismiss4()" style="margin-top: -15px;">
              <span class="mdi mdi-close pull-left"></span>
            </div>

            <div style="float: right;margin-right: 45px;margin-top: -3px;">
              <app-filedownload [documentId]="documentURLId">
              </app-filedownload>
            </div>

          </div>

        </div>


        <div class="modal-body">
          <div class="iframe-container" *ngIf="documentURL == null"
            style="  border: 1px solid #d3d3d3 !important; border-radius: 1rem;">
            <img src="assets/Images/logo_menu.png" style="opacity: .5;">
            <span>
              <i class="mdi mdi-cached mdi-spin" style="text-align: center;font-weight: 600;font-size: 16px;">
                &nbsp; Please wait...</i>
              <span class="sr-only">Please wait...</span>
            </span>
          </div>
          <div class="iframe-container" *ngIf="documentURL != null"
            style="  border: 1px solid #d3d3d3 !important; border-radius: 1rem;height: 20rem;">

            <iframe [src]="documentURL" frameborder="0" scrolling="yes" style="width: 100%;height: 100%;"></iframe>
            <img style="top: 0 !important;
              right: 0px !important;
              position: absolute !important;
              z-index: 9;
              height: 55px !important;
              vertical-align: top;
              opacity: inherit;
              bottom: unset !important;
              left: unset !important;" src="../../../../assets/Images/logo_menu.png">
          </div>
        </div>

      </div>
    </div>
  </div>
</div>


<div id="popup_chooseCategory_Exemptions" class="modal fade" tabindex="1" role="dialog" data-backdrop="static"
  data-keyboard="false" aria-labelledby="popup_chooseCategoryExemptions" aria-hidden="true">
  <div style="display: block;" class="modal fade show animated fadeInDownBig">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
            <small class="header-pretitle"><b>Exemptions - Category</b></small>
            <h6 class="modal-title subheader_h6" id="popup_release_AL">{{employeedetails.FirstName}} <span>
                - </span>
              {{employeedetails.Code}} </h6>
          </div>
          <div class="modal-close" (click)="modal_dismiss2('exemptions')" style="margin-top: 5px;"><span
              class="mdi mdi-close pull-left"></span>
          </div>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-xs-12  col-sm-4  p-r-50">
              <img src="assets/Images/designer-life.svg" style="position: absolute; /* bottom: 0px; */
                          height: auto;
                          width: 100%;
                          text-align: center;padding: 55px;">
            </div>
            <div class="col-xs-12  col-sm-8  p-r-50">

              <div class="row" *ngIf="popupTaxBills != null && popupTaxBills.length > 0 ">
                <div class="col-md-3 col-xs-6 mb10 mt10" *ngFor="let category of popupTaxBills"
                  style="margin-bottom:10px" (click)="chooseCategory(category,'exemption')">
                  <a href="javascript:;" style="text-decoration: none !important;">
                    <div style="box-shadow: rgba(0, 0, 0, 0.117647) 0 1px 2px, rgba(0, 0, 0, 0.117647) 0 1px 2px; padding: 3px; height: 137px;text-decoration: none;
                                  border-radius: 10px;
                                  border: 1px solid #f3f2f2;">
                      <img class="aligncenter size-full wp-image-25227 img-responsive" alt="80C" width="50" height="50"
                        src="assets/Images/accounting.png">
                      <p class="mb0 pt5" style="font-size: 11px;margin-bottom: 5px;
                                  color: #4C5656;
                                  margin-top: 5px;
                                  z-index: 1000;
                                  transition: color 0.3s ease-out;
                                  font-weight: 500;
                                  text-align: center;"><b>{{getLetterSpace(category.ProductName)}}</b></p>
                      <p class="mb0 pt5" style="text-align: center; font-size: 10px;" *ngFor="let child of category.b">
                        {{child.Code}}</p>
                    </div>
                  </a>
                </div>
                <p class="center_text" *ngIf="TaxationOtherCategory_Exemption.length == 0">No records
                  found!
                </p>
              </div>
              <br>
              <br>

              <br>

              <p class="center_text" *ngIf="TaxationOtherCategory_Exemption.length == 0">No records
                found!</p>

            </div>
          </div>
        </div>
        <div class="modal-footer">
          <div class="pull-left left-margin-btn">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <div id="update_InstallmentamntPopup" class="modal fade" tabindex="1" role="dialog" data-backdrop="static"
  data-keyboard="false" aria-labelledby="update_deductionamnt" aria-hidden="false">
  <div style="display: block;" class="modal fade show">
      <div class="modal-dialog modal-sm">
          <div class="modal-content">
              <div class="modal-header" style="padding: 15px !important;">
                  <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
                      <small class="header-pretitle"><b>Adjust Installment Amount</b></small>
                      <h3 class="modal-title subheader_h6" id="popup_release_AL">
                      </h3>
                  </div>
                  <div class="modal-close" style="top: 1 !important; right: 10px !important;"
                      (click)="closeupdate_InstallmentamntPopup()">
                      <span class="mdi mdi-close pull-left "></span>
                  </div>
              </div>
              <div class="modal-body" style="overflow-x: hidden;">
                  <div class="row">
                      <div class="col-lg-12">
                          <div class="row mx-0">
                              <div class=" md-form form-group form-group-vertical col-xs-12 col-sm-12">
                                  <label class="form-label ">Installment Amount <span
                                          class="required">*</span></label>
                                  <input type="text" [(ngModel)]="changedInstallAmnt" class="form-control" placeholder="1000" />
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="col-lg-2" style="margin-left: 78%;">
                      <div class="row mx-0">
                          <div>
                              <div class="form-group tw-mb-0" style="margin-top: 10px;">
                                  <div class="tw-w-full tw-px-3">
                                      <button type="submit" (click)="onClickSubmitUpdateInstalmentAmnt(changedInstallAmntObj)"
                                          class="btn btn-primary" style="width:100%;border-radius: 25px;"> Submit
                                      </button>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div> -->