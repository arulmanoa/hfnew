<div class="page-wrapper" style="padding-top: 0px;">
  <div class="page-content">
    
    <app-loading-screen></app-loading-screen>

    <div class="docs-page" *ngIf="!outputPageLayout ">
      <div class="Error full-screen">
        <div><img src="assets/Images/designer-life.svg" style="height: 6rem;"> </div>
        <h1>
          <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status" aria-hidden="true"> </span>
        </h1>
        <p>Please wait while we set things up for you</p>
      </div>
    </div>

    <app-searchbar-view  [Content]="'PayTransaction'" *ngIf="!searchPanel && outputPageLayout && businessType === 3"
    [searchConfiguration]="searchConfiguration" (searchButtonClicked)="onClickingSearchButton($event)"
    [disableSearchButton]="activeTabName == 'Add' ? diableSearchForAdd : disableSearchForProcess"
    (isClose)="isCloseContent($event)">
    </app-searchbar-view>

    <app-searchbar-view  *ngIf="!searchPanel && outputPageLayout && businessType !== 3"
    [searchConfiguration]="searchConfiguration" (searchButtonClicked)="onClickingSearchButton($event)"
    (isClose)="isCloseContent($event)">
    </app-searchbar-view>
<!-- 
    <app-searchbar-view  [Content]="'General'"  *ngIf="activeTabName == 'Process'" 
    [searchConfiguration]="searchConfigurationProcess" (searchButtonClicked)="onClickingProcessOutupSearchButton($event)">
    </app-searchbar-view> -->

    <div class="content m-b report-content animated fadeInDown int-header-content-panel"  *ngIf="searchPanel && businessType === 3" style="margin-top: 10px;">
      <!-- <label class="form-label searchbar-label">Search Criteria</label> -->
      <span class="es-text">
        <span *ngIf="searchObject !== undefined">
          <b> {{searchObject.ClientName}} </b> <span *ngIf="searchObject.ContractName != null"> &nbsp; | &nbsp;
            {{searchObject.ContractName}} </span> <span *ngIf="searchObject.TeamName != null"> &nbsp; | &nbsp;
            {{searchObject.TeamName}}
            | &nbsp; {{searchObject.PayPeriodName}}  </span>
        </span>
        <span *ngIf="searchObject === undefined"> No record were found! Please try after sometimes. </span>
        <button class="btn btn-default btn-bold" style="margin-top: -5px;float: right; margin-left: 20px;"
          (click)="openSearch()" tooltip="Custom filter" data-original-title="" title="">
          <i class="mdi mdi-filter-outline font-size-md" style="margin-right: 5px;"></i>
        </button>
        <!-- <span style="float: right;" *ngIf="searchObject !== undefined">
          <i><b> {{dataset.length}} result(s) found </b></i>
        </span> -->
      </span>
    </div>

    <div class="content m-b report-content animated fadeInDown int-header-content-panel"  *ngIf="searchPanel && businessType !== 3" style="margin-top: 10px;" >
      <!-- <label class="form-label searchbar-label">Search Criteria</label> -->
      <span class="es-text">
        <span *ngIf="searchObject !== undefined">
          <b> <span *ngIf="searchObject.TeamName != null"> {{searchObject.TeamName}} </span> </b>
             <span *ngIf="searchObject.PayPeriodName != null">&nbsp; | &nbsp; {{searchObject.PayPeriodName}} </span>
          <span *ngIf="searchObject === undefined"> No record were found! Please try after sometimes. </span>
        </span>
        <button class="btn btn-default btn-bold" style="margin-top: -5px;float: right; margin-left: 20px;"
          (click)="openSearch()" tooltip="Custom filter" data-original-title="" title="">
          <i class="mdi mdi-filter-outline font-size-md" style="margin-right: 5px;"></i>
        </button>
      </span>
    </div>

    <div class="content m-b report-content " style="margin-top: 10px" *ngIf="searchPanel">
      <ngb-tabset (tabChange)="beforeTabChange($event)" [(activeId)]="activeTabName">
        <ngb-tab id="Add">
          <ng-template ngbTabTitle><i class="fa fa-plus-square-o" aria-hidden="true"></i>&nbsp;&nbsp;Add/Import</ng-template>
          <ng-template ngbTabContent>

            <!-- <div class="row" style="margin-top: 10px">

              <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12">
        
              </div>
              <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
                <div class="text-right">
                  <ul class="list-inline">
        
        
                    <li class="list-inline-item">
                      <button type="button" class="btn upgrade-btn" (click)="add()">
                        <i class="mdi mdi-plus  m-r-xs"></i> Add
                      </button>
                    </li>
        
                  </ul>
                </div>
              </div>
        
            </div> -->

            <div class="text-center ma-5" *ngIf="spinner || diableSearchForAdd">
              <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                  aria-hidden="true"></span>
                Please wait...
              </button>
            </div>

           


            <div class="row" *ngIf="!spinner && !diableSearchForAdd" style="margin-top: 10px ; z-index: -1;">

              <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12">
                <ul class="list-inline">
                 
                  <li class="list-inline-item">
                    <button type="button" class="btn btn-primary" 
                    (click)="onClickingProcessButton()" >
                    <i class="mdi mdi-calculator m-r-xs"></i>Process
                    </button>
                  </li>
                 
                  <li class="list-inline-item">
                    <button type="button" class="btn upgrade-btn" (click)="onClickingAddButton()">
                      <i class="mdi mdi-plus  m-r-xs"></i> Add
                    </button>
                  </li>

                  <li class="list-inline-item">
                    <button type="button" class="btn btn-primary-custom" style="z-index: -1;" (click)="onUploadButtonClicked(); fileInput.click()">
                      <span><i class="mdi mdi-upload m-r-xs"></i>Upload Excel</span>
                      <input #fileInput id="fileUpload" type="file" (change)="handleFileInput($event.target.files)" 
                      style="display:none;">
                    </button>
                    <span>{{file != undefined && file != null  ? file.name : ''}}</span>
                  </li>
                </ul>
              </div>
              <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
                <div class="text-right">
                  <ul class="list-inline">
                                       
        
                    <li class="list-inline-item">
                      <button  class="btn btn-default"
                      (click)="onClickingChooseEmployeeButton()" >
                      <i class="mdi mdi-download m-r-xs"></i>Choose Employee
                      </button>
                    </li>

                            
                  </ul>
                </div>
              </div>
        
            </div>
            <div class="row" *ngIf="!spinner && isAddDuplicateEntry">
              <div class="col-lg-12 text-center">
                <ngb-alert [dismissible]="false">
                  <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                </ngb-alert>
              </div>
            </div>

            <div *ngIf="!spinner && !isAddDuplicateEntry">

            <div style="margin-top: 10px;" *ngIf="!spinner && !diableSearchForAdd">
              <angular-slickgrid  gridId="add" [columnDefinitions]="addColumnDefinition" [gridOptions]="addGridOptions"
              [dataset]="addDataset" gridWidth="100%" 
              (sgOnClick)="onAddCellClicked($event.detail.eventData, $event.detail.args)"
              (sgOnSelectedRowsChanged)="onAddSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
              (onAngularGridCreated)="addAngularGridReady($event)">
              </angular-slickgrid>
            </div>

            </div>

          </ng-template>
        </ngb-tab>
        <ngb-tab id="Process">
          <ng-template ngbTabTitle><i class="fa fa-plus-square-o" aria-hidden="true"></i>&nbsp;&nbsp;Process</ng-template>
          <ng-template ngbTabContent>

            <ngb-tabset (tabChange)="onChange_Processtabset($event)" [(activeId)]="processActiveTabName" 
            style="width: 100%; margin-top: -20px">

              <ngb-tab id="PAYINPUTS" [disabled]="spinner" >
                <ng-template ngbTabTitle>&nbsp;
                  
                  
                  <i class="fa fa-external-link" aria-hidden="true"></i> &nbsp;Input/Output  
                </ng-template>
                <ng-template ngbTabContent>
  
                  <div class="text-center ma-5" *ngIf="spinner">
                    <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                      <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                        aria-hidden="true"></span>
                      Please wait...
                    </button>
                  </div>

             


                  <div class="row" style="margin-bottom: 10px;" *ngIf="!spinner">
  
                    <div class="col-lg-4 col-md-4 col-xs-12 col-xxs-12 col-12 text-left">
                      <div class="text-left">
                        <ul class="list-inline">
                          <li class="list-inline-item"><button 
                            type="button" class="btn btn-primary-custom"
                              (click)="do_process_TimeCard()">
                              <i class="mdi mdi-play  m-r-xs"></i>Process
                            </button></li>

                            <li class="list-inline-item" *ngIf="this.Id != '0'">

                              <button class="btn btn-danger btn-bold"  (click)="void_TimeCard()"
                                tooltip-placement="bottom" data-original-title="" title="">
                                <i class="mdi mdi-cancel font-size-md"></i> Void TimeCard
                              </button>
                            </li>

                        </ul>
                      </div>
                    </div>
  
                    <div class="col-lg-8 col-md-8 col-xs-12 col-xxs-12 col-12 text-right">
                      <div class="text-right">
                        <ul class="list-inline">
                          
                          <li class="list-inline-item" *ngIf="businessType === 3" >
                            <button type="button" class="btn btn-primary-custom" (click)="submitForVerification()">
                              <i class="mdi mdi-checkbox-multiple-marked-outline  m-r-xs"></i> Submit to QC
                            </button>
                          </li>

                          <li class="list-inline-item" *ngIf="businessType === 3">
                            <button type="button" class="btn btn-primary-custom"
                              (click)="do_initiate_Sale_order('PAYINPUTS')">
                              <i class="mdi mdi-tag-plus  m-r-xs"></i> Choose Employees for Pay Run
                            </button>
                          </li>

                          <li class="list-inline-item" *ngIf="businessType !== 3" >
                            <button type="button" class="btn btn-primary-custom" (click)="do_Create_PayRun()">
                              <i class="mdi mdi-checkbox-multiple-marked-outline  m-r-xs"></i> Initiate Pay Run
                            </button>
                          </li>

                          <li class="list-inline-item">
                            <button type="button" tooltip="Refresh Processing Status of records"
                            class="btn btn-primary-custom" (click)="refreshOuputDataset()">
                              <i class="mdi mdi-refresh  m-r-xs"></i>Refresh
                          </button></li>
                         
                        </ul>
                      </div>
                    </div>
  
                  </div>
                  <div class="row" *ngIf="!spinner && isOutputDuplicateEntry">
                    <div class="col-lg-12 text-center">
                      <ngb-alert [dismissible]="false">
                        <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                      </ngb-alert>
                    </div>
                  </div>
      
                  <div *ngIf="!spinner && !isOutputDuplicateEntry">
  
                  <div *ngIf="!spinner">
                    <angular-slickgrid gridId="output" [columnDefinitions]="outputColumnDefinition" [gridOptions]="outputGridOptions"
                      [dataset]="outputDataset" gridWidth="100%"
                      (sgOnSelectedRowsChanged)="onOutputSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                      (sgOnClick)="onOutputCellClicked($event.detail.eventData, $event.detail.args)"
                      (onAngularGridCreated)="outputAngularGridReady($event)">
                    </angular-slickgrid>
                  </div>

                  <div class="row" style="margin-bottom: 10px;" *ngIf="!spinner">

                    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                      <div class="text-left">
                        <ul class="list-inline">
                          <li class="list-inline-item">
                            <button type="button" class="btn btn-default" (click)="downloadPaysheet()">
                              <i class="mdi mdi-download  m-r-xs"></i> Download Paysheet
                            </button>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
                      <div class="text-right">
                        <ul class="list-inline">
      
      
                        </ul>
                      </div>
                    </div>
                  </div>
                  </div>
                  
                </ng-template>
  
  
              </ngb-tab>
              <ngb-tab id="PAYRUN" [disabled]="spinner">
                <ng-template ngbTabTitle>&nbsp; <i class="fa fa-cube" aria-hidden="true"></i> &nbsp; Pay Run
                </ng-template>
                <ng-template ngbTabContent>
  
                  <div class="text-center ma-5" *ngIf="spinner">
                    <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                      <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                        aria-hidden="true"></span>
                      Please wait...
                    </button>
                  </div>
                  

                  <div class="row" style="margin-bottom: 10px;" *ngIf=" !spinner">
  
                    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                      <div class="text-left">
                        <ul class="list-inline">
  
                        </ul>
                      </div>
                    </div>
  
                    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
  
                      <div class="text-right">
                        <ul class="list-inline">
  
                          <li class="list-inline-item"> <button type="button" class="btn btn-primary-custom"
                              (click)="do_initiate_Sale_order('PAYRUN')">
                              <i class="mdi mdi-tag-plus  m-r-xs"></i> Initiate Pay Out
                            </button></li>
  
  
                        </ul>
                      </div>
                    </div>
  
                  </div>
  
                  <div class="row" *ngIf="!spinner && isPayRunDuplicateEntry">
                    <div class="col-lg-12 text-center">
                      <ngb-alert [dismissible]="false">
                        <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                      </ngb-alert>
                    </div>
                  </div>
      
                  <div *ngIf="!spinner && !isPayRunDuplicateEntry">
                  <div *ngIf="!spinner">
                    <angular-slickgrid gridId="payrun" [columnDefinitions]="payrunColumnDefinition" [gridOptions]="payrunGridOptions"
                      [dataset]="payrunDataset" gridWidth="100%"
                      (sgOnSelectedRowsChanged)="onpayrunSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                      (sgOnClick)="onpayrunCellClicked($event.detail.eventData, $event.detail.args)"
                      (onAngularGridCreated)="payrunAngularGridReady($event)">
                    </angular-slickgrid>
                  </div>
                  </div>
                </ng-template>
              </ngb-tab>
              <!-- <ngb-tab id="PAYOUT" [disabled]="spinner">
                <ng-template ngbTabTitle>&nbsp; <i class="fa fa-cube" aria-hidden="true"></i> &nbsp; Pay Out
                </ng-template>
                <ng-template ngbTabContent>
  
                  <div class="text-center ma-5" *ngIf="spinner">
                    <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                      <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                        aria-hidden="true"></span>
                      Please wait...
                    </button>
                  </div>
                  <div class="row" style="margin-bottom: 10px;" *ngIf="!spinner">
  
                    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                      <div class="text-left">
                        <ul class="list-inline">
  
                        </ul>
                      </div>
                    </div>
  
                    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
  
                      <div class="text-right">
                        <ul class="list-inline">
  
                        
  
  
                        </ul>
                      </div>
                    </div>
  
                  </div>
  
  
                  <div *ngIf="!spinner">
                    <angular-slickgrid gridId="grid1" [columnDefinitions]="columnDefinition" [gridOptions]="gridOptions"
                      [dataset]="dataset" gridWidth="100%"
                      (sgOnSelectedRowsChanged)="onSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                      (sgOnClick)="onCellClicked($event.detail.eventData, $event.detail.args)"
                      (onAngularGridCreated)="angularGridReady($event)">
                    </angular-slickgrid>
                  </div>
                </ng-template>
              </ngb-tab> -->
  
            </ngb-tabset>

          </ng-template>
        </ngb-tab>
        <ngb-tab id="History" [disabled]="historyPageLayout === undefined || historyPageLayout === null">
          <ng-template ngbTabTitle><i class="fa fa-plus-square-o" aria-hidden="true"></i>&nbsp;&nbsp;History</ng-template>
          <ng-template ngbTabContent>
            <!-- spinner -->
            <div class="text-center ma-5" *ngIf="spinner">
              <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                <span class="spinner-border spinner-border-sm m-r-10 primary-color" role="status"
                  aria-hidden="true"></span>
                Please wait...
              </button>
            </div>
            <!-- Search Bar -->
            <div  *ngIf="!spinner" style="margin: 10px 0px 20px 0px; padding: 0px 0px 0px 0px; z-index: 100; ">
              <div class="accordion" id="accordionSearch" style="margin-top: 10px;">
                <div class="card-header" id="headingTwo">
                  <h5 class="my-0" style="height:1.5rem;">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#CanCollapse" aria-expanded="false" aria-controls="clientCollapse" style="padding-top: 0px;text-decoration: none;">
                          <p class="card-header-title"> <i class="fa fa-search p-r-10 search-icon"
                                  aria-hidden="true"></i> Search Criteria</p>
                      </button>
                  </h5>
                </div>

                <div id="CanCollapse" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionSearch">
                  <div class="card-body" style="padding-top: 10px; padding-bottom: 15px;">
                    <app-searchbar-view [searchConfiguration]="searchConfigurationForHistroy" Content="General"
                    (searchButtonClicked)="onClickingHistorySearchButton($event)">
                    </app-searchbar-view>
                  </div>
                </div>
              </div>
            </div>

          

            
            <!-- Buttons -->
            <div class="row" style="margin-bottom: 10px;" *ngIf="!spinner">

              <div class="col-lg-4 col-md-4 col-xs-12 col-xxs-12 col-12 text-left">
                <div class="text-left">
                  <ul class="list-inline">

                  </ul>
                </div>
              </div>

              <div class="col-lg-8 col-md-8 col-xs-12 col-xxs-12 col-12 text-right">
                <div class="text-right">
                  <ul class="list-inline">
                  </ul>
                </div>
              </div>

            </div>
            <div class="row" *ngIf="!spinner && isHistoryDuplicateEntry">
              <div class="col-lg-12 text-center">
                <ngb-alert [dismissible]="false">
                  <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                </ngb-alert>
              </div>
            </div>

            <div *ngIf="!spinner && !isHistoryDuplicateEntry">
            <!-- Grid -->
            <div *ngIf="!spinner">
              <angular-slickgrid gridId="output" [columnDefinitions]="historyColumnDefinition" [gridOptions]="historyGridOptions"
                [dataset]="historyDataset" gridWidth="100%"
                (sgOnSelectedRowsChanged)="onHistorySelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                (sgOnClick)="onHistoryCellClicked($event.detail.eventData, $event.detail.args)"
                (onAngularGridCreated)="historyAngularGridReady($event)">
              </angular-slickgrid>
            </div>
          </div>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </div>
</div>


<div id="Download_Template" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="Download_Template" 
  data-backdrop="static"  data-keyboard="false"  aria-hidden="true">
  <div style="display: block;" class="modal fade show animated fadeInDownBig">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11">
            <h6 class="modal-title pull-left" > Choose Employee</h6>
            <div class="modal-close" (click)="modal_dismiss()"><span class="mdi mdi-close pull-left"></span>
            </div>
          </div>
        </div>
        <div class="modal-body" style="min-height: 30rem;">
          <div class="text-center ma-5" *ngIf="spinner">
            <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                <span class="spinner-border spinner-border-sm m-r-10 primary-color"
                    role="status" aria-hidden="true"></span>
                Please wait...
            </button>
          </div>
        
          <!-- <div *ngIf = "!spinner" >
            <app-searchbar-view  Content = "General" [searchConfiguration]="importLayout.CreateExcelConfiguration.SearchConfiguration"
            (searchButtonClicked)="onClickingSearchButton($event)"></app-searchbar-view>
          </div> -->

         
            <!-- Buttons -->
            <div class="row" style="margin-top : 30px">
                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                    <div class="text-left">
                        <ul class="list-inline">
                            <li class="list-inline-item">
                                <button  class="btn btn-default" style="margin-right : 10px"
                                (click)="downloadTemplate()" >
                                <i class="mdi mdi-download m-r-xs"></i>Download Template
                                </button>
                            </li>
                            
                        </ul>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
                  <div class="text-right">
                      <ul class="list-inline">
                        
                        <li class="list-inline-item">
                          <button type="button" class="btn upgrade-btn" [disabled] = "selectedItems?.length > 1"
                          (click)="onClickingAddFromChooseEmployee()">
                            <i class="mdi mdi-plus  m-r-xs"></i> Add
                          </button>
                        </li>
                          
                      </ul>
                  </div>
              </div>
            </div> 
            
            <div class="row" *ngIf="!spinner && isNormalDSDuplicateEntry">
              <div class="col-lg-12 text-center">
                <ngb-alert [dismissible]="false">
                  <strong>The list item could not be displayed or updated because duplicate values were found in the list. Please reach out to your Support Administrator. </strong>
                </ngb-alert>
              </div>
            </div>
  
  
            <div *ngIf="!spinner && !isNormalDSDuplicateEntry">
            <!-- Grids -->
            <div  style="margin-top: 10px;">
                <angular-slickgrid  gridId="chooseEmployee" [columnDefinitions]="columnDefinition" [gridOptions]="gridOptions"
                [dataset]="dataset" gridWidth="100%" 
                (sgOnSelectedRowsChanged)="onSelectedRowsChanged($event.detail.eventData, $event.detail.args)"
                (onAngularGridCreated)="angularGridReady($event)">
                </angular-slickgrid>
            </div>
              
          </div>
        </div>
        <div class="modal-footer" style="padding: 0px;">
          <!-- <button type="button" class="btn upgrade-btn" id="btn_onboarding_submit"
          (click)="proceed()" style="width: 100%;"> <i class="mdi mdi-arrow-right-drop-circle-outline  m-r-xs"></i> PROCEED
          </button> -->

        </div>
      </div>
    </div>
  </div>
</div>

<div id="api_Grid" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="api_Grid"
  aria-hidden="true">
  <div style="display: block;" class="modal fade show">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="padding: 15px !important;">
          <div class="col-xs-11">
            <h6 class="modal-title pull-left" >Result</h6>
            <div class="modal-close" (click)="apiResult_dismiss()"><span class="mdi mdi-close pull-left"></span></div>
          </div>
        </div>
        <div class="modal-body" style="min-height: 30rem;">
          <div class="text-center ma-5" *ngIf="spinner">
            <button class="btn btn-default p-l-30 p-r-30" type="button" disabled>
                <span class="spinner-border spinner-border-sm m-r-10 primary-color"
                    role="status" aria-hidden="true"></span>
                Please wait...
            </button>
          </div>
        
          <!-- <div *ngIf = "!spinner" >
            <app-searchbar-view  Content = "General" [searchConfiguration]="importLayout.CreateExcelConfiguration.SearchConfiguration"
            (searchButtonClicked)="onClickingSearchButton($event)"></app-searchbar-view>
          </div> -->

          <div *ngIf="!spinner">
            <!-- Buttons -->
            <!-- <div class="row" style="margin-top : 30px">
                <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
                    <div class="text-left">
                        <ul class="list-inline">
                            <li class="list-inline-item">
                                <button  class="btn btn-default" style="margin-right : 10px"
                                (click)="downloadTemplate()" >
                                <i class="mdi mdi-download m-r-xs"></i>Download Template
                                </button>
                            </li>
                            
                        </ul>
                    </div>
                </div>
                
            </div>  -->
            
            <!-- Grids -->
            <div  style="margin-top: 10px;">
                <angular-slickgrid  gridId="apiResult" [columnDefinitions]="columnDefinition" [gridOptions]="gridOptions"
                [dataset]="dataset" gridWidth="100%" 
                >
                </angular-slickgrid>
            </div>
              
          </div>
        </div>
      <div class="modal-footer" style="padding: 0px;">
        <!-- <button type="button" class="btn upgrade-btn" id="btn_onboarding_submit"
        (click)="proceed()" style="width: 100%;"> <i class="mdi mdi-arrow-right-drop-circle-outline  m-r-xs"></i> PROCEED
        </button> -->

      </div>
    </div>
  </div>
  </div>
</div>



<div id="popup_chooseCategory" class="modal fade" tabindex="-1" role="dialog"  aria-labelledby="popup_chooseCategory" 
aria-hidden="true">
      <div style="display: block;" class="modal fade show ">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">

            <div class="modal-header" style="padding: 15px !important;">
              <div class="col-xs-11">
                <h6 class="modal-title pull-left" >Push To Queue Result</h6>
                <div class="modal-close" (click)="modal_dismiss_display()"><span class="mdi mdi-close pull-left"></span></div>
              </div>

              <!-- <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
                <small class="header-pretitle"><b>Processing Status (Employee) </b></small>
                <h6 class="modal-title subheader_h6" id="popup_release_AL" >{{ClientName}} <span> - </span>
                  {{ClientContractName}} </h6>
              </div> -->

              <!-- <div class="modal-close" (click)="modal_dismiss_display()" style="margin-top: 5px;"><span
                  class="mdi mdi-close pull-left"></span>
              </div> -->
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-xs-12  col-sm-12  p-r-50">
                  <div class="job-box ">
                    <div class="inbox-message">
                      <ul>
                        <li *ngFor="let i of processedEMP" style="width: 100% !important;">
                          <a href="javascript:;">
                            <div class="message-avatar">
                              <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="">
                            </div>
                            <div class="message-body">
                              <div class="message-body-heading">
                                <h5>{{i.EmployeeName}} - <b *ngIf="i.IsPushedToQueue" style="color: green;">Success</b>
                                  <b style="color: red;" *ngIf="!i.IsPushedToQueue">Failed</b> </h5>
                              </div>
                              <p>{{i.Remarks}}</p>
                            </div>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <div class="modal-footer">
              <div class="pull-left left-margin-btn">


              </div>

            </div>

          </div>
        </div>
      </div>
</div>

<div id="popup_displayResult" class="modal fade" tabindex="-1" role="dialog"  aria-labelledby="popup_displayResult" 
aria-hidden="true">
      <div style="display: block;" class="modal fade show ">
        <div class="modal-dialog modal-lg modal-dialog-centered">
          <div class="modal-content">

            <div class="modal-header" style="padding: 15px !important;">
              <div class="col-xs-11">
                <h6 class="modal-title pull-left" >Result</h6>
                <div class="modal-close" (click)="modal_dismiss_displayResult()"><span class="mdi mdi-close pull-left"></span></div>
              </div>

              <!-- <div class="col-xs-11" style="margin-top: -5px; margin-bottom: -5px;">
                <small class="header-pretitle"><b>Processing Status (Employee) </b></small>
                <h6 class="modal-title subheader_h6" id="popup_release_AL" >{{ClientName}} <span> - </span>
                  {{ClientContractName}} </h6>
              </div> -->

              <!-- <div class="modal-close" (click)="modal_dismiss_display()" style="margin-top: 5px;"><span
                  class="mdi mdi-close pull-left"></span>
              </div> -->
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-xs-12  col-sm-12  p-r-50">
                  <div class="job-box ">
                    <div class="inbox-message">
                      <ul>
                        <li *ngFor="let i of resultList" style="width: 100% !important;">
                          <a href="javascript:;">
                            <div class="message-avatar">
                              <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="">
                            </div>
                            <div class="message-body">
                              <div class="message-body-heading">
                                <h5>{{i.EmployeeName}} - <b *ngIf="i.Status" style="color: green;">Success</b>
                                  <b style="color: red;" *ngIf="!i.Status">Failed</b> </h5>
                              </div>
                              <p>{{i.ErrorMessage}}</p>
                            </div>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <div class="modal-footer">
              <div class="pull-left left-margin-btn">


              </div>

            </div>

          </div>
        </div>
      </div>
</div>




<nz-drawer [nzVisible]="slider" [nzWidth]="840" nzIcon="user" nzTitle="{{isAdd ? 'Add New Adhoc Payment' : 'Edit Adhoc Payment'}}"
  (nzOnClose)="close_slider()" [nzClosable]="!isChanged" >
   
  <div class="row" *ngIf="!addRowRecord">
    <div class="col-6">
      <label class="form-label">Employee Code:</label>
      <input class="form-control" type="text" [(ngModel)]="employeeCode" >

      <button type="button" class="btn btn-default" style="margin-top: 10px;" (click)="onConfirmingEmployeeCode()">
        <i class="mdi mdi-check  m-r-xs"></i>Confirm
      </button>
    </div>
  </div>
    
  <nz-descriptions [nzColumn]="2" *ngIf="addRowRecord">
    
    <nz-descriptions-item nzTitle="Employee Code" [nzSpan]="1">
      {{addRowRecord.EmployeeCode}}
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Employee Name" [nzSpan]="1"><b>{{addRowRecord.EmployeeName}}</b>
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Client" [nzSpan]="2"><b>{{addRowRecord.ClientName}}</b>
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Contract" [nzSpan]="2"><b>{{addRowRecord.ClientContract}}</b></nz-descriptions-item>
    <nz-descriptions-item nzTitle="Team Name" [nzSpan]="2"><b>{{addRowRecord.Team}}</b></nz-descriptions-item>

  </nz-descriptions>
    
  <!-- <nz-table nzSize="small" *ngIf="addRowRecord" [nzData]="addRowRecord.ReimbursementConfiguration.ProductConfigurationList" [nzTemplateMode]="false" [nzShowPagination]=false> 
    <thead>
      <tr>
        <th>Product Name</th>
        <th>Payable Amount</th>
        <th>Billing Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of addRowRecord.ReimbursementConfiguration.ProductConfigurationList"
        [ngStyle]="{'background': item.ProductTypeCode =='Total'  ? '#cbe2f7' : '#FFF' }">
        <td>{{item.DisplayName}}</td>
        <td class="txt-align document_table_validFrom table-td-center">
          <input type="number" max="33333" style="text-align:right" maxlength="12"
          onkeypress="return /^[0-9--]+$/i.test(event.key)" onpaste="return false;" [(ngModel)]="item.PayableAmount"
          (change)="onPayableAmountChange($event , item)"  class="form-control">
        </td>
        <td class="txt-align document_table_validFrom table-td-center">
          <input  type="number" max="33333"  style="text-align:right" maxlength="12" [disabled]="!item.AllowToInputBillableAmount"
          onkeypress="return /^[0-9--]+$/i.test(event.key)" onpaste="return false;" [(ngModel)]="item.BillingAmount"
          (change)="onBillingAmountChange($event , item)"  class="form-control">
        </td>
      </tr>
    </tbody>
  </nz-table> -->
  <nz-divider></nz-divider>
  
  <form [formGroup]="adhocProductForm" *ngIf="addRowRecord">
    <div class="row">
      <div class="form-group form-group-vertical col-xs-12 col-sm-6">
        <label class="form-label">Product</label>
        <ng-select [items]="addRowRecord.AdhocPaymentConfiguration.ProductConfigurationList" placeholder="Select an Option"
          formControlName="ProductConfiguration" [ngClass]="{'ng-touched': submitted && g.ProductConfiguration.invalid }"
          bindLabel="DisplayName">
        </ng-select>
        <div *ngIf="submitted && g.ProductConfiguration.invalid" class="help-block">
          <div *ngIf="g.ProductConfiguration.errors.required">Product is required
          </div>
        </div>
      </div>
      <div class="form-group form-group-vertical col-xs-12 col-sm-6">

      </div>
    </div>
    
      <div class="row" *ngIf="g.ProductConfiguration.value != null">
        <div class="form-group form-group-vertical col-xs-12 col-sm-6">
          <label class="form-label">Payable Amount </label>
          <input class="form-control"  type="text" maxlength="10" 
            name="PayUnitValue" formControlName="PayUnitValue"
            onkeypress="return /^[0-9]+$/i.test(event.key)" 
            [ngClass]="{'is-invalid': submitted && g.PayUnitValue.errors }" placeholder="Enter Amount"
            autocomplete="none|false|no">
          <div *ngIf="submitted && g.PayUnitValue.errors" class="invalid-feedback">
            <div *ngIf="g.PayUnitValue.errors.required">Payable Amount is required
            </div>
          </div>
        </div>
        <div class="form-group form-group-vertical col-xs-12 col-sm-6" *ngIf="g.ProductConfiguration.value.AllowToInputBillableAmount">
          <label class="form-label">Billable Amount </label>
          <input class="form-control"  type="text" maxlength="10" 
            name="BillUnitValue" formControlName="BillUnitValue"
            onkeypress="return /^[0-9]+$/i.test(event.key)" 
            [ngClass]="{'is-invalid': submitted && g.BillUnitValue.errors }" placeholder="Enter Amount"
            autocomplete="none|false|no">
          <div *ngIf="submitted && g.BillUnitValue.errors" class="invalid-feedback">
            <div *ngIf="g.BillUnitValue.errors.required">Billable Amount is required
            </div>
          </div>
        </div>
      </div>
  </form>

  <nz-divider></nz-divider>

    
  <div class="row" style="margin-bottom: 10px;" *ngIf="addRowRecord">

    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
      <div class="text-left">
        <ul class="list-inline">
          <li class="list-inline-item">
         
          </li>
        </ul>
      </div>
    </div>
    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
      <div class="text-right">
        <ul class="list-inline">
          <li class="list-inline-item">
              <button type="button" class="btn btn-primary" (click)="save()">
              <i class="mdi mdi-content-save  m-r-xs"></i> Save
            </button>
          </li>

        </ul>
      </div>
    </div>
  </div>


  
</nz-drawer>


<nz-drawer [nzVisible]="netPaySlider" [nzWidth]="840" nzTitle="Employee Pay Transaction" (nzOnClose)="close_netPaySlider()">
  <nz-descriptions [nzColumn]="2" *ngIf="rowRecord">
    <nz-descriptions-item nzTitle="Employee Name" [nzSpan]="0.5"><b>{{rowRecord.EmployeeName}}</b>
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Employee Code" [nzSpan]="0.5"><b>{{rowRecord.EmployeeCode}}</b>
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="DOJ" [nzSpan]="1"><b>{{rowRecord.DOJ | date: 'MMMM d, y'}}</b>
    </nz-descriptions-item>
    <nz-descriptions-item nzTitle="Pay Period" [nzSpan]="1"><b>{{rowRecord.PayPeriod}}</b></nz-descriptions-item>
    <nz-descriptions-item nzTitle="Team Name" [nzSpan]="0.5"><b>{{rowRecord.TeamName}}</b></nz-descriptions-item>
    <!-- <nz-descriptions-item nzTitle="Payable Days / Workdays" [nzSpan]="0.5"><b> {{rowRecord.Payabledays}} /
        {{rowRecord.Workdays}} </b></nz-descriptions-item> -->

  </nz-descriptions>
  <nz-divider></nz-divider>
  <div *ngIf="Payitems">
    <!-- <nz-divider></nz-divider> -->
    <nz-table nzSize="small" [nzData]="Payitems" [nzTemplateMode]="false" [nzShowPagination]=false>
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Actual Amount</th>
          <th>Earned Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of Payitems"
          [ngStyle]="{'background': data.ProductTypeCode =='Total'  ? '#cbe2f7' : '#FFF' }">
          <td>{{data.ProductDisplayName}}</td>
          <td style="text-align: right !important;">{{data.ActualAmount  | number : '1.2-2'}}</td>
          <td style="text-align: right !important;">{{data.PayTotal  | number : '1.2-2'}}</td>
        </tr>
      </tbody>
    </nz-table>
  </div>
  <nz-divider></nz-divider>

  <div class="row" style="margin-bottom: 10px;" *ngIf="!spinner">

    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-left">
      <div class="text-left">
        <ul class="list-inline">
          <li class="list-inline-item">
            <button type="button" class="btn btn-default" (click)="downloadExcel()">
              <i class="mdi mdi-download  m-r-xs"></i> Download Excel
            </button>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-lg-6 col-md-6 col-xs-12 col-xxs-12 col-12 text-right">
      <div class="text-right">
        <ul class="list-inline">


        </ul>
      </div>
    </div>
  </div>



</nz-drawer>
